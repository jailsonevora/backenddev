<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>C# Archives - Backend-Dev</title>
	<atom:link href="https://jailsonevora.github.io/wordpress/tag/csharp/feed/" rel="self" type="application/rss+xml" />
	<link>https://jailsonevora.github.io/wordpress/tag/csharp/</link>
	<description>Backend development blog</description>
	<lastBuildDate>Wed, 19 Apr 2023 21:22:36 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.2.2</generator>
	<item>
		<title>Invoking Different Secure WCF SOAP Services using SoapUI &#8211; Basic Authentication, Part II</title>
		<link>https://jailsonevora.github.io/wordpress/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/</link>
					<comments>https://jailsonevora.github.io/wordpress/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/#respond</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Tue, 14 Apr 2020 20:19:00 +0000</pubDate>
				<category><![CDATA[Microservices]]></category>
		<category><![CDATA[Service-Oriented Architecture (SOA)]]></category>
		<category><![CDATA[Authentication]]></category>
		<category><![CDATA[C#]]></category>
		<category><![CDATA[Service]]></category>
		<category><![CDATA[SOAP]]></category>
		<category><![CDATA[SoapUI]]></category>
		<category><![CDATA[Testing]]></category>
		<category><![CDATA[WCF]]></category>
		<guid isPermaLink="false">https://www.jeevora.com/?p=1663</guid>

					<description><![CDATA[<p>In the first post of this series, we created a basic authentication service to be invoked using SoapUI. Therefore, in this second post, we will demonstrate step by step how to use this tool to successfully invoke this kind of service. 1-Basic WCF SOAP using SoapUI &#8211; Create a New SOAP project Firstly we need [&#8230;]</p>
<p>The post <a rel="nofollow" href="https://jailsonevora.github.io/wordpress/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/">Invoking Different Secure WCF SOAP Services using SoapUI &#8211; Basic Authentication, Part II</a> appeared first on <a rel="nofollow" href="http://jailsonevora.github.io/wordpress/">Backend-Dev</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-drop-cap has-medium-font-size">In the <a href="https://www.jailsonevora.com/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/" target="_blank" rel="noreferrer noopener">first post</a> of this series, we created a basic authentication service to be invoked using SoapUI. Therefore, in this second post, we will demonstrate step by step how to use this tool to successfully invoke this kind of service.</p>



<h3 class="wp-block-heading">1-Basic WCF SOAP using SoapUI &#8211; Create a New SOAP project</h3>



<p class="has-medium-font-size">Firstly we need to create a SoapUI project and in<strong><em> </em></strong>the <strong><em>&#8220;Initial WSDL&#8221;, </em></strong>add the URL of the WSDL service created in the first post. Also, add your desired project name. A new project is generated with a sample request for the service.</p>



<figure class="wp-block-image size-large"><img decoding="async" width="1024" height="576" src="../wp-content/uploads/2020/04/image-2-1024x576.png" alt="Basic WCF SOAP using SoapUI" class="wp-image-1901" srcset="https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-2-1024x576.png 1024w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-2-300x169.png 300w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-2-768x432.png 768w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-2.png 1366w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure>



<h3 class="wp-block-heading">2-Basic WCF SOAP using SoapUI &#8211; Authentication and Security-related settings tab</h3>



<p class="has-medium-font-size">After create successfully the new SoapUI project, collapse until the request´s endpoint. Now double-click the request or right-click the mouse to open the &#8220;Show Request Editor&#8221;. Navigate to the &#8220;Auth (Basic)&#8221; tab in the bottom corner, surrounded by a green circle.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1366" height="768" src="../wp-content/uploads/2020/03/image-13.png?fit=640%2C360&amp;ssl=1" alt="Basic WCF SOAP using SoapUI" class="wp-image-1684" srcset="https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-13.png 1366w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-13-300x169.png 300w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-13-1024x576.png 1024w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-13-768x432.png 768w" sizes="(max-width: 1366px) 100vw, 1366px" /></figure>



<p class="has-medium-font-size">In the <strong><em>&#8220;Authorization&#8221; </em></strong>dropdown list, select <em><strong>&#8220;Basic&#8221;</strong></em>. It is the same as the service created before. Following, SoapUI shows a form where we can insert the &#8220;Username&#8221; and the &#8220;Password&#8221; service credentials &#8220;AVeryBigSum&#8221;, and <em><strong>&#8220;12345&#8221;</strong></em> respectively.</p>



<h3 class="wp-block-heading"> 3-Basic WCF SOAP using SoapUI &#8211; WS-Addressing related settings tab</h3>



<p class="has-medium-font-size">Navigate to the <em><strong>&#8220;</strong></em><strong><em>WS-A&#8221;</em></strong> Configurations tab, and enable the <a href="https://www.w3.org/Submission/ws-addressing/" target="_blank" rel="noreferrer noopener">WS-A addressing</a>, which defines two interoperable constructs typically provided by transport protocols (<em>endpoint references</em>) and messaging systems (<em>message information headers</em>). These constructs normalize this underlying information into a uniform format that can be processed independently of transport or application.</p>



<p class="has-medium-font-size">To instruct the service to process the crucial element in the header, we need to specify to <strong>TRUE </strong>the <strong><em>&#8220;Must understand&#8221;</em></strong>  configuration. The header contains crucial data to process, and the recipient must process the headers. If the service, can&#8217;t process the header or didn&#8217;t receive the header, an error will be raised.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1366" height="768" src="../wp-content/uploads/2020/03/image-14.png?fit=640%2C360&amp;ssl=1" alt="Basic WCF SOAP using SoapUI" class="wp-image-1686" srcset="https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-14.png 1366w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-14-300x169.png 300w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-14-1024x576.png 1024w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-14-768x432.png 768w" sizes="(max-width: 1366px) 100vw, 1366px" /></figure>



<p class="has-medium-font-size">This tool allows us to enable the <em><strong>&#8220;Add default wsa: </strong></em>To&#8221; and <em><strong>&#8220;Add default wsa: Action&#8221;</strong></em> configurations. The &#8220;Add default wsa: To&#8221; provides the value for the destination property. The default anonymous value for this property is &#8220;http://www.w3.org/2005/08/addressing/anonymous&#8221;. In the above example, the default wsa: Action, wsa: To, and <strong>wsa: MessageId</strong> headers have been enabled, so when we send the request we can see them in the raw request view.</p>



<h3 class="wp-block-heading">4-Secure WCF SOAP using SoapUI &#8211; WS-Reliable message-related settings tab</h3>



<p class="has-medium-font-size">To ensure reliable communication between the two systems we enable the <em><strong>&#8220;WS-Reliable Message&#8221;</strong></em> specification. The aim of this is to ensure that messages are transferred properly from the sender to the receiver in the presence of network failures. As well we select the latest <strong>version </strong>of this specification for this demonstration.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1366" height="768" src="../wp-content/uploads/2020/03/image-15.png?fit=640%2C360&amp;ssl=1" alt="Basic WCF SOAP using SoapUI" class="wp-image-1688" srcset="https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-15.png 1366w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-15-300x169.png 300w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-15-1024x576.png 1024w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-15-768x432.png 768w" sizes="(max-width: 1366px) 100vw, 1366px" /></figure>



<h3 class="wp-block-heading">5- Request properties</h3>



<p class="has-medium-font-size">Finally in the left corner <strong><em>&#8220;Request Properties&#8221;</em></strong> -> <em><strong>WSS-Password Type</strong></em> we select <strong>PasswordText</strong>. WSS-Password Type is a concept that will outline if the password in the XML payload is plain text or digest. For Digest, you can use the Require Ws-Security Password Digest Credentials which is a one-to-one relationship of the user to assertion as we need to know the password. For Plain text, you can use the WS-Security UsernameToken Profile Credentials.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1366" height="768" src="../wp-content/uploads/2020/03/image-16.png?fit=640%2C360&amp;ssl=1" alt="" class="wp-image-1689" srcset="https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-16.png 1366w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-16-300x169.png 300w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-16-1024x576.png 1024w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/03/image-16-768x432.png 768w" sizes="(max-width: 1366px) 100vw, 1366px" /></figure>



<h2 class="wp-block-heading">Conclusion</h2>



<p class="has-medium-font-size">In this post, we demonstrate how to config a SoapUI project to invoke a WCF Basic Authentication service, we used the <a href="https://www.jailsonevora.com/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/" target="_blank" rel="noreferrer noopener">previous </a>secure service created in the first post to serve as a system under test. The sample of both service and the SoapUi project is accessible from the GitHub repository; to download it, please follow this <a href="https://github.com/jailsonevora/invoking-different-secure-wcf-soap-services-using-soapui" target="_blank" rel="noreferrer noopener">link</a>.</p>



<p class="has-medium-font-size">Our last and final demonstration in this series will show how to invoke another WCF service secured by Certificate Authentication.</p>
<p>The post <a rel="nofollow" href="https://jailsonevora.github.io/wordpress/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/">Invoking Different Secure WCF SOAP Services using SoapUI &#8211; Basic Authentication, Part II</a> appeared first on <a rel="nofollow" href="http://jailsonevora.github.io/wordpress/">Backend-Dev</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://jailsonevora.github.io/wordpress/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Invoking Different Secure WCF SOAP Services using SoapUI &#8211; Basic Authentication, Part I</title>
		<link>https://jailsonevora.github.io/wordpress/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/</link>
					<comments>https://jailsonevora.github.io/wordpress/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/#respond</comments>
		
		<dc:creator><![CDATA[admin]]></dc:creator>
		<pubDate>Tue, 31 Mar 2020 22:32:00 +0000</pubDate>
				<category><![CDATA[Microservices]]></category>
		<category><![CDATA[Service-Oriented Architecture (SOA)]]></category>
		<category><![CDATA[Authentication]]></category>
		<category><![CDATA[C#]]></category>
		<category><![CDATA[IIS]]></category>
		<category><![CDATA[Service]]></category>
		<category><![CDATA[SOAP]]></category>
		<category><![CDATA[SoapUI]]></category>
		<category><![CDATA[Testing]]></category>
		<category><![CDATA[WCF]]></category>
		<guid isPermaLink="false">https://www.jeevora.com/?p=1632</guid>

					<description><![CDATA[<p>In this series divided into three-part, I will demonstrate how to use the SoapUI API tool to invoke a secured WCF SOAP service. The first post will focus on creating a service where it will be the system under test. The second post will approach the steps required to invoke it while secured by a [&#8230;]</p>
<p>The post <a rel="nofollow" href="https://jailsonevora.github.io/wordpress/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/">Invoking Different Secure WCF SOAP Services using SoapUI &#8211; Basic Authentication, Part I</a> appeared first on <a rel="nofollow" href="http://jailsonevora.github.io/wordpress/">Backend-Dev</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="has-drop-cap has-medium-font-size">In this series divided into three-part, I will demonstrate how to use the SoapUI API tool to invoke a secured WCF SOAP service. The first post will focus on creating a service where it will be the system under test. The <a href="https://www.jailsonevora.com/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/" target="_blank" rel="noreferrer noopener">second post</a> will approach the steps required to invoke it while secured by a basic authentication mechanism. And in the last part, I will make a slight change to the initial service, allowing it to be guarded by the certificate authentication mechanism. In this same post, I will demonstrate how to invoke it using SoapUI as well.</p>



<h2 class="wp-block-heading">WCF Basic Authentication Service</h2>



<p class="has-medium-font-size">The access to the resource in the service to be implemented in this post is secured using <em><strong>Basic Authentication</strong></em> transport security mechanisms. One of many <a href="https://www.jailsonevora.com/2019/08/18/wcf-transport-security-with-certificate-authentication/" target="_blank" rel="noreferrer noopener">provided </a>by the Windows Communication Foundation. This kind of mechanism is used in conjunction with HTTPS to provide confidentiality. </p>



<p class="has-medium-font-size">This service exposes one endpoint that calculates <strong><em>a very big sum</em></strong>. To get started quickly we will use the default template of the WCF Service Application provided in Visual Studio 2019. </p>



<p class="has-medium-font-size">From Menu File, New, then Project, or click on Start Page to start a new project. Let’s name the solution and the project to <strong>AVeryBigSum_BasicAuthentication</strong>. </p>



<p class="has-medium-font-size">Now you’ll see a couple of files already added to the WCF Service project. We have the option to delete the interface <em>IService1.cs</em> and service <em>Service1.svc</em> file to create new ones. Otherwise, we can rename both files, therefore pay attention to renaming as well as the markup of the Service.svc file, by right click on it -> <em>View Markup</em> and changing to that below.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; title: ; notranslate">
&lt;%@ ServiceHost Language=&quot;C#&quot; Debug=&quot;true&quot; 
Service=&quot;AVeryBigSum_BasicAuthentication.Avbs&quot; CodeBehind=&quot;Avbs.svc.cs&quot; %&gt;
</pre></div>


<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1024" height="576" src="../wp-content/uploads/2020/04/image-5-1024x576.png" alt="Secure WCF SOAP using SoapUI" class="wp-image-1914" srcset="https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-5-1024x576.png 1024w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-5-300x169.png 300w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-5-768x432.png 768w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-5.png 1366w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure>



<p class="has-medium-font-size">After renaming both files, open the IAvbs.cs, copy the following code and add it to the modified interface. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; title: ; notranslate">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using System.ServiceModel;
using System.ServiceModel.Web;
using System.Text;

namespace AVeryBigSum_BasicAuthentication
{
    &#91;ServiceContract]
    public interface IAvbs
    {

        &#91;OperationContract]
        long AVeryBS(long&#91;] ar);
    }
}
</pre></div>


<p class="has-medium-font-size">In case you chose to delete those files you can add a new interface by right-clicking on the project and <em>Add a new item</em>. Select the Interface template and rename it to IAvbs. As well you need to copy the code above and add it to the newly created interface.</p>



<p class="has-medium-font-size">The service implements only one operation defined in the interface contract. To implement it, we need to modify the default file created by VStudio or add a new service class Avbs.svc which will implement the above-defined interface.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; title: ; notranslate">
using System;
/*...*/
namespace AVeryBigSum_BasicAuthentication
{
    public class Avbs : IAvbs
    {
        public long AVeryBS(long&#91;] ar)
        {
            long aVeryBigSum = 0;

            foreach (long i in ar) aVeryBigSum += i;
            
            return aVeryBigSum;
        }
    }
}
</pre></div>


<p class="has-medium-font-size">So far we have defined a service contract, an operation with a sample definition. Now we have to define its endpoints. To add an endpoint, we need to change the configuration file (web.config). Apart from copying and pasting, we need to understand the importance of each of these WCF tags. </p>



<h3 class="wp-block-heading"> 1-Secure WCF SOAP using SoapUI &#8211; AppSettings</h3>



<p class="has-medium-font-size">Hence, let&#8217;s start with the <em>AppSettings </em>element. This element contains custom application settings. The element stores custom application configuration information, such as database connection strings, file paths, XML Web service URLs, or any other custom configuration information for an application.</p>



<p class="has-medium-font-size">We use this element to store the Service´s <em>User </em>and <em>Password </em>credentials. The key/value pairs specified in the element are accessed in code using the ConfigurationSettings library in this way ConfigurationManager.AppSettings[&#8220;AVeryBigSum_User&#8221;].</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate">
&lt;appSettings&gt;
    &lt;add key=&quot;aspnet:UseTaskFriendlySynchronizationContext&quot; value=&quot;true&quot;/&gt;
    &lt;add key=&quot;AVeryBigSum_User&quot; value=&quot;AVeryBigSum&quot;/&gt;
    &lt;add key=&quot;AVeryBigSum_Pass&quot; value=&quot;12345&quot;/&gt;
  &lt;/appSettings&gt;
</pre></div>


<p class="has-medium-font-size">Thus, we can change these credentials without the need to rebuild the dynamic link libraries&nbsp;<strong>file</strong>s (DLL) of our project.</p>



<p class="has-medium-font-size">Despite the advantage of using the element above, all the magic related to the definition of the service happens in the boundaries of the ServiceModel tag.</p>



<h3 class="wp-block-heading">2-Secure WCF SOAP using SoapUI &#8211; Behaviors</h3>



<p class="has-medium-font-size">This tag defines the protocol elements consumed by endpoints and services respectively. The service credentials<em> </em>element is essential to define. It specifies the custom validation mode used in the authentication process. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate">
&lt;behaviors&gt;
      &lt;serviceBehaviors&gt;
        &lt;behavior name=&quot;DebugModeBehavior&quot;&gt;
          &lt;!-- To avoid disclosing metadata information, set the values below to false before deployment --&gt;
          &lt;serviceMetadata httpGetEnabled=&quot;true&quot; httpsGetEnabled=&quot;true&quot;/&gt;
          &lt;!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information --&gt;
          &lt;serviceDebug includeExceptionDetailInFaults=&quot;true&quot;/&gt;
          &lt;!--For UserPass Authentication--&gt;
          &lt;serviceCredentials&gt;
            &lt;userNameAuthentication userNamePasswordValidationMode=&quot;Custom&quot; customUserNamePasswordValidatorType=&quot;AVeryBigSum_BasicAuthentication.ServiceAuthenticator, AVeryBigSum_BasicAuthentication&quot;/&gt;
          &lt;/serviceCredentials&gt;
        &lt;/behavior&gt;
      &lt;/serviceBehaviors&gt;
    &lt;/behaviors&gt;
</pre></div>


<p class="has-medium-font-size"> Inside <i>service credential</i>s, another important property is defined to specify the settings for username and password validation. The <em>userNamePasswordValidationMode </em>property sets how the credential is validated. Our service uses a custom class to validate the credentials. This class <em>AVeryBigSum.ServiceAuthenticator</em> can be found in the AVeryBigSum project.</p>



<h3 class="wp-block-heading">3-Secure WCF SOAP using SoapUI &#8211; Bindings</h3>



<p class="has-medium-font-size"> Each endpoint in a WCF service requires a binding to be well-specified. A binding consists of an ordered stack of binding elements, each of which specifies a part of the communication information required to connect to a service endpoint.</p>



<p class="has-medium-font-size">As we can see we are using WSHttpBinding. It represents an interoperable binding that supports distributed transactions, and secure, reliable sessions. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate">
 &lt;bindings&gt;
      &lt;wsHttpBinding&gt;
        &lt;!-- configure wsHttp binding with Transport security mode and clientCredentialType as Certificate --&gt;
        &lt;binding name=&quot;wsHttpBinding_LargeBinding&quot; closeTimeout=&quot;00:01:00&quot; openTimeout=&quot;00:01:00&quot; receiveTimeout=&quot;00:10:00&quot; sendTimeout=&quot;00:10:00&quot; bypassProxyOnLocal=&quot;false&quot; 
                 transactionFlow=&quot;false&quot; hostNameComparisonMode=&quot;StrongWildcard&quot; maxBufferPoolSize=&quot;250000000&quot; maxReceivedMessageSize=&quot;250000000&quot; messageEncoding=&quot;Text&quot; 
                 textEncoding=&quot;utf-8&quot; useDefaultWebProxy=&quot;true&quot; allowCookies=&quot;false&quot;&gt;
          &lt;readerQuotas maxDepth=&quot;2000000&quot; maxStringContentLength=&quot;2147483647&quot; maxArrayLength=&quot;2147483647&quot; maxBytesPerRead=&quot;2147483647&quot; maxNameTableCharCount=&quot;2147483647&quot;/&gt;
          &lt;reliableSession ordered=&quot;true&quot; inactivityTimeout=&quot;00:10:00&quot; enabled=&quot;false&quot;/&gt;
          &lt;!--For UserPass Authentication--&gt;
          &lt;security mode=&quot;TransportWithMessageCredential&quot;&gt;
            &lt;message clientCredentialType=&quot;UserName&quot; establishSecurityContext=&quot;false&quot;/&gt;
          &lt;/security&gt;
        &lt;/binding&gt;
      &lt;/wsHttpBinding&gt;
    &lt;/bindings&gt;
</pre></div>


<p class="has-medium-font-size"> WSHttpBinding uses the HTTP transport and provides message security, transactions, reliable messaging, and WS-Addressing, either enabled by default or available through a single control setting.</p>



<p class="has-medium-font-size">Inside the WSHttpBinding element, we define the security mode as TransportWithMessageCredential. The transport determines the actual mechanism that provides transport-level security. For HTTP, the mechanism is Secure Sockets Layer (SSL) over HTTP (HTTPS); </p>



<h3 class="wp-block-heading">4-Secure WCF SOAP using SoapUI &#8211; Service</h3>



<p class="has-medium-font-size">Finally, at the service element, we define endpoints, exposing the service metadata. It is useful to publish metadata like Web services Description Language (WSDL) document that describes all methods and data types employed by a service. It will be used by SoapUi in the next post of this saga, to retrieve and invoke all serviceable endpoints.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate">
&lt;services&gt;
      &lt;service behaviorConfiguration=&quot;DebugModeBehavior&quot; name=&quot;AVeryBigSum_BasicAuthentication.Avbs&quot;&gt;
        &lt;endpoint address=&quot;endpointAVeryBigSum_BasicAuthentication&quot; binding=&quot;wsHttpBinding&quot;
          bindingConfiguration=&quot;wsHttpBinding_LargeBinding&quot; name=&quot;EndpointAVeryBigSum_BasicAuthentication&quot;
          contract=&quot;AVeryBigSum_BasicAuthentication.IAvbs&quot; /&gt;
        &lt;endpoint address=&quot;mex&quot; binding=&quot;wsHttpBinding&quot; bindingConfiguration=&quot;wsHttpBinding_LargeBinding&quot;
          name=&quot;mexEndpoint&quot; contract=&quot;IMetadataExchange&quot; /&gt;
      &lt;/service&gt;
    &lt;/services&gt;
</pre></div>


<h3 class="wp-block-heading">5-Secure WCF SOAP using SoapUI &#8211; Custom Validator Class</h3>



<p class="has-medium-font-size">The custom validator extends the UserNamePasswordValidator class and overrides the method <em>Validate. </em>This validator is defined in Service Behaviors as the default Authorization manager, as shown above in the behavior section. This class compares the information received by the client call to those defined in the AppsSetting element.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; title: ; notranslate">
using Microsoft.IdentityModel.Tokens;
using System;
using System.Collections.Generic;
using System.Configuration;
using System.IdentityModel.Selectors;
using System.Linq;
using System.ServiceModel;
using System.Web;
namespace AVeryBigSum_BasicAuthentication
{
    public class ServiceAuthenticator : UserNamePasswordValidator
    {
        public override void Validate(string userName, string password)
        {

            if (string.IsNullOrEmpty(userName) || string.IsNullOrEmpty(password))

                throw new SecurityTokenException(&quot;Username and password required&quot;);

            if (!(userName == ConfigurationManager.AppSettings&#91;&quot;AVeryBigSum_User&quot;] &amp;&amp; password == ConfigurationManager.AppSettings&#91;&quot;AVeryBigSum_Pass&quot;]))

                throw new FaultException(string.Format(&quot;Wrong username ({0}) or password &quot;, userName));

        }
    }
}
</pre></div>


<p class="has-medium-font-size">For this class to work properly, we need to add two external libraries to the project. We can do this by right click on the project -> Manage NuGet Packages, and browsing for <em>Microsoft.IdentityModel.Logging</em> and <em>Microsoft.IdentityModel.Tokens</em> packages and add both.</p>



<p class="has-medium-font-size">Now that we have defined the endpoint, next, we will host the service in the local development server.</p>



<h2 class="wp-block-heading">Deploy and Run the service</h2>



<p class="has-medium-font-size">1 &#8211; To host our service in IIS, right-click on the project and go to <em>Properties</em>. In the properties, the window selects the Web tab.</p>



<p class="has-medium-font-size">2- Now under Servers on Web settings, you’ll see the following details, change the “IIS Express” to “IIS Server”.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1024" height="553" src="../wp-content/uploads/2020/04/image-6-1024x553.png" alt="Secure WCF SOAP using SoapUI" class="wp-image-1916" srcset="https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-6-1024x553.png 1024w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-6-300x162.png 300w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-6-768x415.png 768w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-6.png 1366w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure>



<p class="has-medium-font-size">3 &#8211; Now Click on Create Virtual Directory with Visual Studio running As Administrator. You’ll get a message <em>The Virtual directory was created successfully!</em> Otherwise, you’ll receive an error message and you need to launch Visual Studio again as Administrator.</p>



<p class="has-medium-font-size">Now press F5 and your application will be up and running on the IIS server instead of your IIS Express.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1024" height="665" src="../wp-content/uploads/2020/04/image-7-1024x665.png" alt="Secure WCF SOAP using SoapUI" class="wp-image-1918" srcset="https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-7-1024x665.png 1024w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-7-300x195.png 300w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-7-768x499.png 768w, https://jailsonevora.github.io/wordpress/wp-content/uploads/2020/04/image-7.png 1125w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure>



<h2 class="wp-block-heading">Conclusion</h2>



<p class="has-medium-font-size"> By the end of this demonstration, we have a secure service to be invoked by SoapUI. Our next post will demonstrate step-by-step how to do that.</p>



<p class="has-medium-font-size"> Also, the sample is accessible from the GitHub repository; to download it, please follow this <a href="https://github.com/jailsonevora/invoking-different-secure-wcf-soap-services-using-soapui" target="_blank" rel="noreferrer noopener">link</a>. </p>
<p>The post <a rel="nofollow" href="https://jailsonevora.github.io/wordpress/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/">Invoking Different Secure WCF SOAP Services using SoapUI &#8211; Basic Authentication, Part I</a> appeared first on <a rel="nofollow" href="http://jailsonevora.github.io/wordpress/">Backend-Dev</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://jailsonevora.github.io/wordpress/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>

<!--
Performance optimized by W3 Total Cache. Learn more: https://www.boldgrid.com/w3-total-cache/

Object Caching 38/117 objects using disk
Page Caching using disk: enhanced (Page is feed) 
Content Delivery Network via N/A
Lazy Loading (feed)
Database Caching 7/16 queries in 0.022 seconds using disk

Served from: localhost @ 2023-06-29 22:44:16 by W3 Total Cache
-->