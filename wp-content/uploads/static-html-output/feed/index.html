<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<?xml version="1.0" encoding="UTF-8"?><html><body><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:slash="http://purl.org/rss/1.0/modules/slash/">

<channel>
	<title>Backend-Dev</title>
	<link href="https://jailsonevora.com/feed/" rel="self" type="application/rss+xml">
	<link>https://jailsonevora.com/
	<description></description>
	<lastbuilddate>Wed, 19 Apr 2023 22:05:39 +0000</lastbuilddate>
	<language>en-US</language>
	<updateperiod>
	hourly	</updateperiod>
	<updatefrequency>
	1	</updatefrequency>
	<generator>https://wordpress.org/?v=6.2</generator>
	<item>
		<title>Linear Regression under the hood using Matlab</title>
		<link>https://jailsonevora.com/2020/08/11/linear-regression-under-the-hood-using-matlab/
		
		<creator></creator>
		<pubdate>Tue, 11 Aug 2020 11:00:00 +0000</pubdate>
				<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<guid ispermalink="false">https://www.jeevora.com/?p=1994</guid>

					<description>Sometimes to choose the appropriate model, the right training algorithms, and the hyperparameter to best fit the task, as well as to debug issues and perform error analysis more efficiently, it is necessary to understand what is under the hood. Hence, in this post, we will dissect the implementation of linear regression using Matlab. Linear […]
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2020/08/11/linear-regression-under-the-hood-using-matlab/">Linear Regression under the hood using Matlab</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></description>
										<encoded>Sometimes to choose the appropriate model, the right training algorithms, and the hyperparameter to best fit the task, as well as to debug issues and perform error analysis more efficiently,  it is necessary to understand what is under the hood.



<p class="has-medium-font-size">Hence, in this post, we will dissect the implementation of linear regression using Matlab. Linear regression is known as a statistical algorithm used in machine learning, as a supervised learning technic to predict a real-valued output based on an input value. </p>



<p class="has-medium-font-size">For this analysis, we selected a free and publicly available dataset from a well-known data <a href="http://kaggle.com">source</a>. It contains a house, lot area, year of build, bedroom avg, and many more features. Also, we use vectorization which is more efficient than for loops because of its parallel computation capability.</p>



<h2 class="wp-block-heading">Linear Regression with One Variable</h2>



<p class="has-medium-font-size">It is important to establish the notation for this analysis, where we’ll use \(x^{(i)}\) to denote the input features, and \(y^{(i)}\)<em> </em>to denote the target variable that we are trying to predict from a data set. A pair (\(x^{(i)} , y^{(i)}\)) is the training example. The dataset used to learn as a list of m training examples \({(x^{(i)} , y^{(i)} ); i = 1, . . . , m}\) is a training set. </p>



<p class="has-medium-font-size">Bear in mind that the superscript \({(i)}\) in the notation is an index of the training set instead of the exponentiation. We will also use X to denote the input values and Y as the output values, both as real numbers ℝ.</p>



<figure class="wp-block-image aligncenter size-large is-resized"><img decoding="async" src="../wp-content/uploads/2020/05/image-88.png" alt="" class="wp-image-2393" width="648" height="326" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-88.png 864w,https://jailsonevora.com/wp-content/uploads/2020/05/image-88-300x151.png 300w,https://jailsonevora.com/wp-content/uploads/2020/05/image-88-768x386.png 768w" sizes="(max-width: 648px) 100vw, 648px"><figcaption class="wp-element-caption"><strong>x’s </strong>= input variable; <strong>y’s </strong>= output variable; <strong>m </strong>= # of training examples;</figcaption></figure>



<h3 class="wp-block-heading">Hypothesis and Cost Function (MSE) for <strong>One Feature</strong></h3>



<p class="has-medium-font-size">In supervised learning problems, the goal is, given a training set, to learn the hypothesis \({h: X → Y}\) so that \({h(x)}\) is a valid predictor for the corresponding value of continuous y, known as a regression problem.</p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-66.png" alt="" class="wp-image-2344" width="256" height="70" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-66.png 511w,https://jailsonevora.com/wp-content/uploads/2020/05/image-66-300x82.png 300w" sizes="(max-width: 256px) 100vw, 256px"></figure>



<p class="has-medium-font-size">We can measure the accuracy of our hypothesis by using the “Squared error “/ “Mean squared error” <strong>cost function</strong>. The idea of this function is to choose <strong>$latex \theta_0$</strong> and <strong>$latex \theta_1$</strong> so that <strong>$latex {h_\theta(x)}$</strong> it is close to \({y}\) for the training example, where the value of $latex J(\theta_0, \theta_1)$ will be 0. The MSE is a convex function where we will have only a global optimum in contrast with other functions where we could end in local optima.</p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-67.png" alt="" class="wp-image-2346" width="452" height="88" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-67.png 1192w,https://jailsonevora.com/wp-content/uploads/2020/05/image-67-300x59.png 300w,https://jailsonevora.com/wp-content/uploads/2020/05/image-67-1024x200.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/05/image-67-768x150.png 768w" sizes="(max-width: 452px) 100vw, 452px"></figure>



<p class="has-medium-font-size">Thus as a goal, we should try to minimize the cost function. To implement this cost function in Matlab, first, we need to get the size of the <strong>X</strong> matrix stored in variable <strong>m</strong>. In addition, it is necessary to pass additional hyperparameters. In this case, the <strong>X</strong> corresponds to the matrix containing all features input. </p>



<p class="has-medium-font-size">The <strong>theta </strong>vector is the same size as the number of <strong>X</strong> input features, and finally the vector y correspondent to the labeled output values.</p>



<figure class="wp-block-image aligncenter size-large is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-13.png" alt="Linear Regression - MSE for One Variable" class="wp-image-2016" width="842" height="257" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-13.png 780w,https://jailsonevora.com/wp-content/uploads/2020/05/image-13-300x92.png 300w,https://jailsonevora.com/wp-content/uploads/2020/05/image-13-768x234.png 768w" sizes="(max-width: 842px) 100vw, 842px"></figure>



<p class="has-medium-font-size">Matlab is a computer numerical program, that interprets the operator “*” as the multiplicator for two matrices. So, if we want to multiply a scalar value to a matrix, vector, or another scalar, we need to add a “.*” before each operator as we did in the computation of the exponential of \({(h(x) – y)^2}\), while element-wise multiplication. Also, we can use a series of pre-built functions as we did use the <strong>sum()</strong> function.</p>



<p>  </p>



<h3 class="wp-block-heading">Batch Gradient Descent for One Variable </h3>



<p class="has-medium-font-size">Now with the hypothesis function, we have a way of measuring how well it fits into the data. Therefore, we need to estimate the parameters in the hypothesis function. That’s where gradient descent comes in.</p>



<p class="has-medium-font-size">When specifically applied to the case of linear regression, a new form of the gradient descent equation can be derived. We can substitute our cost function and our hypothesis function and modify the default gradient descent equation to :</p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-68.png" alt="" class="wp-image-2348" width="504" height="175" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-68.png 1150w,https://jailsonevora.com/wp-content/uploads/2020/05/image-68-300x104.png 300w,https://jailsonevora.com/wp-content/uploads/2020/05/image-68-1024x356.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/05/image-68-768x267.png 768w" sizes="(max-width: 504px) 100vw, 504px"></figure>



<p class="has-medium-font-size">where <strong>m</strong> is the size of the training set, <strong>$latex \theta_0$</strong>​ a constant that will be changing simultaneously with <strong>$latex \theta_1$</strong>​ and \(x_{(i)}, y_{(i)}\) ​are values of the given training set.</p>



<p class="has-medium-font-size">If we start with a guessing point for our hypothesis and then repeatedly apply these gradient descent equations, our hypothesis will become more and more accurate. So, this is simply gradient descent on the original cost function $latex J$. This method looks at every example in the entire training set on every step and is called <strong>batch gradient descent</strong>.</p>



<figure class="wp-block-image aligncenter size-large is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-33.png" alt="Linear Regression - Batch Gradient Descent for One Variable" class="wp-image-2237" width="923" height="450" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-33.png 888w,https://jailsonevora.com/wp-content/uploads/2020/05/image-33-300x146.png 300w,https://jailsonevora.com/wp-content/uploads/2020/05/image-33-768x374.png 768w" sizes="(max-width: 923px) 100vw, 923px"></figure>



<p class="has-medium-font-size">To compute the batch gradient descent, some additional useful hyperparameters are needed. Essentially the number of iterations and the learning rate alpha.</p>



<p class="has-medium-font-size">You may want to adjust the number of iterations. Also, with a small learning rate, you should find that gradient descent takes a very long time to converge to the optimal value (underfitting the training set), on the other hand with a large learning rate, gradient descent might not converge or might even diverge (overfitting the training set).</p>



<p class="has-medium-font-size">Also, bear in mind that <strong>theta </strong>should be updated simultaneously after the computation of temporary theta on each iteration.</p>



<h2 class="wp-block-heading">Linear Regression with Multiple Variables</h2>



<p class="has-medium-font-size">Linear regression with multiple variables is also known as multivariate linear regression. For multiple variables, our notation differentiates slightly from the initially presented one. Now we can have any number of input variables.</p>



<figure class="wp-block-image aligncenter size-large is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-87.png" alt="" class="wp-image-2389" width="985" height="433" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-87.png 985w,https://jailsonevora.com/wp-content/uploads/2020/05/image-87-300x132.png 300w,https://jailsonevora.com/wp-content/uploads/2020/05/image-87-768x338.png 768w" sizes="(max-width: 985px) 100vw, 985px"><figcaption class="wp-element-caption">\(x^{(i)}_j\) = value of feature \({j}\) in the \(i^{th}\) training example; \(x^{(i)}\) = the input features of the \(i^{th}\) training example; \(y^{(i)}\) = the output features of the \(i^{th}\) training example; n = the number of features; <strong>m </strong>= # of training examples;</figcaption></figure>



<h3 class="wp-block-heading">Hypothesis and Cost Function (MSE) for Multiple Features</h3>



<p class="has-medium-font-size">Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-69.png" alt="" class="wp-image-2350" width="407" height="114" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-69.png 951w,https://jailsonevora.com/wp-content/uploads/2020/05/image-69-300x84.png 300w,https://jailsonevora.com/wp-content/uploads/2020/05/image-69-768x216.png 768w" sizes="(max-width: 407px) 100vw, 407px"></figure>



<p class="has-medium-font-size">We can think about $latex \theta_0$​ as the basic price of a house, $latex \theta_1$​ as the price per lot area, $latex \theta_2$​ as the price per bedroom…. \({x_1}\) will be the number of lot area in the house, \({x_2}\)​ the number of bedrooms and so on.</p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-70.png" alt="" class="wp-image-2352" width="364" height="81" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-70.png 728w,https://jailsonevora.com/wp-content/uploads/2020/05/image-70-300x66.png 300w" sizes="(max-width: 364px) 100vw, 364px"></figure>



<p class="has-medium-font-size">The vectorized version is:</p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-71.png" alt="" class="wp-image-2353" width="340" height="71" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-71.png 680w,https://jailsonevora.com/wp-content/uploads/2020/05/image-71-300x63.png 300w" sizes="(max-width: 340px) 100vw, 340px"></figure>



<p class="has-medium-font-size">where</p>



<figure class="wp-block-image aligncenter size-large is-resized"><img decoding="async" loading="lazy" src="https://jailsonevora.com/wp-content/uploads/2020/05/image-63.png" alt="" class="wp-image-2319" width="272" height="127"></figure>



<p class="has-medium-font-size">For convenience we assume $latex x_{0}^{(i)} =1 \text{ for } (i\in { 1,\dots, m } )$, allowing us to do matrix operations with $latex \theta$ and \(x\), making the two vectors match each other element-wise.</p>



<figure class="wp-block-image aligncenter size-large is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-83.png" alt="Linear Regression - MSE for Multiple Features" class="wp-image-2374" width="929" height="318" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-83.png 929w,https://jailsonevora.com/wp-content/uploads/2020/05/image-83-300x103.png 300w,https://jailsonevora.com/wp-content/uploads/2020/05/image-83-768x263.png 768w" sizes="(max-width: 929px) 100vw, 929px"></figure>



<p class="has-medium-font-size">As well in the linear regression with one variable, the only difference is the number of the input value features and the number of <strong>theta that is proportional to</strong> the number o feature X matrix.</p>



<p class="has-medium-font-size">Notice too that in the vectorized version of the hypothesis, we need to transport the theta. We did this by inverting the order of the multiplication of X*theta. This is the same as theta’*X since suppose our matrix X is 10×4 and the vector theta must be 4×1. Thus we are multiplying matrices of compatible dimensions where collum X is equal to the row theta.</p>



<h3 class="wp-block-heading">Batch Gradient Descent for Multiple Variables</h3>



<p class="has-medium-font-size">The gradient descent equation for multiple variables is generally the same. We just have to repeat it for our <strong>n </strong>features.</p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-73.png" alt="" class="wp-image-2355" width="477" height="107" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-73.png 1140w,https://jailsonevora.com/wp-content/uploads/2020/05/image-73-300x67.png 300w,https://jailsonevora.com/wp-content/uploads/2020/05/image-73-1024x229.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/05/image-73-768x172.png 768w" sizes="(max-width: 477px) 100vw, 477px"></figure>



<p class="has-medium-font-size">Vectorized matrix notation of the Gradient Descent:</p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-75.png" alt="" class="wp-image-2359" width="232" height="32" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-75.png 464w,https://jailsonevora.com/wp-content/uploads/2020/05/image-75-300x41.png 300w" sizes="(max-width: 232px) 100vw, 232px"></figure>



<p class="has-medium-font-size">It has been proven that if the learning rate α is sufficiently small, then $latex J(\theta_0)$ will decrease on every iteration. For sufficiently small $latex \alpha$, $latex J(\theta)$ should decrease on every interaction otherwise If $latex \alpha$ is too small: gradient descent can slowly converge.</p>



<figure class="wp-block-image aligncenter size-large is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-80.png" alt="Linear Regression - Batch Gradient Descent for Multiple Variables" class="wp-image-2369" width="538" height="268" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-80.png 697w,https://jailsonevora.com/wp-content/uploads/2020/05/image-80-300x150.png 300w" sizes="(max-width: 538px) 100vw, 538px"></figure>



<h3 class="wp-block-heading">Feature Scaling and <strong>Mean Normalization</strong></h3>



<p class="has-medium-font-size">Gradient descent works faster when each of our input values is in roughly the same range. This is because $latex \theta$ will descend quickly on small ranges and slowly on large ranges. </p>



<p class="has-medium-font-size">We can normalize our set using <strong>Feature Scaling. </strong>It<strong> </strong>involves dividing the input values by the range of the input variable, resulting in a new range of just 1.</p>



<p class="has-text-align-center"> −1 ≤ $latex x_{(i)}$ ≤ 1</p>



<p class="has-medium-font-size">Feature scaling can be used with Mean normalization. Mean normalization involves subtracting the average value for an input variable from the values for that input variable resulting in a new average value for the input variable of just zero. </p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-76.png" alt="" class="wp-image-2361" width="224" height="115"></figure>



<p class="has-medium-font-size">To implement both of these techniques, we need to adjust our input values where $latex μ_i$ is the <strong>average</strong> of all the values for feature $latex {(i)}$ and $latex s_i$ is the range of values or the standard deviation.</p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-82.png" alt="Linear Regression - Feature Scaling and Mean Normalization" class="wp-image-2372" width="1053" height="572" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-82.png 1071w,https://jailsonevora.com/wp-content/uploads/2020/05/image-82-300x163.png 300w,https://jailsonevora.com/wp-content/uploads/2020/05/image-82-1024x556.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/05/image-82-768x417.png 768w" sizes="(max-width: 1053px) 100vw, 1053px"></figure>



<p class="has-medium-font-size">To perform these technics, first in MATLAB, we can use the mean and <strong>std</strong> functions to compute the mean and the standard deviation for all the features. The standard deviation is a way of measuring how much variation there is in the range of values of a particular feature. </p>



<h3 class="wp-block-heading">Normal Equation as an alternative to Gradient Descent</h3>



<p class="has-medium-font-size">Gradient descent gives one way of minimizing $latex J$. Another way to do this explicitly and without resorting to an iterative algorithm is by using the “Normal Equation” method. We minimize $latex J$ by explicitly taking its derivatives concerning the $latex \theta_j’s$, and setting them to zero. This allows us to find the optimum theta without iteration:</p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-77.png" alt="" class="wp-image-2363" width="243" height="62" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-77.png 417w,https://jailsonevora.com/wp-content/uploads/2020/05/image-77-300x76.png 300w" sizes="(max-width: 243px) 100vw, 243px"></figure>



<p class="has-medium-font-size">When we are using the standard equation we do not need to do feature scaling. With the standard equation, computing the inversion requires much more big $latex {O}$ time. So if we have a very large number of features, the standard equation will be slow and we should choose the iterative process.</p>



<p class="has-medium-font-size">We can tackle the problem of a non-invertible matrix by using regularization.</p>



<figure class="wp-block-image aligncenter size-large is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2020/05/image-85.png" alt="Linear Regression - Normal Equation" class="wp-image-2379" width="478" height="202" srcset="https://jailsonevora.com/wp-content/uploads/2020/05/image-85.png 402w,https://jailsonevora.com/wp-content/uploads/2020/05/image-85-300x127.png 300w" sizes="(max-width: 478px) 100vw, 478px"></figure>



<p class="has-medium-font-size">Also just for reference,  beyond using the normal equation we can use another more complex and advanced mechanism to minimize $latex J$. These are MATLAB built-in functions called <strong>fminunc </strong>and <strong>fmincg</strong>.</p>



<h2 class="wp-block-heading">Conclusion</h2>



<p class="has-medium-font-size">In this article, we dissected the implementation of linear regression using Matlab since the importance of establishing a notation, and the use o linear regression for one variable, or multiple variables. We also reveal how <strong><em>Bacht Gradient Descent</em></strong> is used to estimate the parameters in the hypothesis function as well as the use of <strong><em>Feature Scaling</em></strong> and <strong><em>Mean Normalization</em></strong> to normalize our input values in roughly the same range.  </p>



<p class="has-medium-font-size">Finally, we examine the use of <strong><em>Normal Equation</em></strong> as an alternative to Gradient Descent as well as a more complex and advanced mechanism like <strong><em>MATLAB </em></strong>built-in function <strong>fminunc </strong>and <strong>fmincg </strong>to minimize<strong> J</strong>. </p>



<p>The sample is accessible from the GitHub repository; to download it, please follow this <a href="https://github.com/jeevora/machine-learning-linear-regression-using-matlab" rel="noreferrer noopener" target="_blank">link</a>.</p>
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2020/08/11/linear-regression-under-the-hood-using-matlab/">Linear Regression under the hood using Matlab</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></encoded>
					
		
		
			</item>
		<item>
		<title>Invoking Different Secure WCF SOAP Services using SoapUI – Basic Authentication, Part II</title>
		<link>https://jailsonevora.com/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/
					<comments>https://jailsonevora.com/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/#respond</comments>
		
		<creator></creator>
		<pubdate>Tue, 14 Apr 2020 20:19:00 +0000</pubdate>
				<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<guid ispermalink="false">https://www.jeevora.com/?p=1663</guid>

					<description>In the first post of this series, we created a basic authentication service to be invoked using SoapUI. Therefore, in this second post, we will demonstrate step by step how to use this tool to successfully invoke this kind of service. 1-Basic WCF SOAP using SoapUI – Create a New SOAP project Firstly we need […]
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/">Invoking Different Secure WCF SOAP Services using SoapUI – Basic Authentication, Part II</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></description>
										<encoded>In the <a href="https://www.jailsonevora.com/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/" target="_blank" rel="noreferrer noopener">first post</a> of this series, we created a basic authentication service to be invoked using SoapUI. Therefore, in this second post, we will demonstrate step by step how to use this tool to successfully invoke this kind of service.



<h3 class="wp-block-heading">1-Basic WCF SOAP using SoapUI – Create a New SOAP project</h3>



<p class="has-medium-font-size">Firstly we need to create a SoapUI project and in<strong><em> </em></strong>the <strong><em>“Initial WSDL”, </em></strong>add the URL of the WSDL service created in the first post. Also, add your desired project name. A new project is generated with a sample request for the service.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1024" height="576" src="../wp-content/uploads/2020/04/image-2-1024x576.png" alt="Basic WCF SOAP using SoapUI" class="wp-image-1901" srcset="https://jailsonevora.com/wp-content/uploads/2020/04/image-2-1024x576.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/04/image-2-300x169.png 300w,https://jailsonevora.com/wp-content/uploads/2020/04/image-2-768x432.png 768w,https://jailsonevora.com/wp-content/uploads/2020/04/image-2.png 1366w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<h3 class="wp-block-heading">2-Basic WCF SOAP using SoapUI – Authentication and Security-related settings tab</h3>



<p class="has-medium-font-size">After create successfully the new SoapUI project, collapse until the request´s endpoint. Now double-click the request or right-click the mouse to open the “Show Request Editor”. Navigate to the “Auth (Basic)” tab in the bottom corner, surrounded by a green circle.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1366" height="768" src="../wp-content/uploads/2020/03/image-13.png?fit=640%2C360&ssl=1" alt="Basic WCF SOAP using SoapUI" class="wp-image-1684" srcset="https://jailsonevora.com/wp-content/uploads/2020/03/image-13.png 1366w,https://jailsonevora.com/wp-content/uploads/2020/03/image-13-300x169.png 300w,https://jailsonevora.com/wp-content/uploads/2020/03/image-13-1024x576.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/03/image-13-768x432.png 768w" sizes="(max-width: 1366px) 100vw, 1366px"></figure>



<p class="has-medium-font-size">In the <strong><em>“Authorization” </em></strong>dropdown list, select <em><strong>“Basic”</strong></em>. It is the same as the service created before. Following, SoapUI shows a form where we can insert the “Username” and the “Password” service credentials “AVeryBigSum”, and <em><strong>“12345”</strong></em> respectively.</p>



<h3 class="wp-block-heading"> 3-Basic WCF SOAP using SoapUI – WS-Addressing related settings tab</h3>



<p class="has-medium-font-size">Navigate to the <em><strong>“</strong></em><strong><em>WS-A”</em></strong> Configurations tab, and enable the <a href="https://www.w3.org/Submission/ws-addressing/" target="_blank" rel="noreferrer noopener">WS-A addressing</a>, which defines two interoperable constructs typically provided by transport protocols (<em>endpoint references</em>) and messaging systems (<em>message information headers</em>). These constructs normalize this underlying information into a uniform format that can be processed independently of transport or application.</p>



<p class="has-medium-font-size">To instruct the service to process the crucial element in the header, we need to specify to <strong>TRUE </strong>the <strong><em>“Must understand”</em></strong>  configuration. The header contains crucial data to process, and the recipient must process the headers. If the service, can’t process the header or didn’t receive the header, an error will be raised.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1366" height="768" src="../wp-content/uploads/2020/03/image-14.png?fit=640%2C360&ssl=1" alt="Basic WCF SOAP using SoapUI" class="wp-image-1686" srcset="https://jailsonevora.com/wp-content/uploads/2020/03/image-14.png 1366w,https://jailsonevora.com/wp-content/uploads/2020/03/image-14-300x169.png 300w,https://jailsonevora.com/wp-content/uploads/2020/03/image-14-1024x576.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/03/image-14-768x432.png 768w" sizes="(max-width: 1366px) 100vw, 1366px"></figure>



<p class="has-medium-font-size">This tool allows us to enable the <em><strong>“Add default wsa: </strong></em>To” and <em><strong>“Add default wsa: Action”</strong></em> configurations. The “Add default wsa: To” provides the value for the destination property. The default anonymous value for this property is “http://www.w3.org/2005/08/addressing/anonymous”. In the above example, the default wsa: Action, wsa: To, and <strong>wsa: MessageId</strong> headers have been enabled, so when we send the request we can see them in the raw request view.</p>



<h3 class="wp-block-heading">4-Secure WCF SOAP using SoapUI – WS-Reliable message-related settings tab</h3>



<p class="has-medium-font-size">To ensure reliable communication between the two systems we enable the <em><strong>“WS-Reliable Message”</strong></em> specification. The aim of this is to ensure that messages are transferred properly from the sender to the receiver in the presence of network failures. As well we select the latest <strong>version </strong>of this specification for this demonstration.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1366" height="768" src="../wp-content/uploads/2020/03/image-15.png?fit=640%2C360&ssl=1" alt="Basic WCF SOAP using SoapUI" class="wp-image-1688" srcset="https://jailsonevora.com/wp-content/uploads/2020/03/image-15.png 1366w,https://jailsonevora.com/wp-content/uploads/2020/03/image-15-300x169.png 300w,https://jailsonevora.com/wp-content/uploads/2020/03/image-15-1024x576.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/03/image-15-768x432.png 768w" sizes="(max-width: 1366px) 100vw, 1366px"></figure>



<h3 class="wp-block-heading">5- Request properties</h3>



<p class="has-medium-font-size">Finally in the left corner <strong><em>“Request Properties”</em></strong> -> <em><strong>WSS-Password Type</strong></em> we select <strong>PasswordText</strong>. WSS-Password Type is a concept that will outline if the password in the XML payload is plain text or digest. For Digest, you can use the Require Ws-Security Password Digest Credentials which is a one-to-one relationship of the user to assertion as we need to know the password. For Plain text, you can use the WS-Security UsernameToken Profile Credentials.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1366" height="768" src="../wp-content/uploads/2020/03/image-16.png?fit=640%2C360&ssl=1" alt="" class="wp-image-1689" srcset="https://jailsonevora.com/wp-content/uploads/2020/03/image-16.png 1366w,https://jailsonevora.com/wp-content/uploads/2020/03/image-16-300x169.png 300w,https://jailsonevora.com/wp-content/uploads/2020/03/image-16-1024x576.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/03/image-16-768x432.png 768w" sizes="(max-width: 1366px) 100vw, 1366px"></figure>



<h2 class="wp-block-heading">Conclusion</h2>



<p class="has-medium-font-size">In this post, we demonstrate how to config a SoapUI project to invoke a WCF Basic Authentication service, we used the <a href="https://www.jailsonevora.com/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/" target="_blank" rel="noreferrer noopener">previous </a>secure service created in the first post to serve as a system under test. The sample of both service and the SoapUi project is accessible from the GitHub repository; to download it, please follow this <a href="https://github.com/jailsonevora/invoking-different-secure-wcf-soap-services-using-soapui" target="_blank" rel="noreferrer noopener">link</a>.</p>



<p class="has-medium-font-size">Our last and final demonstration in this series will show how to invoke another WCF service secured by Certificate Authentication.</p>
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/">Invoking Different Secure WCF SOAP Services using SoapUI – Basic Authentication, Part II</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></encoded>
					
					<commentrss>https://jailsonevora.com/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/feed/</commentrss>
			<comments>0</comments>
		
		
			</item>
		<item>
		<title>Invoking Different Secure WCF SOAP Services using SoapUI – Basic Authentication, Part I</title>
		<link>https://jailsonevora.com/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/
					<comments>https://jailsonevora.com/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/#respond</comments>
		
		<creator></creator>
		<pubdate>Tue, 31 Mar 2020 22:32:00 +0000</pubdate>
				<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<guid ispermalink="false">https://www.jeevora.com/?p=1632</guid>

					<description>In this series divided into three-part, I will demonstrate how to use the SoapUI API tool to invoke a secured WCF SOAP service. The first post will focus on creating a service where it will be the system under test. The second post will approach the steps required to invoke it while secured by a […]
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/">Invoking Different Secure WCF SOAP Services using SoapUI – Basic Authentication, Part I</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></description>
										<encoded>In this series divided into three-part, I will demonstrate how to use the SoapUI API tool to invoke a secured WCF SOAP service. The first post will focus on creating a service where it will be the system under test. The <a href="https://www.jailsonevora.com/2020/04/14/invoking-secure-wcf-soap-service-using-soap-ui-part2/" target="_blank" rel="noreferrer noopener">second post</a> will approach the steps required to invoke it while secured by a basic authentication mechanism. And in the last part, I will make a slight change to the initial service, allowing it to be guarded by the certificate authentication mechanism. In this same post, I will demonstrate how to invoke it using SoapUI as well.



<h2 class="wp-block-heading">WCF Basic Authentication Service</h2>



<p class="has-medium-font-size">The access to the resource in the service to be implemented in this post is secured using <em><strong>Basic Authentication</strong></em> transport security mechanisms. One of many <a href="https://www.jailsonevora.com/2019/08/18/wcf-transport-security-with-certificate-authentication/" target="_blank" rel="noreferrer noopener">provided </a>by the Windows Communication Foundation. This kind of mechanism is used in conjunction with HTTPS to provide confidentiality. </p>



<p class="has-medium-font-size">This service exposes one endpoint that calculates <strong><em>a very big sum</em></strong>. To get started quickly we will use the default template of the WCF Service Application provided in Visual Studio 2019. </p>



<p class="has-medium-font-size">From Menu File, New, then Project, or click on Start Page to start a new project. Let’s name the solution and the project to <strong>AVeryBigSum_BasicAuthentication</strong>. </p>



<p class="has-medium-font-size">Now you’ll see a couple of files already added to the WCF Service project. We have the option to delete the interface <em>IService1.cs</em> and service <em>Service1.svc</em> file to create new ones. Otherwise, we can rename both files, therefore pay attention to renaming as well as the markup of the Service.svc file, by right click on it -> <em>View Markup</em> and changing to that below.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; title: ; notranslate">
<%@ ServiceHost Language="C#" Debug="true" 
Service="AVeryBigSum_BasicAuthentication.Avbs" CodeBehind="Avbs.svc.cs" %>
</pre></div>


<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1024" height="576" src="../wp-content/uploads/2020/04/image-5-1024x576.png" alt="Secure WCF SOAP using SoapUI" class="wp-image-1914" srcset="https://jailsonevora.com/wp-content/uploads/2020/04/image-5-1024x576.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/04/image-5-300x169.png 300w,https://jailsonevora.com/wp-content/uploads/2020/04/image-5-768x432.png 768w,https://jailsonevora.com/wp-content/uploads/2020/04/image-5.png 1366w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p class="has-medium-font-size">After renaming both files, open the IAvbs.cs, copy the following code and add it to the modified interface. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; title: ; notranslate">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using System.ServiceModel;
using System.ServiceModel.Web;
using System.Text;

namespace AVeryBigSum_BasicAuthentication
{
    [ServiceContract]
    public interface IAvbs
    {

        [OperationContract]
        long AVeryBS(long[] ar);
    }
}
</pre></div>


<p class="has-medium-font-size">In case you chose to delete those files you can add a new interface by right-clicking on the project and <em>Add a new item</em>. Select the Interface template and rename it to IAvbs. As well you need to copy the code above and add it to the newly created interface.</p>



<p class="has-medium-font-size">The service implements only one operation defined in the interface contract. To implement it, we need to modify the default file created by VStudio or add a new service class Avbs.svc which will implement the above-defined interface.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; title: ; notranslate">
using System;
/*...*/
namespace AVeryBigSum_BasicAuthentication
{
    public class Avbs : IAvbs
    {
        public long AVeryBS(long[] ar)
        {
            long aVeryBigSum = 0;

            foreach (long i in ar) aVeryBigSum += i;
            
            return aVeryBigSum;
        }
    }
}
</pre></div>


<p class="has-medium-font-size">So far we have defined a service contract, an operation with a sample definition. Now we have to define its endpoints. To add an endpoint, we need to change the configuration file (web.config). Apart from copying and pasting, we need to understand the importance of each of these WCF tags. </p>



<h3 class="wp-block-heading"> 1-Secure WCF SOAP using SoapUI – AppSettings</h3>



<p class="has-medium-font-size">Hence, let’s start with the <em>AppSettings </em>element. This element contains custom application settings. The element stores custom application configuration information, such as database connection strings, file paths, XML Web service URLs, or any other custom configuration information for an application.</p>



<p class="has-medium-font-size">We use this element to store the Service´s <em>User </em>and <em>Password </em>credentials. The key/value pairs specified in the element are accessed in code using the ConfigurationSettings library in this way ConfigurationManager.AppSettings[“AVeryBigSum_User”].</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate">
<appSettings>
    <add key="aspnet:UseTaskFriendlySynchronizationContext" value="true"/>
    <add key="AVeryBigSum_User" value="AVeryBigSum"/>
    <add key="AVeryBigSum_Pass" value="12345"/>
  </appSettings>
</pre></div>


<p class="has-medium-font-size">Thus, we can change these credentials without the need to rebuild the dynamic link libraries <strong>file</strong>s (DLL) of our project.</p>



<p class="has-medium-font-size">Despite the advantage of using the element above, all the magic related to the definition of the service happens in the boundaries of the ServiceModel tag.</p>



<h3 class="wp-block-heading">2-Secure WCF SOAP using SoapUI – Behaviors</h3>



<p class="has-medium-font-size">This tag defines the protocol elements consumed by endpoints and services respectively. The service credentials<em> </em>element is essential to define. It specifies the custom validation mode used in the authentication process. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate">
<behaviors>
      <serviceBehaviors>
        <behavior name="DebugModeBehavior">
          <!-- To avoid disclosing metadata information, set the values below to false before deployment -->
          <serviceMetadata httpGetEnabled="true" httpsGetEnabled="true"/>
          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="true"/>
          <!--For UserPass Authentication-->
          <serviceCredentials>
            <userNameAuthentication userNamePasswordValidationMode="Custom" customUserNamePasswordValidatorType="AVeryBigSum_BasicAuthentication.ServiceAuthenticator, AVeryBigSum_BasicAuthentication"/>
          </serviceCredentials>
        </behavior>
      </serviceBehaviors>
    </behaviors>
</pre></div>


<p class="has-medium-font-size"> Inside <i>service credential</i>s, another important property is defined to specify the settings for username and password validation. The <em>userNamePasswordValidationMode </em>property sets how the credential is validated. Our service uses a custom class to validate the credentials. This class <em>AVeryBigSum.ServiceAuthenticator</em> can be found in the AVeryBigSum project.</p>



<h3 class="wp-block-heading">3-Secure WCF SOAP using SoapUI – Bindings</h3>



<p class="has-medium-font-size"> Each endpoint in a WCF service requires a binding to be well-specified. A binding consists of an ordered stack of binding elements, each of which specifies a part of the communication information required to connect to a service endpoint.</p>



<p class="has-medium-font-size">As we can see we are using WSHttpBinding. It represents an interoperable binding that supports distributed transactions, and secure, reliable sessions. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate">
 <bindings>
      <wsHttpBinding>
        <!-- configure wsHttp binding with Transport security mode and clientCredentialType as Certificate -->
        <binding name="wsHttpBinding_LargeBinding" closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:10:00" bypassProxyOnLocal="false" 
                 transactionFlow="false" hostNameComparisonMode="StrongWildcard" maxBufferPoolSize="250000000" maxReceivedMessageSize="250000000" messageEncoding="Text" 
                 textEncoding="utf-8" useDefaultWebProxy="true" allowCookies="false">
          <readerQuotas maxDepth="2000000" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647"/>
          <reliableSession ordered="true" inactivityTimeout="00:10:00" enabled="false"/>
          <!--For UserPass Authentication-->
          <security mode="TransportWithMessageCredential">
            <message clientCredentialType="UserName" establishSecurityContext="false"/>
          </security>
        </binding>
      </wsHttpBinding>
    </bindings>
</pre></div>


<p class="has-medium-font-size"> WSHttpBinding uses the HTTP transport and provides message security, transactions, reliable messaging, and WS-Addressing, either enabled by default or available through a single control setting.</p>



<p class="has-medium-font-size">Inside the WSHttpBinding element, we define the security mode as TransportWithMessageCredential. The transport determines the actual mechanism that provides transport-level security. For HTTP, the mechanism is Secure Sockets Layer (SSL) over HTTP (HTTPS); </p>



<h3 class="wp-block-heading">4-Secure WCF SOAP using SoapUI – Service</h3>



<p class="has-medium-font-size">Finally, at the service element, we define endpoints, exposing the service metadata. It is useful to publish metadata like Web services Description Language (WSDL) document that describes all methods and data types employed by a service. It will be used by SoapUi in the next post of this saga, to retrieve and invoke all serviceable endpoints.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate">
<services>
      <service behaviorConfiguration="DebugModeBehavior" name="AVeryBigSum_BasicAuthentication.Avbs">
        <endpoint address="endpointAVeryBigSum_BasicAuthentication" binding="wsHttpBinding"
          bindingConfiguration="wsHttpBinding_LargeBinding" name="EndpointAVeryBigSum_BasicAuthentication"
          contract="AVeryBigSum_BasicAuthentication.IAvbs" />
        <endpoint address="mex" binding="wsHttpBinding" bindingConfiguration="wsHttpBinding_LargeBinding"
          name="mexEndpoint" contract="IMetadataExchange" />
      </service>
    </services>
</pre></div>


<h3 class="wp-block-heading">5-Secure WCF SOAP using SoapUI – Custom Validator Class</h3>



<p class="has-medium-font-size">The custom validator extends the UserNamePasswordValidator class and overrides the method <em>Validate. </em>This validator is defined in Service Behaviors as the default Authorization manager, as shown above in the behavior section. This class compares the information received by the client call to those defined in the AppsSetting element.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; title: ; notranslate">
using Microsoft.IdentityModel.Tokens;
using System;
using System.Collections.Generic;
using System.Configuration;
using System.IdentityModel.Selectors;
using System.Linq;
using System.ServiceModel;
using System.Web;
namespace AVeryBigSum_BasicAuthentication
{
    public class ServiceAuthenticator : UserNamePasswordValidator
    {
        public override void Validate(string userName, string password)
        {

            if (string.IsNullOrEmpty(userName) || string.IsNullOrEmpty(password))

                throw new SecurityTokenException("Username and password required");

            if (!(userName == ConfigurationManager.AppSettings["AVeryBigSum_User"] && password == ConfigurationManager.AppSettings["AVeryBigSum_Pass"]))

                throw new FaultException(string.Format("Wrong username ({0}) or password ", userName));

        }
    }
}
</pre></div>


<p class="has-medium-font-size">For this class to work properly, we need to add two external libraries to the project. We can do this by right click on the project -> Manage NuGet Packages, and browsing for <em>Microsoft.IdentityModel.Logging</em> and <em>Microsoft.IdentityModel.Tokens</em> packages and add both.</p>



<p class="has-medium-font-size">Now that we have defined the endpoint, next, we will host the service in the local development server.</p>



<h2 class="wp-block-heading">Deploy and Run the service</h2>



<p class="has-medium-font-size">1 – To host our service in IIS, right-click on the project and go to <em>Properties</em>. In the properties, the window selects the Web tab.</p>



<p class="has-medium-font-size">2- Now under Servers on Web settings, you’ll see the following details, change the “IIS Express” to “IIS Server”.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1024" height="553" src="../wp-content/uploads/2020/04/image-6-1024x553.png" alt="Secure WCF SOAP using SoapUI" class="wp-image-1916" srcset="https://jailsonevora.com/wp-content/uploads/2020/04/image-6-1024x553.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/04/image-6-300x162.png 300w,https://jailsonevora.com/wp-content/uploads/2020/04/image-6-768x415.png 768w,https://jailsonevora.com/wp-content/uploads/2020/04/image-6.png 1366w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p class="has-medium-font-size">3 – Now Click on Create Virtual Directory with Visual Studio running As Administrator. You’ll get a message <em>The Virtual directory was created successfully!</em> Otherwise, you’ll receive an error message and you need to launch Visual Studio again as Administrator.</p>



<p class="has-medium-font-size">Now press F5 and your application will be up and running on the IIS server instead of your IIS Express.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1024" height="665" src="../wp-content/uploads/2020/04/image-7-1024x665.png" alt="Secure WCF SOAP using SoapUI" class="wp-image-1918" srcset="https://jailsonevora.com/wp-content/uploads/2020/04/image-7-1024x665.png 1024w,https://jailsonevora.com/wp-content/uploads/2020/04/image-7-300x195.png 300w,https://jailsonevora.com/wp-content/uploads/2020/04/image-7-768x499.png 768w,https://jailsonevora.com/wp-content/uploads/2020/04/image-7.png 1125w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<h2 class="wp-block-heading">Conclusion</h2>



<p class="has-medium-font-size"> By the end of this demonstration, we have a secure service to be invoked by SoapUI. Our next post will demonstrate step-by-step how to do that.</p>



<p class="has-medium-font-size"> Also, the sample is accessible from the GitHub repository; to download it, please follow this <a href="https://github.com/jailsonevora/invoking-different-secure-wcf-soap-services-using-soapui" target="_blank" rel="noreferrer noopener">link</a>. </p>
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/">Invoking Different Secure WCF SOAP Services using SoapUI – Basic Authentication, Part I</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></encoded>
					
					<commentrss>https://jailsonevora.com/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/feed/</commentrss>
			<comments>0</comments>
		
		
			</item>
		<item>
		<title>Microservices in Publish-Subscribe communication using Apache Kafka as a Messaging Systems and validated through Integration Test.</title>
		<link>https://jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/
					<comments>https://jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/#respond</comments>
		
		<creator></creator>
		<pubdate>Mon, 18 Nov 2019 23:00:00 +0000</pubdate>
				<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<guid ispermalink="false">https://www.jeevora.com/?p=1028</guid>

					<description>Publish-Subscribe Messaging systems play an important role in any enterprise architecture as it enables reliable integration without tightly coupling the applications. The ability to share data between decoupled systems is not a problem that is easily tackled. Consider an enterprise with multiple applications that are being built independently, with different languages and platforms. It needs […]
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/">Microservices in Publish-Subscribe communication using Apache Kafka as a Messaging Systems and validated through Integration Test.</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></description>
										<encoded> Publish-Subscribe Messaging systems play an important role in any enterprise architecture as it enables reliable integration without tightly coupling the applications. The ability to share data between decoupled systems is not a problem that is easily tackled.



<p class="has-medium-font-size"> Consider an enterprise with multiple applications that are being built independently, with different languages and platforms. It needs to share data and processes in a responsive way. We can achieve this using Messaging to transfer packets of data frequently, immediately, reliably, and asynchronously, using customizable formats. Asynchronous messaging is fundamentally a pragmatic reaction to the problems of distributed systems. Sending a message does not require both systems to be up and ready at the same time.</p>



<div style="height:60px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading"> Publish-Subscribe Channel </h2>



<p class="has-medium-font-size">  From a simple perspective, the understanding of this pattern relies on its expands upon the Observer pattern by adding the notion of an event channel for communicating event notifications. The Observer pattern describes the need to decouple observers from their subject so that the subject can easily provide event notification to all interested observers no matter how many observers there are.  </p>



<p class="has-medium-font-size"> Each subscriber needs to be notified of a particular event once, but should not be notified repeatedly of the same event. The event cannot be considered consumed until all of the subscribers have been notified. But once all of the subscribers have been notified, the event can be considered consumed and should disappear from the channel [2]. </p>



<div style="height:64px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Broker, Queues, Topics, and Subscriptions</h2>



<p class="has-medium-font-size">Brokered messaging supports the scenario of truly temporal decoupled systems where either message producer or consumer availability is not guaranteed. With Brokered messaging, the queue is the broker that retains a message created by a producer and where the consumer can retrieve the message when ready. </p>



<p class="has-medium-font-size"> Queue provides the simplest message delivery option. Messages in a Queue are organized by first-in, first-out (FIFO), and each message is expected to be processed by a single consumer. However, Topics and Subscriptions constitute a publish/subscribe pattern allowing the same message to be processed by N number of consumers.</p>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="522" height="192" src="../wp-content/uploads/2019/11/image-4.png" alt="Publish-Subscribe Messaging System" class="wp-image-1374" srcset="https://jailsonevora.com/wp-content/uploads/2019/11/image-4.png 522w,https://jailsonevora.com/wp-content/uploads/2019/11/image-4-300x110.png 300w" sizes="(max-width: 522px) 100vw, 522px"></figure>



<p class="has-medium-font-size"> A single message can be added to a topic and for every subscription rule that is satisfied, a copy of the message will be added to that subscription. In this case, each subscription becomes the queue, where consumers can process the messages on a subscription individually. </p>



<p class="has-medium-font-size">One of the reliable and mature projects that are being utilized by industry leaders is Apache Kafka which provides us the capability to handle a huge number of messages per second, instead of traditional messaging systems that have been quite useful in traditional scenarios but not efficient and valuable in handling Big Data scenarios.</p>



<p class="has-medium-font-size">Beyond messaging, Apache Kafka can be applied in stream processing, website activity tracking, log aggregation, metrics, time-based message storage, commit log, and event sourcing. In the next section, we will cover in deep the components and characteristics of Apache Kafka.</p>



<div style="height:62px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Kafka</h2>



<p class="has-medium-font-size">Kafka is a distributed publish-subscribe messaging system that is fast, scalable, and distributed in nature by its design, partitioned, and replicated commit log service. It differs from a traditional messaging system to be very easy to scale out, offers high throughput, to supports multi-subscribers and automatically balances the consumers during failure, and has the ability to allow real-time applications or ETL to use it as batch consumption of persisted messages on disk.</p>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="563" height="484" src="../wp-content/uploads/2019/11/Kafka-1.png" alt="Publish-Subscribe Messaging System" class="wp-image-1534" srcset="https://jailsonevora.com/wp-content/uploads/2019/11/Kafka-1.png 563w,https://jailsonevora.com/wp-content/uploads/2019/11/Kafka-1-300x258.png 300w" sizes="(max-width: 563px) 100vw, 563px"></figure>



<h3 class="wp-block-heading"> Components [1]  </h3>



<ul>
<li><strong>Producers </strong>– Producers are any applications/programs that publish messages to Kafka brokers.</li>
</ul>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="434" height="259" src="../wp-content/uploads/2019/11/image-2.png" alt="Publish-Subscribe Messaging System" class="wp-image-1365" srcset="https://jailsonevora.com/wp-content/uploads/2019/11/image-2.png 434w,https://jailsonevora.com/wp-content/uploads/2019/11/image-2-300x179.png 300w" sizes="(max-width: 434px) 100vw, 434px"></figure>



<ul>
<li><strong>Consumers </strong>– Consumers are applications that consume messages from Kafka brokers. These consumers can be a simple application, a real-time stream processing engine, etc. </li>
</ul>



<ul>
<li><strong>Topics and Partitions</strong> – Apache Kafka supports the concepts of message Topics that allow categorizing the messages. It enables us to create different Topics for different types of messages and has different consumers consuming messages. Apache Kafka moreover allows creating multiple partitions in a Topic to concede the parallel consumption of messages as we can have separate consumers consuming from different partitions at the same time. Each partition has a leader node that is responsible for accepting the read/write requests from consumers/producers for that partition.</li>
</ul>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="450" height="260" src="../wp-content/uploads/2019/11/image-3.png" alt="Publish-Subscribe Messaging System" class="wp-image-1366" srcset="https://jailsonevora.com/wp-content/uploads/2019/11/image-3.png 450w,https://jailsonevora.com/wp-content/uploads/2019/11/image-3-300x173.png 300w" sizes="(max-width: 450px) 100vw, 450px"></figure>



<ul>
<li><strong>Broker</strong> – Kafka broker typically refers to a machine with Kafka installed on it. However, it is possible to set up more than one broker on a single machine in a non-production setting. The Kafka broker is responsible for managing the message logs and accepting the requests from producers/consumers. Kafka brokers are stateless. This means that the consumer has to maintain how much it has consumed. The consumer maintains it by himself and the broker would not do anything.</li>



<li><strong>Storage </strong>–  Kafka has a very simple storage layout. Each partition of a topic corresponds to a logical log. Physically, a log is implemented as a set of segment files of equal sizes. Every time a producer publishes a message to a partition, the broker simply appends the message to the last segment file. Segment file is flushed to disk after configurable numbers of messages have been published or after a certain amount of time elapsed. Messages are exposed to the consumer after it gets flushed.   </li>



<li><strong>Cluster </strong>– Kafka cluster is a collection of Kafka brokers. All the Kafka brokers in a cluster work collectively to manage the messages and their copies as configured.</li>
</ul>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="527" height="266" src="../wp-content/uploads/2019/11/image-1.png" alt="Publish-Subscribe Messaging System" class="wp-image-1364" srcset="https://jailsonevora.com/wp-content/uploads/2019/11/image-1.png 527w,https://jailsonevora.com/wp-content/uploads/2019/11/image-1-300x151.png 300w" sizes="(max-width: 527px) 100vw, 527px"></figure>



<h3 class="wp-block-heading">Zookeeper </h3>



<p class="has-medium-font-size">ZooKeeper is used to manage and coordinate the Kafka broker. Each Kafka broker is coordinated with other Kafka brokers using ZooKeeper. The producer and consumer are notified by the ZooKeeper service about the presence of a new broker or failure of the broker in the Kafka system. From the notification received by the Zookeeper regarding the presence or failure of the broker, the producer, and consumer takes the decision and start coordinating their work with some other broker.  Also, it is responsible to choose the new leaders for the partitions. </p>



<div style="height:70px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Case Study</h2>



<p class="has-medium-font-size"> After a little state of art lets, focus on practice. So, our case study simulates the communication between two microservices built with Spring Boot micro-framework v2.1.8.RELEASE in publish-subscribe context, using Apache Kafka 2.3.1 as a message system. To validate our study we will be setting and executing an integration test that focuses on integrating different layers of the application at an end to end scenarios with the JUnit 4/5 testing framework.</p>



<figure class="wp-block-image alignleft size-full"><img decoding="async" loading="lazy" width="576" height="391" src="../wp-content/uploads/2019/11/image-13.png" alt="Publish-Subscribe Messaging System" class="wp-image-1492" srcset="https://jailsonevora.com/wp-content/uploads/2019/11/image-13.png 576w,https://jailsonevora.com/wp-content/uploads/2019/11/image-13-300x204.png 300w" sizes="(max-width: 576px) 100vw, 576px"></figure>



<p class="has-medium-font-size">The Producer API is a module that implements the operation for a <a href="https://www.jailsonevora.com/2019/09/16/key-java-annotations-to-build-spring-boot-rest-api/" target="_blank" rel="noreferrer noopener">business entity service</a> with the intention to coordinate and harmonize economic information relating to enterprises, establishments, and groups of entities. The Consumer API is another module in the same solution which aims to centralize all business entity statistics, receiving data input from a different source.</p>



<p class="has-medium-font-size">For the sake of simplicity, the APIs use the H2 in-memory database. The project structure is composed of three modules. Both major modules, Producer, and Consumer have a dependency on the Common module, which shares things like error handling and auxiliary classes with the remaining part of the system. </p>



<p class="has-medium-font-size">The sample is accessible from the GitHub repository; to download it, please follow this <a rel="noreferrer noopener" href="https://github.com/JERBEvora/spring-boot-api-communication-through-kafka" target="_blank">link</a>. </p>



<p>Let’s get started.</p>



<div style="height:67px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Integrating Spring Kafka with Apache Kafka Message System</h2>



<p class="has-medium-font-size">The Spring for Apache Kafka project applies core Spring concepts to the development of Kafka-based messaging solutions. It provides a “template” as a high-level abstraction for sending messages. It also provides support for Message-driven POJOs with @KafkaListener annotations and a “listener container”. These libraries promote the use of dependency injection and declarative [3].</p>



<h3 class="wp-block-heading">Producer API</h3>



<p class="has-medium-font-size">We need two steps to config a producer. The first one is the config class where we define the producer Map object, the producer factory, and the Kafka template. The second is respected to the service class when we set the message builder to publish in Kafka broker.</p>



<h4 class="wp-block-heading">Producer Config</h4>



<p class="has-medium-font-size">In the configuration class, the constant  “<em>bootstrapServers”</em> which is the Kafka server is set in application.properties. Using the <a aria-label='@Value("${spring.kafka.bootstrap-servers}") (opens in a new tab)' href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html" target="_blank" rel="noreferrer noopener">@Value(“${spring.kafka.bootstrap-servers}”)</a> annotation indicates a default value expression for the affected argument. </p>



<p class="has-medium-font-size">To create a Kafka producer, we define certain properties that we pass to the constructor of a Kafka producer. In “<em>producerconfigs</em>” @Bean we set the BOOTSTRAP_SERVERS_CONFIG property to the list of broker addresses we defined earlier in application.properties. BOOTSTRAP_SERVERS_CONFIG value is a comma-separated list of host/port pairs that the Producer uses to establish an initial connection to the Kafka cluster.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessEntityManagementSystem;

import ...

@Configuration
public class KafkaProducerConfig {

    @Value("${spring.kafka.bootstrap-servers}")
    private String bootstrapServers;

    @Bean
    public Map<String, Object> producerConfigs() {
        Map<String, Object> props = new HashMap<>();
        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);
        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);
        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);
        return props;
    }

    @Bean
    public ProducerFactory<String, BusinessEntity> producerFactory() {
        return new DefaultKafkaProducerFactory<>(producerConfigs());
    }

    @Bean
    public KafkaTemplate<String, BusinessEntity> kafkaTemplate() {
        return new KafkaTemplate<String, BusinessEntity>(producerFactory());
    }
}
</pre></div>


<p class="has-medium-font-size">The KEY_SERIALIZER_CLASS_CONFIG is a Kafka Serializer class for Kafka record keys that implements the Kafka Serializer interface. Notice that we set this to StringSerializer.class as the message ids. The VALUE_SERIALIZER_CLASS_CONFIG is a Kafka Serializer class that we set it to JsonSerializer.class as the message body.</p>



<p class="has-medium-font-size">To create messages, first, we need to configure a ProducerFactory which sets the strategy for creating Kafka Producer instances. Then we need a KafkaTemplate which wraps a Producer instance and provides convenience methods for sending messages to Kafka topics using our data transfer object “<em>BusinessEntity</em>“.</p>



<h4 class="wp-block-heading">Producer Service</h4>



<p class="has-medium-font-size">In the Kafka Producer Service class, the <a aria-label="@Service (opens in a new tab)" href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Service.html" target="_blank" rel="noreferrer noopener">@Service</a> annotation indicates that the annotated class is a “Service”. In this class we implement the method to send the messages to the Kafka broker, declaring the topic attribute on the header predefined in the application.properties.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessEntityManagementSystem.kafka;

import ...

@Service
public class KafkaProducer {

    @Autowired
    private KafkaTemplate<String, BusinessEntity> kafkaTemplate;

    @Value("${statistics.kafka.topic}")
    String kafkaTopic;

    public void send(BusinessEntity payload) {
        Message<BusinessEntity> message = MessageBuilder
                .withPayload(payload)
                .setHeader(KafkaHeaders.TOPIC, kafkaTopic)
                .build();
        kafkaTemplate.send(message);
    }
}
</pre></div>


<div style="height:50px" aria-hidden="true" class="wp-block-spacer"></div>



<h3 class="wp-block-heading">Consumer API</h3>



<p class="has-medium-font-size">In consumer, we need to add the appropriate Deserializer which can convert JSON byte[] into a Java Object. To set it, we need the class config and the class annotated with @components that will autodetect this class for dependency injection when annotation-based configuration and classpath scanning is used.</p>



<h4 class="wp-block-heading">Consumer Config</h4>



<p class="has-medium-font-size">As well, as we specify the KEY_SERIALIZER_CLASS_CONFIG, and VALUE_SERIALIZER_CLASS_CONFIG to serialize the message published by the producer, we also need to inform the Spring Kafka about constant values for deserialization like KEY_DESERIALIZER_CLASS_CONFIG and  VALUE_DESERIALIZER_CLASS_CONFIG. Beyond the constants referenced above, we specify the GROUP_ID_CONFIG and AUTO_OFFSET_RESET_CONFIG as the earliest, allowing the consumer to read the last inserted message in the broker.</p>



<p class="has-medium-font-size"> To enable Kafka listeners, we use the <a href="https://docs.spring.io/spring-kafka/docs/2.1.2.RELEASE/api/org/springframework/kafka/annotation/EnableKafka.html" target="_blank" rel="noreferrer noopener">@EnableKafka</a> annotation.  These annotated endpoints are created under the covers by an <a aria-label="AbstractListenerContainerFactory (opens in a new tab)" href="https://docs.spring.io/spring-kafka/docs/2.1.2.RELEASE/api/org/springframework/kafka/config/AbstractKafkaListenerContainerFactory.html" target="_blank" rel="noreferrer noopener">AbstractListenerContainerFactory</a>. The KafkaListenerContainerFactory is responsible to create the listener container for a particular endpoint. It enables the detection of <a href="https://docs.spring.io/spring-kafka/docs/2.1.2.RELEASE/api/org/springframework/kafka/annotation/KafkaListener.html">KafkaListener </a>annotations on any Spring-managed bean in the container. </p>



<p class="has-text-align-left has-medium-font-size"> As typical implementations, the <a rel="noreferrer noopener" aria-label="ConcurrentKafkaListenerContainerFactory (opens in a new tab)" href="https://docs.spring.io/spring-kafka/docs/2.1.2.RELEASE/api/org/springframework/kafka/config/ConcurrentKafkaListenerContainerFactory.html" target="_blank">ConcurrentKafkaListenerContainerFactory</a> provides the necessary configuration options that are supported by the underlying <a href="https://docs.spring.io/spring-kafka/docs/2.1.2.RELEASE/api/org/springframework/kafka/listener/MessageListenerContainer.html" target="_blank" rel="noreferrer noopener" aria-label="MessageListenerContainer (opens in a new tab)">MessageListenerContainer</a>.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessStatisticsUnitFiles;

import ...

@Configuration
@EnableKafka
public class KafkaConsumerConfig {

    @Value("${spring.kafka.bootstrap-servers}")
    private String bootstrapServers;

    @Bean
    public Map<String, Object> consumerConfigs() {
        Map<String, Object> props = new HashMap<>();
        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);
        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);
        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);
        props.put(ConsumerConfig.GROUP_ID_CONFIG, "statistics-BusinessStatisticsUnitFiles-group");
        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, "earliest");
        return props;
    }

    @Bean
    public ConsumerFactory<String, BusinessEntity> consumerFactory() {
        return new DefaultKafkaConsumerFactory<>(
                consumerConfigs(),
                new StringDeserializer(),
                new JsonDeserializer<>(BusinessEntity.class, false));
    }

    @Bean
    public ConcurrentKafkaListenerContainerFactory<String, BusinessEntity> kafkaListenerContainerFactory() {
        ConcurrentKafkaListenerContainerFactory<String, BusinessEntity> factory =
                new ConcurrentKafkaListenerContainerFactory<>();
        factory.setConsumerFactory(consumerFactory());
        return factory;
    }
}
</pre></div>


<p class="has-medium-font-size">On the consumer factory, we have the possibility to disable the use of headers. this is achieved now by setting to false the second parameter in <em>new JsonDeserializer<>(BusinessEntity.class, false));</em>. This allows the consumer to trust messages that come from any package.</p>



<h4 class="wp-block-heading">Consumer “Service”</h4>



<p class="has-medium-font-size">For consuming messages, It is necessary to have configured the  ConsumerFactory and a KafkaListenerContainerFactory as we did above. Once these beans are available in the Spring bean factory, POJO-based consumers can be configured using <a href="https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/KafkaListener.html" target="_blank" rel="noreferrer noopener">@KafkaListener</a> annotation.</p>



<p class="has-medium-font-size"><a rel="noreferrer noopener" aria-label="@KafkaHandler (opens in a new tab)" href="https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/KafkaHandler.html" target="_blank">@KafkaHandler </a>also is necessary to mark a method to be the target of a Kafka message listener within a class that is annotated with @KafkaListener. It is important to understand that when a message arrives, the method selected depends on the payload type. The type is matched with a single non-annotated parameter or one that is annotated with @Payload. There must be no ambiguity – the system must be able to select exactly one method based on the payload type.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessStatisticsUnitFiles.kafka;

import ...

@Component
public class KafkaConsumer {

    @Autowired
    IBusinessEntityRepository businessEntityRepository;

    private static final Logger LOG = LoggerFactory.getLogger(BusinessEntity.class);


    @KafkaListener(topics = "${statistics.kafka.topic.create.entity}", groupId = "statistics-BusinessEntityManagementSystem-group")
    @KafkaHandler
    public void receiveCreatedEntity(@Payload BusinessEntity data,
                                    @Headers MessageHeaders headers) {
     businessEntityRepository.save(RetrieveConsumerFromReceivedProducerObject.Binding(new BusinessEntityModel(), data));
    }
}
</pre></div>


<p class="has-medium-font-size">  The <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/messaging/handler/annotation/Payload.html" target="_blank">@Payload</a> annotation binds a method parameter to the payload of a message. It can also be used to associate a payload to a method invocation. The payload may be passed through a <a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/messaging/converter/MessageConverter.html" target="_blank" rel="noreferrer noopener" aria-label="MessageConverter (opens in a new tab)">MessageConverter</a> to convert it from serialized form with a specific MIME type to an Object matching the target method parameter. Our class annotated with <a rel="noreferrer noopener" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/messaging/handler/annotation/Payload.html" target="_blank">@Payload</a> is the <em>“BusinessEntity”</em> DTO.</p>



<p class="has-medium-font-size">Spring Boot also supports retrieval of one or more message headers using the @Headers annotation in the listener. Multiple listeners can be implemented for a topic, each with a different group Id. Furthermore, one consumer can listen to messages from various topics.</p>



<p class="has-medium-font-size">As you may have noticed, we created the topic building with only one partition. However, for a topic with multiple partitions, a <em>@KafkaListener</em> can explicitly subscribe to a particular partition of a topic with an initial offset.</p>



<div style="height:20px" aria-hidden="true" class="wp-block-spacer"></div>



<h3 class="wp-block-heading">Application.properties</h3>



<p class="has-medium-font-size">Last but not least in our configuration, we specify some values related to the behavior of communication between the Producer and Consumer.</p>



<h4 class="wp-block-heading">Producer/ Consumer  </h4>



<p class="has-medium-font-size">On each Producer and Consumer API, we define the Kafka cluster we want our microservices to connect with, using the spring.kafka.bootstrap-servers=localhost:9092. Also, it is necessary to define the topic name to produce and receive messages, the key as well as the group-id.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: r; title: ; notranslate">
...
## Application.properties Kafka config
spring.kafka.bootstrap-servers=localhost:9092
statistics.kafka.topic=test
statistics.kafka.key=test
statistics.kafka.topic.create.entity=test
spring.kafka.producer.group-id=statistics-BusinessStatisticsUnitFiles-group
spring.kafka.template.default-topic=test
...
</pre></div>


<div style="height:59px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Preparing the Kafka and Zookeeper for Integration Test </h2>



<p class="has-medium-font-size">The steps defined below demonstrate how to run and test Kafka on Windows 10 operating system.</p>



<h3 class="wp-block-heading">Download Kafka with embedded Zookeeper</h3>



<ol>
<li>Download the <a rel="noreferrer noopener" href="https://kafka.apache.org/downloads" target="_blank">Kafka binaries</a>. This post is based on Kafka 2.3.1, and hence we assume that you are downloading a 2.3.1 version for Scala 2.12.</li>



<li>Un-zip the <em>kafka_2.12-2.3.1.tgz </em>file.</li>
</ol>



<h3 class="wp-block-heading">Setting zookeeper.properties</h3>



<p class="has-medium-font-size">To make it work, we need to change the Zookeeper data directory location.<br>Open the <em>kafka\config\zookeeper.properties</em> file and change the Zookeeper data /log directory location config to a valid windows directory location.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate">
dataDir=C:\\kafka\\zookeeper-logs
</pre></div>


<h3 class="wp-block-heading">Setting server.properties</h3>



<p class="has-medium-font-size"> We also need to make some changes to the Kafka configurations. Open <em>kafka\config\server.properties</em> and set topic defaults to one. We will be running a single-node, Kafka. Also to prevent Kafka to create unnecessary numbers of offset, we specify the replicas to 1. We faced this issue on the windows environment with the latest Kafka 2.3.1 version. This led Kafka to stop because of insufficient memory to handle a bunch of data created automatically on the initial phase of starting the server.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate">
############################# Log Basics #############################

log.dirs=C:\\kafka\\kafka-logs

####################### Internal Topic Settings  #####################

offsets.topic.replication.factor=1
offsets.topic.num.partitions = 1 
min.insync.replicas=1 
default.replication.factor = 1
...
</pre></div>


<p class="has-medium-font-size">To finish the Kafka configuration, add Kafka <em>bin\windows</em> directory to the PATH environment variable.</p>



<div style="height:42px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Create and Executing Integration Test</h2>



<p class="has-medium-font-size">As the name suggests, integration tests focus on integrating different layers of the application, where no mocking is involved. The integration tests need to start up a container to execute the test cases. Hence, some additional setup is required for this, but with spring boot these steps are easy using some annotations and libraries.</p>



<h3 class="wp-block-heading">Test Class</h3>



<p class="has-medium-font-size">The first annotation @RunWith(SpringRunner.class) is used to provide a bridge between Spring Boot test features and JUnit. SpringRunner.class enables full support of spring context loading and dependency injection of the beans in the tests. <a aria-label="@SpringBootTest (opens in a new tab)" href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html" target="_blank" rel="noreferrer noopener">@SpringBootTest</a> creates ApplicationContext tests through SpringApplication that will be utilized in our tests. It bootstraps the entire container from the embedded server and creates a web environment.</p>



<p class="has-medium-font-size">In our test, we are mimicking the real web environment setting it as RANDOM_PORT that also loads WebServerApplicationContext. The embedded server is started and listened to on a random port.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
@RunWith(SpringRunner.class)
@SpringBootTest(classes = {BusinessEntityManagementApplication.class}, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
class BusinessEntityIntegrationTest {

    @LocalServerPort
    private int port;

    @Autowired
    TestRestTemplate restTemplate;
    HttpHeaders headers = new HttpHeaders();
</pre></div>


<p class="has-medium-font-size"><a aria-label="@LocalServerPort (opens in a new tab)" href="https://docs.spring.io/spring-boot/docs/2.0.0.RC1/api/org/springframework/boot/web/server/LocalServerPort.html" target="_blank" rel="noreferrer noopener">@LocalServerPort</a> annotation provides us with the injected HTTP port that got allocated at runtime. It is a convenient alternative for <code>@Value("${local.server.port}")</code>. </p>



<p class="has-medium-font-size">To access a third-party REST service inside a Spring application we use the Spring <strong><a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html" target="_blank" rel="noreferrer noopener">RestTemplate</a></strong> or <a aria-label=" (opens in a new tab)" href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/web/client/TestRestTemplate.html" target="_blank" rel="noreferrer noopener">TestRestTemplate </a>the convenient alternative that is suitable for integration tests by injecting it into our test class. With <strong>spring-boot-starter-test</strong> dependency in our project, we can access to “TestRestTemplate” class in runtime. </p>



<h3 class="wp-block-heading">Test Method</h3>



<p class="has-medium-font-size">In our test method, we are using the “<a aria-label="junit-json-params (opens in a new tab)" href="http://www.joshka.net/junit-json-params/" target="_blank" rel="noreferrer noopener">junit-json-params</a>“, a <a aria-label=" (opens in a new tab)" href="https://junit.org/junit5/docs/current/user-guide/" target="_blank" rel="noreferrer noopener">Junit 5</a> library that provides annotations to load data from JSON Strings or files in parameterized tests. We also annotated the method with <a aria-label="@ParameterizedTest (opens in a new tab)" href="https://junit.org/junit5/docs/5.3.0/api/org/junit/jupiter/params/ParameterizedTest.html" target="_blank" rel="noreferrer noopener">@ParameterizedTest</a> annotation to complement the library below. It is used to signal the annotated method is a parameterized test method. That method must not be private or static. They also must specify at least one <a aria-label=" (opens in a new tab)" href="https://junit.org/junit5/docs/5.3.0/api/org/junit/jupiter/params/provider/ArgumentsProvider.html" target="_blank" rel="noreferrer noopener"><code>ArgumentsProvider</code></a> via <a href="https://junit.org/junit5/docs/5.3.0/api/org/junit/jupiter/params/provider/ArgumentsSource.html"><code>@ArgumentsSource</code></a> or a corresponding composed annotation.</p>



<p class="has-medium-font-size">Our  <a href="https://junit.org/junit5/docs/5.3.0/api/org/junit/jupiter/params/provider/ArgumentsSource.html"><code>@ArgumentsSource</code></a> a JSON file @JsonFileSource(resources = “/business-entity-test-param.json”) is inside the test.resource package.  <code>@JsonFileSource</code> lets you use JSON files from the classpath. It supports single objects, arrays of objects, and JSON primitives. </p>



<p class="has-medium-font-size">The JSON object retrieved from the file is bound to the method params “object” that it is converted to a POJO object, in this case, our entity model.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
    @ParameterizedTest
    @JsonFileSource(resources = "/business-entity-test-param.json")
    @DisplayName("create business entity with json parameter")
    void createBusinessEntity(JsonObject object) throws IOException, URISyntaxException {

        BusinessEntityModel businessEntityModel;
        businessEntityModel = new BusinessEntityModel();

        ObjectMapper mapper = new ObjectMapper();
        businessEntityModel = mapper.readValue(object.toString(), BusinessEntityModel.class);

        HttpEntity<BusinessEntityModel> request = new HttpEntity<>(businessEntityModel, headers);

        try {

            ResponseEntity<String> response = this.restTemplate.postForEntity(createURLWithPort("/api/businessEntityManagementSystem/v1/businessEntity"), request, String.class);
            assertAll(
                    () -> assertThat(response.getStatusCodeValue()).isEqualTo(HttpStatus.CREATED.value()),
                    () -> assertThat(response.getHeaders().getLocation().getPath()).contains("/v1")
            );
        }
        catch(HttpClientErrorException ex) {
            assertAll(
                    () -> Assert.assertEquals(HttpStatus.BAD_REQUEST.value(), ex.getRawStatusCode()),
                    () -> Assert.assertEquals(true, ex.getResponseBodyAsString().contains("Missing request header"))
            );
        }
    }
</pre></div>


<p class="has-medium-font-size">After the arrangement and acts we assert if our call to the rest API returns the desired result. </p>



<h3 class="wp-block-heading">Run Integration Test</h3>



<figure class="wp-block-image alignright size-full"><img decoding="async" loading="lazy" width="738" height="508" src="../wp-content/uploads/2019/11/image-14.png" alt="Intellij Integration test" class="wp-image-1516" srcset="https://jailsonevora.com/wp-content/uploads/2019/11/image-14.png 738w,https://jailsonevora.com/wp-content/uploads/2019/11/image-14-300x207.png 300w" sizes="(max-width: 738px) 100vw, 738px"></figure>



<p class="has-medium-font-size">In our development environment, we need to grant that our Kafka and Zookeeper are up and running in two different consoles as described in the figure. </p>



<p class="has-medium-font-size"> Kafka needs Zookeeper, so we will first start Zookeeper using the below command. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: bash; title: ; notranslate">
c:\kafka>.\bin\windows\zookeeper-server-start.bat .\config\zookeeper.properties
</pre></div>


<p class="has-medium-font-size"> It should start the zookeeper server. Minimize the command window and let the zookeeper run in that window. Start a new command window and start Kafka Broker using the below command.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: bash; title: ; notranslate">
 c:\kafka>.\bin\windows\kafka-server-start.bat .\config\server.properties
</pre></div>


<p>Next, we will run our Consumer API in our IDE or we can also deploy it.</p>



<p class="has-medium-font-size">Finally, we can execute the test class as a JUnit test. It will start the server and deploy the API as it will be done normally. Then It will execute the tests. You can verify the tests in the JUnit tab.</p>



<div style="height:54px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Conclusion</h2>



<p class="has-medium-font-size">In this article, we have seen how we can use the publish-subscribe pattern to share data frequently, immediately, reliably, and asynchronously using customizable formats in a responsive way between two distinct microservices and validate it with an integration test through different layers at an end to end scenario.</p>



<div style="height:59px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">References</h2>



<p>[1] <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://kafka.apache.org/documentation/#uses" target="_blank">Kafka 2.3 Documentation</a>;<br>[2] Gregor Hohpe, Bobby Woolf, Enterprise Integration Patterns Designing, Building, and Deploying Messaging Solutions, 2003;<br>[3] <a rel="noreferrer noopener" aria-label="Spring for Apache Kafka (opens in a new tab)" href="https://spring.io/projects/spring-kafka" target="_blank">Spring for Apache Kafka</a> 2.3.3.</p>
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/">Microservices in Publish-Subscribe communication using Apache Kafka as a Messaging Systems and validated through Integration Test.</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></encoded>
					
					<commentrss>https://jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/feed/</commentrss>
			<comments>0</comments>
		
		
			</item>
		<item>
		<title>Key Java @Annotations to build full Spring Boot Rest API</title>
		<link>https://jailsonevora.com/2019/09/16/key-java-annotations-to-build-spring-boot-rest-api/
					<comments>https://jailsonevora.com/2019/09/16/key-java-annotations-to-build-spring-boot-rest-api/#respond</comments>
		
		<creator></creator>
		<pubdate>Mon, 16 Sep 2019 10:29:31 +0000</pubdate>
				<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<guid ispermalink="false">https://www.jeevora.com/?p=1085</guid>

					<description>This post aims to demonstrate key Java @annotations used to build a functional Spring Boot Rest API. The use of Java annotation gives developers the capability to reduce the code verbosity by a simple annotation. As an example, we can refer to a transaction. By the standard pro-grammatically process with a transaction template, this requires […]
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/09/16/key-java-annotations-to-build-spring-boot-rest-api/">Key Java @Annotations to build full Spring Boot Rest API</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></description>
										<encoded>This post aims to demonstrate key Java @annotations used to build a functional Spring Boot Rest API. The use of Java annotation gives developers the capability to reduce the code verbosity by a simple annotation. As an example, we can refer to a transaction. By the standard pro-grammatically process with a transaction template, this requires a more complex config and boilerplate code to write, while this can be achieved with a simple @Transaction declarative annotation.



<p class="has-medium-font-size">In the Java computer programming language, an annotation is a form of syntactic metadata that can be added to Java source code. Java annotations can also be embedded in and read from Java class files generated by the Java compiler. This allows annotations to be retained by the Java virtual machine at run-time and read via reflection. The support for annotation starts from version 5 allowing different Java frameworks to adopt these resources.</p>



<p class="has-medium-font-size"> Annotation can also be used in REST API. REST stands for Representational State Transfer and it is an architectural style for designing distributed applications. Brought by Roy Fielding in his Ph.D. dissertation where he proposed as its basis, six principles that should be separated between clients and servers; the communication between client and server should be stateless; multiple hierarchical layers can exist between them; the server responses must be declared as cacheable or noncacheable; the uniformity of their interfaces must be based in all interactions between client, server, and intermediary components and finally the clients can extend their functionality by using code on demand.</p>



<div style="height:42px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Case Study</h2>



<p class="has-medium-font-size"> The API is a simple module to implement CRUD operation of Business Entity from a more complex system intended to coordinate and harmonize economic information relating to enterprises, establishments, and groups of entities. For the sake of simplicity, the API uses the H2 in-memory database. </p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2019/09/Component-diagram.png" alt="" class="wp-image-1306" width="519" height="251" srcset="https://jailsonevora.com/wp-content/uploads/2019/09/Component-diagram.png 519w,https://jailsonevora.com/wp-content/uploads/2019/09/Component-diagram-300x145.png 300w" sizes="(max-width: 519px) 100vw, 519px"></figure>



<p class="has-medium-font-size">The project structure is constituted of three modules, but this post will focus on the module to manage entities. That module has a dependency on the Common module, which shares things like error handling and essential useful classes with the remaining part of the whole system.  The sample code is accessible from the GitHub repository, to download it, please follow this <a href="https://github.com/jailsonevora/spring-boot-api-communication-through-kafka" target="_blank" rel="noreferrer noopener">link</a>, let’s get started.</p>



<div style="height:35px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Spring Boot Auto-Configuration</h2>



<p class="has-medium-font-size">The great advantage of Spring Boot is that we can focus on the business rules avoiding some tedious development steps, boilerplate code, and a more complex configuration improving the development and easing the bootstrapping of new spring applications.</p>



<p class="has-medium-font-size">To start the configuration of a new spring boot application, spring initializr creates a simple POJO class to configure the initialization of the application. We have two ways to decorate the configuration. One is using the @SpringBootApplication annotation when we have fewer modules in our solution. If we have a solution with a more complex structure, we need to specify the different paths or the base packages of our modules to the spring boot application initializer class. We can achieve it using @EnableAutoConfiguration and @ComponentScan annotations. @EnableAutoConfiguration instructs spring boot to start adding beans based on classpath settings, other beans, and various property settings, while @ComponentScan allows spring to look for other components, configurations, and services in the package, letting it find the controllers among other components. These two annotations can not be used at the same time with @SpringBootApplication. @SpringBootApplication is a convenience annotation that adds all of them. It is equivalent to using @Configuration, @EnableAutoConfiguration, and @ComponentScan with their default attributes.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessEntityManagementSystem;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.EnableAutoConfiguration;
import org.springframework.boot.autoconfigure.domain.EntityScan;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.data.jpa.repository.config.EnableJpaAuditing;
import org.springframework.data.jpa.repository.config.EnableJpaRepositories;

@EnableAutoConfiguration
@EnableJpaAuditing
@EnableJpaRepositories(basePackages = {"com.BusinessEntityManagementSystem"})
@EntityScan(basePackages = {"com.BusinessEntityManagementSystem"})
@ComponentScan(basePackages = {"com.BusinessEntityManagementSystem"})
@Configuration
public class BusinessEntityManagementApplication {

    public static void main(String[] args) {

        SpringApplication.run(BusinessEntityManagementApplication.class, args);
    }
}
</pre></div>


<p class="has-medium-font-size">Another annotation present in the code snippet is the @EnableJpaAuditing. The auditing allows the system to track and log events related to persistent entities, or entity versioning. Also related to JPA configuration, we have the @EnableJpaRepositories. This annotation enables JPA repositories. It will scan the package of the annotated configuration class for Spring Data repositories by default. Inside this annotation, we specify the base package to be scanned for annotated components. </p>



<p class="has-medium-font-size">To find the JPA entities in the project structure, we must instruct the auto-configuration to scan packages using the <a aria-label="@EntityScan (opens in a new tab)" href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/domain/EntityScan.html" target="_blank" rel="noreferrer noopener">@EntityScan</a>. For a specific scan, we can specify <code><a aria-label=" (opens in a new tab)" href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/domain/EntityScan.html#basePackageClasses--" target="_blank" rel="noreferrer noopener">basePackageClasses()</a></code>, <code><a aria-label=" (opens in a new tab)" href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/domain/EntityScan.html#basePackages--" target="_blank" rel="noreferrer noopener">basePackages()</a></code> or its alias <code><a aria-label=" (opens in a new tab)" href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/domain/EntityScan.html#value--" target="_blank" rel="noreferrer noopener">value()</a></code> to define specific packages to scan. If specific packages are not defined, scanning will occur from the package of the class with this annotation.</p>



<p class="has-medium-font-size">The final annotation in the class created by spring boot initializr is @Configuration. @Configuration tags the class as a source of bean definitions for the application context. This can be applied in any configuration class that we need. </p>



<h3 class="wp-block-heading"> Java @Annotations in Swagger UI Config</h3>



<p class="has-medium-font-size"> Documentation is an important aspect of any project, therefore our Rest API is documented using the Swagger-UI, one of the many standards metadata to do it.  Swagger is a specification and a framework for creating interactive REST API documentation. It enables documentation to be in sync with any changes made to REST services. It also provides a set of tools and SDK generators for generating API client code [2]. </p>



<p class="has-medium-font-size">In the Swagger-UI class configuration, the first annotation to appear is the  @Configuration. As we described above, this indicates to spring boot auto-configuration that a class is a configuration class that may contain bean definitions. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessEntityManagementSystem;

import org.springframework.boot.autoconfigure.EnableAutoConfiguration;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.service.ApiInfo;
import springfox.documentation.service.Contact;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;
import springfox.documentation.swagger2.annotations.EnableSwagger2;

import java.util.Collections;

@Configuration
@EnableSwagger2
@EnableAutoConfiguration
public class SwaggerConfig {
    @Bean
    public Docket api() {
        return new Docket(DocumentationType.SWAGGER_2)
                .select()
                .apis(RequestHandlerSelectors.basePackage("com.BusinessEntityManagementSystem"))
                .paths(PathSelectors.ant("/api/businessEntityManagementSystem/v1/**"))
                .build()
                .apiInfo(metaData());
    }
  	...
</pre></div>


<p class="has-medium-font-size">A specific annotation for Swagger is the <a aria-label="@EnableSwagger2 (opens in a new tab)" href="http://springfox.github.io/springfox/javadoc/2.5.0/springfox/documentation/swagger2/annotations/EnableSwagger2.html" target="_blank" rel="noreferrer noopener">@EnableSwagger2</a>. It indicates that Swagger support should be enabled and to be loaded all required beans defined in see swagger java-config class. This should be applied to a Spring Java config and should have an accompanying @Configuration annotation. The <a aria-label="@Bean (opens in a new tab)" href="https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch02s02.html" target="_blank" rel="noreferrer noopener">@Bean</a> is a method-level annotation and a direct analog of the XML <code><bean/></code> element.</p>



<div style="height:41px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Domain Model</h2>



<p class="has-medium-font-size"> MVC is one of the most important modules of the Spring Framework. It is a common design pattern in UI design. It decouples business logic from UIs by separating the roles of model, view, and controller. The core idea of the MVC pattern is to separate business logic from UIs to allow them to change independently without affecting each other. </p>



<p class="has-medium-font-size">In this design pattern, M stands for Models. The model is responsible for encapsulating application data for views to present. It represents the shape of the data and business logic. Model objects retrieve and store model state in a database. Its models usually consist of domain objects that are processed by the service layer and persisted by the persistence layer.  </p>



<h3 class="wp-block-heading">TYPE Java @Annotations </h3>



<p class="has-medium-font-size"> In the model class, we use @Entity annotation which indicates this class is a JPA entity. JPA will be aware that the POJO class can be stored in the database. If we do not define @Table annotation, spring config will assume that this entity is mapped to a table like the POJO class name. So, in these cases, we can specify the table name using the <em>@Table</em> annotation. </p>



<p class="has-medium-font-size">To handle the problem related to the serialization of the model using Jackson API when the model attributes have a lazy loading defined, we have to tell the serializer to ignore the chain or helpful garbage that Hibernate adds to classes, so it can manage the lazy loading of data by declaring @JsonIgnoreProperties({“hibernateLazyInitializer”, “handler”}) annotation.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessEntityManagementSystem.models;

import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.BusinessEntityManagementSystem.interfaces.models.IBusinessEntityModel;
import org.hibernate.annotations.OnDelete;
import org.hibernate.annotations.OnDeleteAction;

import javax.persistence.*;
import javax.validation.constraints.NotNull;
import javax.validation.constraints.Size;
import java.io.Serializable;
import java.util.HashSet;
import java.util.Set;

@Entity
@Table(name="BEMS_BusinessEntity")
@JsonIgnoreProperties({"hibernateLazyInitializer", "handler"})
public class BusinessEntityModel<IAddressModel extends AddressModel, IPartnerModel extends PartnerModel, IStoreModel extends StoreModel, IAffiliatedCompanyModel extends AffiliatedCompanyModel, IEconomicActivityCodeModel extends EconomicActivityCodeModel> extends AuditModel<String> implements IBusinessEntityModel, Serializable {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    @NotNull
    @Column(name = "ID_BusinessEntity", updatable = false, nullable = false)
    private long id;
  	
...
</pre></div>


<h3 class="wp-block-heading">FIELD Java @Annotations</h3>



<p class="has-medium-font-size">For a class field, there are many kinds of annotations dependent on the type and purpose of that field. For example, the @Id annotation must be declared in one of the class attributes. Every entity object stored in the database has a primary key. Once assigned, the primary key cannot be modified. @GeneratedValue indicates that the framework should generate the document key value using the specified generator type like  AUTO, IDENTITY, SEQUENCE, and TABLE. </p>



<p class="has-medium-font-size">Another interesting annotation targeting the domain model field is @NotNull. It is a common Spring annotation to declare that annotated elements cannot be null.  It can be used as well in a method or parameter. The @Column annotation specifies the name of the database column and also the table behavior. This behavior can be set to prevent it from being updated or to be null.</p>



<p class="has-medium-font-size">Sometimes most objects have a natural identifier, so Hibernate also allows modeling this identifier as a natural identifier of an entity and provides an extra API for retrieving them from the database.  This is achieved using @NaturalId annotation.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
...

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    @NotNull
    @Column(name = "ID_BusinessEntity", updatable = false, nullable = false)
    private long id;

    @NaturalId
    @NotEmpty
    @NotNull
    @Column(name = "NATURAL_ID", updatable = false, nullable = false)
    private long naturalId;

    @Column(name = "TaxId")
    @Size(min = 1, max = 50)
    private String taxId;

    @Column(name = "Status")
    private int status = 1;

...
</pre></div>


<p class="has-medium-font-size">If we want to prevent the element of an entity to be not null nor empty, we can also annotate it with @NotEmpty. It targets a vast kind of element, since {METHOD,FIELD,ANNOTATION_TYPE,CONSTRUCTOR,PARAMETER,TYPE_USE}. The @Size annotation delimits the boundaries of the element annotated. The boundaries are specified by two attributes, min, and max.</p>



<h3 class="wp-block-heading">Relationships Java @Annotations </h3>



<p class="has-medium-font-size">One of the most important features of any ORM mechanism is how one specifies the mapping from relationships between Objects to their database counterparts. In the code below, there is a @OneToOne annotation to describe the relationship between the BusinessEntity class with the Address class model. The @JoinColumn annotation specifies the column that will be treated as a foreign key in this relationship.</p>



<p class="has-medium-font-size">As well, as @OneToOne annotation, we can manage many to many relationships. <a href="https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/ManyToMany.html" target="_blank" rel="noreferrer noopener" aria-label="@ManyToMany (opens in a new tab)">@ManyToMany</a> annotation describes the relationship with members of the Partner class. Like other relationship annotations, it is also possible to specify cascade rules as well as the fetch type. Dependent on the cascade chosen setting, when a BusinessEntity is deleted, the associated Partner will also be deleted.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
...
    // region OneToOne

    @OneToOne(fetch = FetchType.EAGER, cascade =  CascadeType.ALL, targetEntity= AddressModel.class)
    @JoinColumn(name = "Address", nullable = false)
    @OnDelete(action = OnDeleteAction.CASCADE)
    private IAddressModel address;

    // endregion OneToOne


    // region ManyToMany

    @ManyToMany(fetch = FetchType.LAZY,
            cascade = {
                    CascadeType.ALL
            },
            targetEntity= PartnerModel.class
    )
    @JoinTable(name = "BSUF_BusinessEntity_Partner",
            joinColumns = { @JoinColumn(name = "ID_BusinessEntity") },
            inverseJoinColumns = { @JoinColumn(name = "ID_Partner") })
    private Set<IPartnerModel> partner = new HashSet<>();
	
	// endregion ManyToMany
...
</pre></div>


<p class="has-medium-font-size"> Together with the @ManyToMany annotation, we specify the @JoinTable annotation that allows us in many-to-many relations to define the bridge table between two other related tables, using two essential attributes, joincolumns for the class where we declare the @ManyToMany annotation and inverseJoinColumns for another table. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
...
  // inverser many to many
  
  @ManyToMany(fetch = FetchType.LAZY,
              cascade = {
                CascadeType.PERSIST,
                CascadeType.MERGE
              },
              mappedBy = "partner")
  @JsonIgnore
  private Set<IBusinessEntityModel> businessEntity = new HashSet<>();
...
</pre></div>


<p class="has-medium-font-size"> In the other table, it is recommended to define also the inverse relation. This declaration is slightly different from the showed in code related to the Business Entity model. The inverse relation declaration differentiates by the attribute “mappedBy”.  </p>



<div style="height:42px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Data Transfer Object</h2>



<p class="has-medium-font-size">The Data transfer object is a very popular design pattern. It is an object that defines how the data will be sent over the network. DTO is only used to pass data and does not contain any business logic. </p>



<h3 class="wp-block-heading">TYPE Java @Annotations</h3>



<p class="has-medium-font-size">Sometimes we need to transfer data between entities through JSON. To serialize and deserialize the DTO object, we need to annotate these objects with Jackson’s annotation. The @JsonInclude(JsonInclude.Include.NON_NULL) indicates when the annotated property can be serialized. By using this annotation we can specify simple exclusion rules based on property values. It can be used on a field, method, or constructor parameter. It can also be used in classes where in some cases the specified rules are applied to all properties of the class. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessEntityManagementSystem.dataTransferObject;

import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonProperty;

/*@JsonInclude(JsonInclude.Include.NON_NULL)*/
@JsonIgnoreProperties({"hibernateLazyInitializer", "handler"})
public class BusinessEntity {
...
</pre></div>


<p class="has-medium-font-size">@JsonIgnoreProperties({“hibernateLazyInitializer”, “handler”}) allows Jackson to ignore the garbage created by Hibernate, so it can manage lazy loading of data as referred before.</p>



<h3 class="wp-block-heading"> FIELD Java @Annotations </h3>



<p class="has-medium-font-size">A field in DTO objects might have different kinds of annotations as well. @JsonProperty annotation is used to specify the name of the serialized properties. @JsonIgnore is annotated at a class property level to ignore it. Along with @JsonIgnore, there are also @JsonIgnoreProperties and @JsonIgnoreType. Both annotations are part of Jackson API and are used to ignore logical properties in JSON serialization and deserialization. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessEntityManagementSystem.dataTransferObject;

import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonProperty;

/*@JsonInclude(JsonInclude.Include.NON_NULL)*/
@JsonIgnoreProperties({"hibernateLazyInitializer", "handler"})
public class BusinessEntity {

    @JsonProperty("naturalId")
    private long naturalId;

    @JsonProperty("taxId")
    private String taxId;

    @JsonProperty("status")
    private int status = 1;
...
</pre></div>


<p class="has-medium-font-size">Jackson API  is a high-performance JSON processor for Java. It provides many useful annotations to apply on DTO objects, allowing us to serialize and deserialize objects from JSON to JSON.</p>



<div style="height:43px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Controller</h2>



<p class="has-medium-font-size">Controllers stand for C on the MVC pattern. Controllers are responsible for receiving requests from users and invoking back-end services for business processing. After processing, it may return some data for views to present. Controllers collect it and prepare models for views to present. Controllers are often referred to as dispatcher servlets. It acts as the front controller of the Spring MVC framework, and every web request must go through it so that it can manage the entire request-handling process [3]. When a web request is sent to a Spring MVC application, a controller first receives the request. Then it organizes the different components configured in Spring’s web application context or annotations present in the controller itself, all needed to handle the request.</p>



<h3 class="wp-block-heading"> TYPE Java @Annotations</h3>



<p class="has-medium-font-size">To define a controller class in Spring Boot, a class has to be marked with the @RestController annotation. <a rel="noreferrer noopener" aria-label="@RestController (opens in a new tab)" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html" target="_blank">@RestController </a>annotation  is a convenience annotation that is itself annotated with <code><a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/stereotype/Controller.html" target="_blank">@Controller</a></code> and <code><a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html" target="_blank">@ResponseBody</a></code>.  Types that carry this annotation are treated as controllers where <code><a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html" target="_blank">@RequestMapping</a></code> methods assume <code><a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">@ResponseBody</a></code> semantics by default. The value attribute may indicate a suggestion for a logical component name, to be turned into a Spring bean in case of an auto-detected component. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessEntityManagementSystem.v1.controllers;

import com.BusinessEntityManagementSystem.dataAccessObject.IBusinessEntityRepository;
import com.BusinessEntityManagementSystem.interfaces.resource.IGenericCRUD;
import com.BusinessEntityManagementSystem.models.BusinessEntityModel;
import com.Common.Util.Status;
import com.Common.exception.ResourceNotFoundException;
import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.http.HttpHeaders;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.servlet.support.ServletUriComponentsBuilder;

import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;
import javax.transaction.Transactional;
import javax.validation.Valid;
import java.util.Optional;

@RestController("BusinessEntityV1")
@RequestMapping("/api/businessEntityManagementSystem/v1")
@Api(value = "businessEntity")
public class BusinessEntityController implements IGenericCRUD<BusinessEntityModel> {
...
</pre></div>


<h3 class="wp-block-heading">CONSTRUCTOR and METHOD Java @Annotations</h3>



<p class="has-medium-font-size">When a <a rel="noreferrer noopener" aria-label="@RestController (opens in a new tab)" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html" target="_blank">@RestController</a> annotated class receives a request, it looks for an appropriate handler method to handle the request. This requires that a controller map each request to a handler method by one or more handler mappings. To do so, a controller class’s methods are decorated with the @RequestMapping annotation, making them handler methods.</p>



<p class="has-medium-font-size">For Swagger documentation purposes, the <code><a aria-label="@ApiOperation (opens in a new tab)" href="https://github.com/swagger-api/swagger-core/wiki/Annotations-1.5.X#apioperation" target="_blank" rel="noreferrer noopener">@ApiOperation</a></code> annotation is used to declare a single operation within an API resource. An operation is considered a unique combination of a path and an HTTP method. Only methods that are annotated <code>@ApiOperation</code> will be scanned and added to the API declaration. Some handlers or operations need to ensure data integrity and consistency using the transaction.  </p>



<p class="has-medium-font-size"> Transaction management is an essential technique in enterprise applications to ensure data integrity and consistency. Spring supports both programmatic and declarative (<a href="https://docs.spring.io/spring/docs/5.0.4.BUILD-SNAPSHOT/javadoc-api/org/springframework/transaction/annotation/Transactional.html">@Transactional</a>) transaction management.   </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
...
 	@Autowired
    public BusinessEntityController(IBusinessEntityRepository businessEntityRepository) {
        this.businessEntityRepository = businessEntityRepository;
    }

    @RequestMapping(value = "/businessEntity/{id}", method = RequestMethod.GET, produces = "application/json")
    @ApiOperation(value = "Retrieves given entity", response=BusinessEntityModel.class)
    public ResponseEntity<?> get(@Valid @PathVariable Long id){
        checkIfExist(id);
        return new ResponseEntity<> (businessEntityRepository.findByIdAndStatus(id, Status.PUBLISHED.ordinal()), HttpStatus.OK);
    }

	@Transactional
    @RequestMapping(value = "/businessEntity", method = RequestMethod.POST, produces = "application/json")
    @ApiOperation(value = "Creates a new entity", notes="The newly created entity Id will be sent in the location response header")
    public ResponseEntity<Void> create(@Valid @RequestBody BusinessEntityModel newEntity){

        // Set the location header for the newly created resource*/
        return new ResponseEntity <>(null, getHttpHeaders(businessEntityRepository.save(newEntity)), HttpStatus.CREATED);

    }
...
</pre></div>


<p class="has-medium-font-size">Managing transactions pro-grammatically, we have to include transaction management code in each transactional operation (boilerplate code). As a result, the boilerplate transaction code is repeated in each of these operations. In most cases, declarative transaction management is preferable instead of programmatic transactions. It’s achieved by separating transaction management code from our business methods via declarations. This can help us to enable transactions for our applications more easily and define a consistent transaction policy, although declarative transaction management is less flexible than programmatic transaction management. Programmatic transaction management allows us to control transactions through our code [3].</p>



<p class="has-medium-font-size">Another useful annotation used in a well-designed system is <code>@Autowired.</code> @Autowired can be used at the constructor method to resolve and inject collaborating beans into a bean, leading us to better application design. Applications developed using the principle of separating interface from implementation and the dependency injection pattern are easy to test, both for unit testing and integration testing because that principle and pattern can reduce coupling between different units of our application.</p>



<h3 class="wp-block-heading"> PARAMETER Java @Annotations </h3>



<p class="has-medium-font-size">Besides authentication and authorization, one area of importance in building secure web services is to ensure that inputs are always validated [2]. Java Bean annotations provide mechanisms to implement input validation. We can achieve it by using @Valid annotation in methods parameters. </p>



<p class="has-medium-font-size">Our class should validate incoming identifier requests before processing the soft delete. By simply adding the @Valid annotation to the method, Spring will ensure that the incoming identifier requests are run through our defined validation rules first.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
...
  	@Transactional
    @RequestMapping(value = "/businessEntity/{id}", method = RequestMethod.DELETE, produces = "application/json")
    @ApiOperation(value = "Deletes given entity")
    public ResponseEntity<Void> delete(@Valid @PathVariable Long id, @Valid @RequestBody String lastModifiedBy){

        Optional<BusinessEntityModel> softDelete = businessEntityRepository.findByIdAndStatus(id, Status.PUBLISHED.ordinal());
        if (softDelete.isPresent()) {
            BusinessEntityModel afterIsPresent = softDelete.get();
            afterIsPresent.setStatus(Status.UNPUBLISHED.ordinal());
            afterIsPresent.setLastModifiedBy(lastModifiedBy);
            businessEntityRepository.save(afterIsPresent);
            return new ResponseEntity<>(HttpStatus.OK);
        }
        else
            throw new ResourceNotFoundException("Entity with id " + id + " not found");
    }
...
</pre></div>


<p class="has-medium-font-size">@PathVariable, as well as @RequestParam,  are used to extract values from the HTTP request, there is a subtle difference between them. @RequestParam is used to get the request parameters from URL (<a href="https://www.jeevora.com/">https://www.jeevora.com/</a>…?id=1), also known as query parameters, while @PathVariable extracts values from URI (<a href="https://www.jeevora.com/">https://www.jeevora.com/</a>id/1) as demonstrated in our case study.</p>



<p class="has-medium-font-size">@RequestBody annotation indicates that a method parameter should be bound to the body of the web request while @ResponseBody indicates a method return value should be bound to the web response body. </p>



<div style="height:36px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Data Access Object</h2>



<p class="has-medium-font-size">A typical design mistake is to mix different types of logic (e.g., presentation logic, business logic, and data access logic) in a single large module. This reduces the module’s reusability and maintainability because of the tight coupling it introduces. The general purpose of the Data Access Object (DAO) pattern is to avoid these problems by separating data access logic from business logic and presentation logic. This pattern recommends that data access logic be encapsulated in independent modules called data access objects [3].</p>



<p class="has-medium-font-size">Repositories, or Data Access Objects (DAO), provide an abstraction for interacting with data stores. Repositories traditionally include an interface that provides a set of finder methods such as findById, and findAll for retrieving data, and methods to persist and delete data. Repositories also include a class that implements this interface using datastore-specific technologies. It is also customary to have one Repository per domain object. Although this has been a popular approach, there is a lot of boilerplate code that gets duplicated in each repository implementation [1].</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate">
package com.BusinessEntityManagementSystem.dataAccessObject;

import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.repository.NoRepositoryBean;
import org.springframework.data.repository.PagingAndSortingRepository;

import java.util.Optional;

@NoRepositoryBean
public interface IGenericRepository<T> extends PagingAndSortingRepository<T, Long> {

    Optional<T> findByIdAndStatus(long id, int status);

    Page<T> findAllByStatus(int status, Pageable pageable);
}
</pre></div>


<p class="has-medium-font-size">With <a aria-label="@NoRepositoryBean (opens in a new tab)" href="https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/NoRepositoryBean.html" target="_blank" rel="noreferrer noopener">@NoRepositoryBean</a> annotation, we can use it to exclude repository interfaces from being picked up and thus, in consequence, get an instance created. This will typically be used when providing an extended base interface for all repositories in combination with a custom repository base class to implement methods declared in that intermediate interface. In this case, we typically derive our concrete repository interfaces from the intermediate one but we don’t want to create a Spring bean for the intermediate interface.</p>



<div style="height:47px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Conclusion</h2>



<p class="has-medium-font-size">By the end of this demonstration, we have used the following Java @annotations in our API represented in the table below. It is divided by the target and purpose of each annotation. Sometimes we have cases where some annotations have more than one target, although not all are repeated in the table.</p>



<figure class="wp-block-table is-style-stripes"><table><tbody><tr><td> <strong>TYPE CONFIG</strong> </td><td>  <strong>TYPE</strong> <strong> </strong></td><td>  <strong>METHOD</strong>  </td><td> <strong>FIELD</strong> </td><td> <strong>PARAMETER</strong> </td></tr><tr><td> @EnableAutoConfiguration </td><td> @Entity </td><td> @Autowired </td><td> @Id </td><td> @Valid </td></tr><tr><td> @EnableJpaAuditing </td><td> @Table </td><td> @Transactional </td><td> @GeneratedValue </td><td> @PathVariable </td></tr><tr><td> @EnableJpaRepositories </td><td> @RestController </td><td> @ApiOperation </td><td> @NotNull </td><td> @RequestBody </td></tr><tr><td> @EntityScan </td><td> @RequestMapping </td><td> @RequestMapping </td><td> @Column </td><td></td></tr><tr><td> @ComponentScan </td><td> @Api </td><td></td><td> @NaturalId </td><td></td></tr><tr><td> @Configuration </td><td> @NoRepositoryBean </td><td></td><td> @NotEmpty </td><td></td></tr><tr><td> @EnableSwagger2 </td><td> @Transactional </td><td></td><td> @Size </td><td></td></tr><tr><td></td><td></td><td></td><td> @OneToOne </td><td></td></tr><tr><td></td><td></td><td></td><td> @JoinColumn </td><td></td></tr><tr><td></td><td></td><td></td><td> @OnDelete </td><td></td></tr><tr><td></td><td></td><td></td><td> @ManyToMany </td><td></td></tr><tr><td></td><td></td><td></td><td> @JoinTable </td><td></td></tr></tbody></table></figure>



<div style="height:46px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">References</h2>



<p>[1] Balaji Varanasi, Sudha Belida, Spring REST – Rest and Web Services development using Spring, 2015; <br>[2] Ludovic Dewailly, Building a RESTful Web Service with Spring – A hands-on guide to building an enterprise-grade, scalable RESTful web service using the Spring Framework, 2015;<br>[3]  Marten Deinum, Daniel Rubio, Josh Long, Spring 5 Recipes: A Problem-Solution Approach, 2017.  </p>
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/09/16/key-java-annotations-to-build-spring-boot-rest-api/">Key Java @Annotations to build full Spring Boot Rest API</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></encoded>
					
					<commentrss>https://jailsonevora.com/2019/09/16/key-java-annotations-to-build-spring-boot-rest-api/feed/</commentrss>
			<comments>0</comments>
		
		
			</item>
		<item>
		<title>SOA and process services integration</title>
		<link>https://jailsonevora.com/2019/09/09/soa-and-process-service-integration/
					<comments>https://jailsonevora.com/2019/09/09/soa-and-process-service-integration/#respond</comments>
		
		<creator></creator>
		<pubdate>Mon, 09 Sep 2019 11:46:02 +0000</pubdate>
				<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<guid ispermalink="false">https://www.jeevora.com/?p=1032</guid>

					<description>Service-oriented architectures (SOA) have brought significant gains for process automation. According to the official definition of OASIS [1], it is a paradigm for organizing and utilizing distributed resources that may be under the control of different domains of ownership. Although the official definition may be ambiguous, it is possible to define SOA as a paradigm […]
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/09/09/soa-and-process-service-integration/">SOA and process services integration</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></description>
										<encoded>Service-oriented architectures (SOA) have brought significant gains for process automation. According to the official definition of OASIS [1], it is a paradigm for organizing and utilizing distributed resources that may be under the control of different domains of ownership.



<p class="has-medium-font-size">Although the official definition may be ambiguous, it is possible to define SOA as a paradigm for designing software systems from reusable components designated by services [3], [2], with service being a set of code blocks that perform distinct functions [4], [5], [6]. The goal of SOA-based development is to enable organizations to build business systems from simple modules to obtain flexibility, agility, and productivity improvements in their business development [3], capable of relating <a href="https://www.jailsonevora.com/2019/07/30/business-process-modeling/" target="_blank" rel="noreferrer noopener">business processes</a> to technical processes [7] and mapping <a href="https://www.jailsonevora.com/2019/07/28/process-automation/" target="_blank" rel="noreferrer noopener">workflow </a>relationships between them [4]</p>



<p class="has-medium-font-size">SOA is usually based on the principle of providing reusable business services that can be assembled from software sub-components in such a way that the provider (who makes the service available) [3] and the customer (who uses it) are considered loosely coupled [4] (definition of the neutral interface that is not strongly tied to a particular implementation) [6]. They do not need to have an in-depth knowledge of each other, from the technologies, platforms [8], location, or environments around them, and the code can be reused thanks to their neutral interface features, making it easy for developers who need only discovering the interfaces of already developed applications, rather than building new systems from scratch whenever new business rules are changed or added [9].</p>



<p class="has-medium-font-size">SOA services have components that relate through well-defined interfaces and contracts. The interface is defined neutrally and independently of the hardware, operating system, and programming language [7] in which it is implemented, allowing these services to interact with one another uniformly and universally.<gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></p>



<p class="has-medium-font-size">The architecture’s ability to have loosely coupled services allows service providers with these characteristics to benefit from their agility and ability to survive the constant changes in the structure and internal implementation that make up the application [4]. In addition to having services such as a key component of architecture, SOA is also comprised of service interfaces that enable vendor-customer interaction. <gwmw style="display:none;"></gwmw></p>



<h2 class="wp-block-heading">SOA – Guiding principles for achieving SOA </h2>



<p class="has-medium-font-size">Although there is no official standard for SOA composition, the community agrees with four fundamental principles as guiding principles for achieving SOA [10], where they are, <strong>service boundaries must be explicit</strong> [11]; <strong>services must be autonomous</strong> [7]; <strong>customers and services should share contracts and not code; and finally the possibility of policy-based compatibilities</strong>. Policy-based compatibility understands that two orthogonal requirements must be supported when interacting with a service. Vendor functionality, syntax, and semantics must meet consumer requirements; and the skills and technical needs must match. However, functional aspects are described in the service interface, but capabilities, orthogonal and nonfunctional needs are specified using policies [12].<gwmw style="display:none;"></gwmw></p>



<p class="has-medium-font-size">SOA architecture is also known as an evolution of client/server architecture, where business logic is broken down to lower levels of granularity, based on the ideas and technologies implemented in XML and WS [4]. WS is known as a software system designed to support interoperable machine-to-machine interactions with key elements [3], [6]:</p>



<ul>
<li><strong>Web Services Definition Language</strong> (WSDL), the standard for representing pieces of software;</li>



<li> <strong>Simple Object Access Protocol </strong>(SOAP), a protocol for information exchange in a decentralized and distributed environment;</li>



<li> <strong>Universal Description, Discovery, and Integration</strong> (UDDI), XML-based service registration engine. Allows services to be discovered on the web and make interoperable. It is compared to the yellow pages of a phone book, where companies can list themselves by name, product, location, or the services they offer.</li>
</ul>



<h2 class="wp-block-heading">Gains in the organization and software development when using SOA</h2>



<p class="has-medium-font-size">Thus, communication with WS is done from the network using technologies such as XML (data fundamentals and protocol related), WSDL (service description related), SOAP, and UDDI (Figure 1), these are capable of providing a common approach to defining, publishing, and using WS accessible through a standard protocol, specifically SOAP [5]. A WS usually allows the discovery of the service, the customer makes a request to the provider, the provider processes the request, and sends the response to the customer [3],[6].<gwmw style="display:none;"></gwmw></p>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="1086" height="501" src="../wp-content/uploads/2019/09/image.png" alt="SOA and process service integration" class="wp-image-1035" srcset="https://jailsonevora.com/wp-content/uploads/2019/09/image.png 1086w,https://jailsonevora.com/wp-content/uploads/2019/09/image-300x138.png 300w,https://jailsonevora.com/wp-content/uploads/2019/09/image-768x354.png 768w,https://jailsonevora.com/wp-content/uploads/2019/09/image-1024x472.png 1024w" sizes="(max-width: 1086px) 100vw, 1086px"><figcaption class="wp-element-caption">Figure 1: Patterns around WS plus process service integration [4]</figcaption></figure>



<p class="has-medium-font-size">Parallel to the use of SOAP, WS also allows the use of Representational State Transfer (REST). REST is an architectural style that typically uses HTTP / HTTPS, while SOAP is network layer independent and can use a variety of network protocols. <gwmw style="display:none;"></gwmw></p>



<p class="has-medium-font-size">WS can be said to provide the base technology for implementing the SOA architecture, but it is not the only one. Common Object Request Broker Architecture (CORBA) vendor-independent architecture and infrastructure that enables systems to communicate over a network [13] and Message-Oriented Middleware (MOM) systems that support general-purpose messaging in environments distributed systems [14]) can also be used. SOA is not language-specific and services can be implemented in any programming language that allows generating and interacting with WSDL [4]. In this way, the use of SOA allows for obtaining circumstantial gains in the organization and the software development (Table 1):</p>



<figure class="wp-block-table aligncenter"><table><tbody><tr><td><strong>Benefits</strong></td><td><strong>Description</strong></td></tr><tr><td>Business-centric </td><td>Business-centric software development.<gwmw style="display:none;"></gwmw></td></tr><tr><td>The lower long term cost</td><td>The lower incremental cost for development<gwmw style="display:none;"></gwmw></td></tr><tr><td>Reduced Skills</td><td>Lower requirement for training and technical knowledge<gwmw style="display:none;"></gwmw></td></tr><tr><td>Low costs</td><td>Lower costs in software development.<gwmw style="display:none;"></gwmw></td></tr><tr><td>Speed</td><td>The faster software development cycle<gwmw style="display:none;"></gwmw></td></tr><tr><td>Platform independent</td><td>The lower long-term cost</td></tr><tr><td>Focused developer roles</td><td>Developers can focus completely on implementing and maintaining their services without having to worry about the services of others as long as the default contract is respected.<gwmw style="display:none;"></gwmw></td></tr><tr><td>Regardless of location</td><td>Regardless of location, it is possible for the service consumer to search for and discover it<gwmw style="display:none;"></gwmw></td></tr><tr><td>Code Reuse</td><td>Dividing applications into small separated parts helps to reuse in various other systems, thereby reducing the cost of development</td></tr><tr><td>Greater testability</td><td>Small, standalone services are easier to test and debug than monolithic applications, allowing you to have more reliable software<gwmw style="display:none;"></gwmw></td></tr><tr><td>Parallel development</td><td>Independence between services with pre-defined contracts helps parallel development by greatly reducing the software development lifecycle.<gwmw style="display:none;"></gwmw></td></tr><tr><td>Better scalability</td><td>Possibility to have multiple instances of the service running on different servers, allowing you to move the service transparently to more resourceful servers<gwmw style="display:none;"></gwmw></td></tr><tr><td>Greater availability</td><td>The ability to have multiple instances of a service and not care about its location ensures high availability.<gwmw style="display:none;"></gwmw></td></tr></tbody></table></figure>



<div style="height:41px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">References</h2>



<p>[1] C. M. Mackenzie, K. Laskey, F. Mccabe, R. Metz, and A. Hamilton, “Reference Model for Service Oriented Architecture 1.0 Committee Specification 1, 2 August 2006,” no. August, pp. 1–31, 2006.<br> [2] P. Desfray and G. Raymon, Modeling Enterprise Architecture with TOGAF: A Practical Guide Using UML and BPMN. 2014.<br> [3] M. Liu, WCF 4.5 Multi-Layer Services Development with Entity Framework Third Edition. 2012.<br> [4] D. Minoli, Enterprise Architecture A to Z: Frameworks, Business Process Modeling, SOA, and Infrastructure Technology. 2008.<br> [5] M. Gousset, B. Keller, A. Krishnamoorthy, and M. Woodward, “Professional WCF 4 Windows Communication Foundation with NET 4,” 2010.<br> [6] M. Liu, WCF 4.0 Multi-tier Services Development with LINQ to Entities, no. 4. 2010.<br> [7] N. Pathak, “Pro WCF 4,” pp. 3–24, 2011.<br> [8] J. Lowy, Programming WCF Services. 2010.<br> [9] Microsoft IC, “Introducing Windows Communication Foundation in .NET Framework 4.” [Online]. Available: <a href="https://msdn.microsoft.com/en-us/library/ee958158.aspx">https://msdn.microsoft.com/en-us/library/ee958158.aspx</a><br> [10] M. L. Bustamante, Learning WCF, Master Windows Communication Foundation and SOA Fundamentals. 2007.<br> [11] Scott Klein, Professional WCF Programming. 2007.<br> [12] “10 Principles of SOA,” 2007. [Online]. Available:  <a href="https://www.infoq.com/articles/tilkov-10-soa-principles/">https://www.infoq.com/articles/tilkov-10-soa-principles/</a>.<br> [13] C. Interfaces, “Common Object Request Broker Architecture (CORBA) Specification, Version 3.3,” no. November 2012.<br> [14] B. S. of I. University of California, “Distributed Computing Applications and Infrastructure.” [Online]. Available: <a href="http://courses.ischool.berkeley.edu/i206/f97/GroupB/mom/what_is_mom.html">http://courses.ischool.berkeley.edu/i206/f97/GroupB/mom/what_is_mom.html</a></p>
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/09/09/soa-and-process-service-integration/">SOA and process services integration</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></encoded>
					
					<commentrss>https://jailsonevora.com/2019/09/09/soa-and-process-service-integration/feed/</commentrss>
			<comments>0</comments>
		
		
			</item>
		<item>
		<title>Microservices Security Mechanisms</title>
		<link>https://jailsonevora.com/2019/08/24/microservices-security-mechanisms/
					<comments>https://jailsonevora.com/2019/08/24/microservices-security-mechanisms/#respond</comments>
		
		<creator></creator>
		<pubdate>Sat, 24 Aug 2019 10:56:03 +0000</pubdate>
				<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<guid ispermalink="false">https://www.jeevora.com/?p=866</guid>

					<description>Within the universe of microservices security mechanisms, the access to information or resources “on behalf of”; allows third parties (a particular application or service) to communicate with other applications or services, acting on behalf of, and not while the application or service. Authorization to third parties using the traditional model, where the client accesses a […]
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/08/24/microservices-security-mechanisms/">Microservices Security Mechanisms</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></description>
										<encoded>Within the universe of <gwmw class="ginger-module-highlighter-mistake-type-1" id="gwmw-15666957602618843103249">microservice</gwmw>s security mechanisms, the access to information or resources “on behalf of”; allows third parties (a particular application or service) to communicate with other applications or services, acting on behalf of, and not while the application or service.



<p class="has-medium-font-size"> Authorization to third parties using the traditional model, where the client accesses a protected resource using the resource owner’s credentials, has associated with it a number of issues and limitations as the owner will have to share their credentials with third parties [1]:<gwmw style="display:none;"></gwmw></p>



<ul>
<li>Credentials need to be stored in third-party applications for future use.</li>



<li>Servers will be required to support authentication.</li>



<li>Third-party applications gain access to all protected resources of the resource owner, leaving them unable to restrict the duration or access to a limited subset of resources.</li>



<li>The resource owner cannot revoke access to a third party without revoking access to all others and this is only possible by changing the password.</li>



<li>The security breach in third-party applications results in the exposure of credentials and all data protected by the third party.</li>
</ul>



<p class="has-medium-font-size">To mitigate these problems, two mechanisms stand out, OAuth and token-based access<gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15666791254711889858676">.</gwmw><gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></p>



<div style="height:66px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Microservices Security Mechanisms – Oauth 2.0</h2>



<p class="has-medium-font-size">OAuth is an open standard that allows authorized client access to resources made available by a server. The OAuth standard also provides methods for customers to authorize third-party access to resources and information they own, which is made available by a server without having to enter or share that user’s access credentials.<gwmw style="display:none;"><gwmw style="display:none;"></gwmw><gwmw style="display:none;"></gwmw></gwmw></p>



<p class="has-medium-font-size">The problems and limitations identified in the traditional authorization model are addressed by this standard by introducing the authorization layer, separating the role of the client from the resource owner. The client requests access to resources owned by the resource owner hosted on the resource server and different credentials are issued than those of the resource owner. Instead of using the resource owner’s credentials to access protected resources, the client obtains an access token that indicates a specific scope, time, and other access attributes, which tokens are issued with the approval of the resource owner. The client uses the access token to access protected resources hosted by the resource server (Figure 1) [1]. <gwmw style="display:none;"><gwmw style="display:none;"></gwmw><gwmw style="display:none;"></gwmw></gwmw></p>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="1626" height="943" src="../wp-content/uploads/2019/08/oath.png" alt="" class="wp-image-1018" srcset="https://jailsonevora.com/wp-content/uploads/2019/08/oath.png 1626w,https://jailsonevora.com/wp-content/uploads/2019/08/oath-300x174.png 300w,https://jailsonevora.com/wp-content/uploads/2019/08/oath-768x445.png 768w,https://jailsonevora.com/wp-content/uploads/2019/08/oath-1024x594.png 1024w" sizes="(max-width: 1626px) 100vw, 1626px"></figure>



<div style="height:34px" aria-hidden="true" class="wp-block-spacer"></div>



<h3 class="wp-block-heading">OpenID Connect<gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></h3>



<p class="has-medium-font-size">OpenID Connect builds on top of OAuth2 and adds authentication. OpenID Connect adds some constraints to OAuth2 like UserInfo Endpoint, ID Token, discovery and dynamic registration of OpenID Connect providers, and session management.</p>



<p class="has-medium-font-size">It allows Clients to verify the identity of the End-User based on the authentication performed by an Authorization Server, as well as to obtain basic profile information about the End-User.</p>



<p class="has-medium-font-size">OpenID Connect allows clients of all types, including Web-based, mobile, and JavaScript clients, to request and receive information about authenticated sessions and end-users. The specification suite is extensible, allowing participants to use optional features such as the encryption of identity data, the discovery of OpenID Providers, and session management.<gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></p>



<div style="height:67px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Microservices Security Mechanisms – Token-based</h2>



<p class="has-medium-font-size">On the other hand, Token-based authorization is less complex and unlike OAuth is not a standard.</p>



<p class="has-medium-font-size">The client accesses the server by sending the access credentials, the service provider validates the credentials, saves an authorization token on success, associates the token with the client address, and assigns the lifetime of this access token. The service sends a success message to the customer along with the token. The client starts to invoke the services on the server by sending the authorization token, where the server will validate each request, checking if the token is valid (Figure 2).<gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2019/08/image-4.png" alt="Microservices Security Mechanisms - JWToken" class="wp-image-908" width="766" height="590" srcset="https://jailsonevora.com/wp-content/uploads/2019/08/image-4.png 1021w,https://jailsonevora.com/wp-content/uploads/2019/08/image-4-300x231.png 300w,https://jailsonevora.com/wp-content/uploads/2019/08/image-4-768x592.png 768w" sizes="(max-width: 766px) 100vw, 766px"></figure>



<div style="height:38px" aria-hidden="true" class="wp-block-spacer"></div>



<h3 class="wp-block-heading">JWToken</h3>



<p class="has-medium-font-size">JWT tokens are JSON-encoded data structures that contain information about the issuer, subject (claims), expiration time, access token, refresh token, id token, and so on. </p>



<p class="has-medium-font-size">It is signed for tamper proof and authenticity and it can be encrypted to protect the token information using a symmetric or asymmetric approach. JWT is simpler than SAML 1.1/2.0 and supported by all devices</p>



<div style="height:35px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">References</h2>



<p>[1]  “<a href="https://tools.ietf.org/html/rfc6749" target="_blank" rel="noreferrer noopener" aria-label="The OAuth 2.0 Authorization Framework rfc6749,” 2012.  [Online] (opens in a new tab)">The OAuth 2.0 Authorization Framework rfc6749,” 2012.  </a><gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15666959832215444241089"><a href="https://tools.ietf.org/html/rfc6749" target="_blank" rel="noreferrer noopener" aria-label="The OAuth 2.0 Authorization Framework rfc6749,” 2012.  [Online] (opens in a new tab)">[</a></gwmw><a href="https://tools.ietf.org/html/rfc6749" target="_blank" rel="noreferrer noopener" aria-label="The OAuth 2.0 Authorization Framework rfc6749,” 2012.  [Online] (opens in a new tab)">Online]</a>.<br>[2] “<a rel="noreferrer noopener" aria-label="Cookies vs Tokens: The Definitive Guide,” 2016.  [Online] (opens in a new tab)" href="https://dzone.com/articles/cookies-vs-tokens-the-definitive-guide" target="_blank">Cookies vs Tokens: The Definitive Guide,” 2016.  </a><gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15666959832236652773807"><a rel="noreferrer noopener" aria-label="Cookies vs Tokens: The Definitive Guide,” 2016.  [Online] (opens in a new tab)" href="https://dzone.com/articles/cookies-vs-tokens-the-definitive-guide" target="_blank">[</a></gwmw><a rel="noreferrer noopener" aria-label="Cookies vs Tokens: The Definitive Guide,” 2016.  [Online] (opens in a new tab)" href="https://dzone.com/articles/cookies-vs-tokens-the-definitive-guide" target="_blank">Online]</a>.  </p>
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/08/24/microservices-security-mechanisms/">Microservices Security Mechanisms</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></encoded>
					
					<commentrss>https://jailsonevora.com/2019/08/24/microservices-security-mechanisms/feed/</commentrss>
			<comments>0</comments>
		
		
			</item>
		<item>
		<title>WCF Transport Security with Certificate Authentication</title>
		<link>https://jailsonevora.com/2019/08/18/wcf-transport-security-with-certificate-authentication/
					<comments>https://jailsonevora.com/2019/08/18/wcf-transport-security-with-certificate-authentication/#respond</comments>
		
		<creator></creator>
		<pubdate>Sun, 18 Aug 2019 13:16:04 +0000</pubdate>
				<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<guid ispermalink="false">https://www.jeevora.com/?p=470</guid>

					<description>This post demonstrates the use of X.509 certificates for server and client authentication when using WCF transport security. This security mode is ideal for communication between applications in the intranet network. Our demo creates a service that will implement a simple, repeated string algorithm. In this scenario, the service is hosted under Internet Information Services […]
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/08/18/wcf-transport-security-with-certificate-authentication/">WCF Transport Security with Certificate Authentication</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></description>
										<encoded>  



<p class="has-drop-cap has-medium-font-size">This post demonstrates the use of <a rel="noreferrer noopener" aria-label="X.509 certificates (opens in a new tab)" href="https://en.wikipedia.org/wiki/X.509" target="_blank">X.509 certificates</a> for server and client authentication when using WCF <strong>transport security</strong>. This security mode is ideal for communication between applications in the intranet network.</p>



<p class="has-medium-font-size">Our demo creates a service that will implement a simple, repeated string algorithm. In this scenario, the service is hosted under <a aria-label="Internet Information Services (opens in a new tab)" href="https://en.wikipedia.org/wiki/Internet_Information_Services" target="_blank" rel="noreferrer noopener">Internet Information Services</a> (IIS) which is configured with a Secure Sockets Layer (SSL) and configured with an SSL certificate to allow clients to verify the identity of the server. <gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></p>



<p class="has-medium-font-size">On the other hand, our client is a parameterized test project that will validate the logic of our service. The client is also configured with an X.509 certificate that allows the service to verify the identity of the client. The server’s certificate must be trusted by the client, and the client’s certificate must be trusted by the server in a request/reply message pattern as illustrated by the following diagram. <gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></p>



<figure class="wp-block-image aligncenter size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2019/08/image-7.png" alt="WCF-Transport-Security-with-Certificate-Authentication" class="wp-image-780" width="607" height="284" srcset="https://jailsonevora.com/wp-content/uploads/2019/08/image-7.png 607w,https://jailsonevora.com/wp-content/uploads/2019/08/image-7-300x140.png 300w" sizes="(max-width: 607px) 100vw, 607px"><figcaption class="wp-element-caption"> <a rel="noreferrer noopener" href="https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/transport-security-with-certificate-authentication" target="_blank"><em>Request/reply message patterns</em></a><em>.</em></figcaption></figure>



<p class="has-medium-font-size"> We choose <em>transport </em>as the security mode, allowing communication between existing <a href="https://www.jailsonevora.com/2019/08/10/java-ee/" target="_blank" rel="noreferrer noopener">clients and services</a>. Data Integrity and Data Confidentiality are preserved. The transport protocol is HTTPS with <a href="https://docs.microsoft.com/en-us/dotnet/api/system.servicemodel.wshttpbinding">WSHttpBinding</a> binding. <gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></p>



<h3 class="wp-block-heading">WCF Transport Security – Transfer Security Mode and  Message Security Level </h3>



<p class="has-medium-font-size"> WCF offers diverse <a rel="noreferrer noopener" aria-label="transfer security  modes and message security level (opens in a new tab)" href="https://www.tutorialspoint.com/wcf/wcf_security.htm#" target="_blank">transfer security modes and message security levels</a> to ensure secure communication between a client and a server. One of them is <strong>Transport</strong>. It is the easiest way to achieve a secured transfer of messages via the use of communication protocols such as TCP, IPC, Https, and MSMQ. This mode is more effective when the transfer is point-to-point and is used mostly in a controlled environment, i.e., intranet applications. </p>



<p class="has-medium-font-size">The message security level is not dependent on WCF protocols. It is employed with message data itself by encrypting the data by using a standard algorithm. Certificate message security level along with message encryption allows both the client and the service to get authentication with a certificate.<gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">WCF Transport Security – Configuring the Service</h2>



<p class="has-medium-font-size"> Our service defines one method from Lili’s lowercase English letters that she repeated infinitely many times. It should return an integer representing the number of occurrences of <strong><em><code>a</code></em></strong> in the prefix of length in the infinitely repeating string.<gwmw style="display:none;"><gwmw style="display:none;"></gwmw><gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></gwmw></p>



<h3 class="wp-block-heading">Interface</h3>



<p class="has-medium-font-size">The interface defines <strong><code>RepeatedString </code></strong>as the only method/operation. The operation allows the insertion of two parameters, one of type <strong><code>string </code></strong>as a string that repeats infinitely many times and an integer as the number of characters to consider in counting the repeated character. The operation will return an object with the count of the letter <em><strong>a’s</strong></em> in the first <strong><code>number </code></strong>letters of the infinite repeated string. <gwmw style="display:none;"><gwmw style="display:none;"></gwmw><gwmw style="display:none;"></gwmw></gwmw></p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; highlight: [8]; title: ; notranslate">
...
namespace RepeatedString
{
    [ServiceContract]
    public interface IRepeatedString
    {
        [OperationContract]
        long RepeatedString(string repeatedString, long number);
    }
}
</pre></div>


<h3 class="wp-block-heading">Implementation</h3>



<p class="has-medium-font-size">The operation interacts through the repeated string, counting the number of character occurrences. With performance in mind, firstly we should calculate the factor and the remainder of the repeated string, avoiding interaction through all characters.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; highlight: [8,12,14]; title: ; notranslate">
...
namespace RepeatedString
{
    public class RepeatedString : IRepeatedString
    {
        long IRepeatedString.RepeatedString(string repeatedString, long number)
        {
            long count_repeated_a = 0,  factor = number / repeatedString.Length, remainder = number % repeatedString.Length;

            for (int i = 0; i < repeatedString.Length; i++)
            {
                if (repeatedString[i] == 'a') count_repeated_a += (i < remainder) ? factor + 1 : factor;
            }
            return count_repeated_a;
        }
    }
}
</pre></div>


<h3 class="wp-block-heading">Binding</h3>



<p class="has-medium-font-size">Since the service in this scenario is hosted under IIS, it is configured with a web<gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15662636228197422383351">.</gwmw>config file. The following web<gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15662636237574012731771">.</gwmw>config shows how to configure the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.servicemodel.wshttpbinding">WSHttpBinding</a><em> </em>to use transport security and X.509 client credentials.  To mimic a large binding, we define the timeout connection with<gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15662636419893410174432"> </gwmw><em><strong>sending and receiving, as well as</strong></em><strong> open and close tag attributes. Also, we define the maximum amount of memory allocated, in bytes, for the buffer manager in maxBufferPoolSize and for a message that can be received on a channel maxReceivedMessageSize. At the <em>security tag</em></strong>, we define a <strong><em>transport </em></strong>mode with <strong><code><gwmw class="ginger-module-highlighter-mistake-type-1" id="gwmw-15662636305857561990755">clientCredentialType</gwmw>="Certificate"</code></strong> highlighted in line 21 of the code.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; highlight: [5,6,7,8,12,13,20,21,22]; title: ; notranslate">
...
<bindings>
  <wsHttpBinding>
    <binding name="wsHttpBinding_LargeBinding"
      closeTimeout="00:01:00"
      openTimeout="00:01:00"
      receiveTimeout="00:10:00"
      sendTimeout="00:10:00"
      bypassProxyOnLocal="false"
      transactionFlow="false"
      hostNameComparisonMode="StrongWildcard"
      maxBufferPoolSize="250000000"
      maxReceivedMessageSize="250000000"
      messageEncoding="Text"
      textEncoding="utf-8"
      useDefaultWebProxy="true"
      allowCookies="false">
      <readerQuotas maxDepth="2000000" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647" />
      <reliableSession ordered="true" inactivityTimeout="00:10:00" enabled="false" />
      <security mode="Transport">
        <transport clientCredentialType="Certificate" />
      </security>
    </binding>
  </wsHttpBinding>    
</bindings>
...
</pre></div>


<h3 class="wp-block-heading">Behavior</h3>



<p class="has-medium-font-size">At service behaviors, we disable <code>includeExceptionDetailInFaults </code>to avoid disclosure of sensitive information. During development, you may want your service to also send other exceptions back to the client to assist you in debugging. This is a development-only feature and should not be employed in deployed services.  <gwmw style="display:none;"><gwmw style="display:none;"></gwmw><gwmw style="display:none;"></gwmw></gwmw></p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; highlight: [6]; title: ; notranslate">
...
<behaviors>
  <serviceBehaviors>
    <behavior name="DebugModeBehavior">
      <serviceMetadata httpGetEnabled="false" httpsGetEnabled="true"/>
      <serviceDebug includeExceptionDetailInFaults="false"/>
    </behavior>
  </serviceBehaviors>
</behaviors>
...
</pre></div>


<h3 class="wp-block-heading">Services</h3>



<p class="has-medium-font-size">Finally, at the <em><strong>services tag,</strong></em> we define our service, exposing two endpoints. One for <a aria-label="metadata exchange (opens in a new tab)" href="https://docs.microsoft.com/en-us/dotnet/api/system.servicemodel.description.imetadataexchange?view=netframework-4.8" target="_blank" rel="noreferrer noopener">metadata exchange</a> [<strong><code><endpoint address="mex"</code></strong><code> ...</code>] that allows exposing metadata about the service. It is useful to publish metadata about the service like a <a aria-label="Web Services Description Language (WSDL) (opens in a new tab)" href="https://www.w3.org/TR/2001/NOTE-wsdl-20010315" target="_blank" rel="noreferrer noopener">Web Services Description Language (WSDL)</a><em> </em>document that describes all of the methods and data types employed by a service. Returning metadata about a WCF service allows consumers of the service to easily create clients for the service. <gwmw style="display:none;"><gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></gwmw></p>



<p class="has-medium-font-size">With the <em><strong>behavior </strong></em>and <em><strong>binding </strong></em>defined, we complete the attributes for our main endpoint [<strong><code><endpoint address="<gwmw class="ginger-module-highlighter-mistake-type-1" id="gwmw-15662637361444731005860">endpointRepeatedStringService</gwmw>" binding="<gwmw class="ginger-module-highlighter-mistake-type-1" id="gwmw-15662637361441146018336">wsHttpBinding</gwmw>"</code></strong><gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15662637361442021322659">].</gwmw></p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; highlight: [4,5]; title: ; notranslate">
...
<services>
  <service behaviorConfiguration="DebugModeBehavior" name="RepeatedString.RepeatedString">
    <endpoint address="endpointRepeatedStringService" binding="wsHttpBinding" name="EndpointRepeatedString" bindingConfiguration="wsHttpBinding_LargeBinding" contract="RepeatedString.IRepeatedString" />
    <endpoint address="mex" binding="wsHttpBinding" bindingConfiguration="wsHttpBinding_LargeBinding" name="mexEndpoint" contract="IMetadataExchange" />
  </service>
</services>
...
</pre></div>


<h3 class="wp-block-heading">SSL Settings<gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></h3>



<p class="has-medium-font-size">After we configure our service, we need to enable Secure Socket Layer (SSL) on IIS to secure the service. Start the IIS Manager, in connections panel, under sites, select the <code>ReapeatedString</code>service (1) that we want to enable SSL.</p>



<div class="wp-block-image"><figure class="aligncenter is-resized"><figure><img decoding="async" loading="lazy" src="https://dzone.com/storage/temp/12372316-iis-cert-require.png" alt="Image title" width="1366" height="738"></figure><figcaption><gwmw style="display:none;"></gwmw></figcaption></figure></div>



<p class="has-medium-font-size">On the selected service > Home page in the central panel, double-click <strong>SSL Settings</strong> (2).</p>



<div class="wp-block-image"><figure class="aligncenter is-resized"><figure><img decoding="async" loading="lazy" src="https://dzone.com/storage/temp/12372232-iis-cert-require-2.png" alt="Image title" width="1364" height="743"></figure><figcaption><gwmw style="display:none;"></gwmw></figcaption></figure></div>



<p class="has-medium-font-size">In the<strong> SSL Settings</strong> page, first, select <strong>Require SSL</strong> checkbox and under <strong>Client Certificates, </strong>select <strong>Require</strong>. To persist, under th<gwmw class="ginger-module-highlighter-mistake-anim ginger-module-highlighter-mistake-type-3" id="gwmw-15663893751045090762685">e<strong> Actions </strong>panel</gwmw> on the right, <gwmw class="ginger-module-highlighter-mistake-anim ginger-module-highlighter-mistake-type-3" id="gwmw-15663893751044881622032">apply</gwmw> these changes. </p>



<figure class="wp-block-image aligncenter"><img decoding="async" src="https://dzone.com/storage/temp/12372233-iis-cert-require-3.png" alt="Image title"></figure>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">WCF Transport Security – Parameterized Test Client</h2>



<p class="has-medium-font-size"> The new <a rel="noreferrer noopener" href="https://devblogs.microsoft.com/devops/taking-the-mstest-framework-forward-with-mstest-v2/" target="_blank">Visual Studio MSTest V2</a> allows us to use parameters in the test class. This class could contain multiple test methods and each method is executed with the different parameters provided. It helps save time when executing the same tests with different inputs and expected results, as described below<strong><code><gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15662638609130691652128">[</gwmw>DataRow<gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15662638593274303099022">(</gwmw>"<gwmw class="ginger-module-highlighter-mistake-type-1" id="gwmw-15662638593270683393755">ababbaa</gwmw>", 10, 6)]</code></strong>. The first parameter is a string to repeat, the second is the number of characters to consider and the last one is the <em><strong>expected </strong></em>result.  </p>



<h3 class="wp-block-heading"> WCF Transport Security Test class implementation</h3>



<p class="has-medium-font-size"> The test project generates the WSDL document of our service described as <strong><code>RepeatedStringReference</code></strong>. In the <em><strong>arrange</strong></em><strong>ment</strong>, we instantiate the client object and we act <gwmw class="ginger-module-highlighter-mistake-type-1" id="gwmw-15662638815910938350029">cal</gwmw>l<gwmw class="ginger-module-highlighter-mistake-type-1" id="gwmw-15662638815910938350029">ing</gwmw> <strong><code>client<gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15662638815919565320928">.</gwmw>RepeatedString<gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15662638815916354022391">(repeatedString</gwmw>, number)</code></strong><em> </em>operation<em>. </em>To validate, we <em><strong>assert </strong></em>that the expected results have occurred.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: csharp; highlight: [7,8,9,10,14,16]; title: ; notranslate">
...
namespace UnitTest_TransportSecurity_W_CertificateAuth
{
    [TestClass]
    public class RepeatedString_UnitTest
    {
        [DataRow("ababbaa", 10, 6)]
        [DataRow("aaaaa", 123, 123)]
        [DataRow("ccc", 1000000000000, 0)]
        [DataRow("a", 1000000000000, 1000000000000)]
        [DataTestMethod]
        public void RepeatedStringTest(string repeatedString, long number, long expected)
        {
            RepeatedStringReference.RepeatedStringClient client = new RepeatedStringReference.RepeatedStringClient();
            
            Assert.AreEqual(client.RepeatedString(repeatedString, number), expected);

            client.Close();
        }
    }
}
</pre></div>


<h3 class="wp-block-heading">Client Binding</h3>



<p class="has-medium-font-size">  The client can be configured problematically or in an app.config file. In this config, the client <em>binding </em>does not differ from service configuration binding. Both have the same timeout config as well as other attributes. Another important defined tag is <strong><a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://docs.microsoft.com/en-us/dotnet/api/system.xml.xmldictionaryreaderquotas?view=netframework-4.8" target="_blank">XmlDictionaryReaderQuotas.</a></strong> It contains configurable quota values for XML dictionary readers which limit the amount of memory utilized by an encoder while creating a message.<gwmw style="display:none;"><gwmw style="display:none;"></gwmw><gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></gwmw></p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; highlight: [18,19]; title: ; notranslate">
...
<bindings>
  <wsHttpBinding>
    <binding name="wsHttpBinding_LargeBinding"
      closeTimeout="00:01:00"
      openTimeout="00:01:00"
      receiveTimeout="00:10:00"
      sendTimeout="00:10:00"
      bypassProxyOnLocal="false"
      transactionFlow="false"
      hostNameComparisonMode="StrongWildcard"
      maxBufferPoolSize="250000000"
      maxReceivedMessageSize="250000000"
      messageEncoding="Text"
      textEncoding="utf-8"
      useDefaultWebProxy="true"
      allowCookies="false">
      <readerQuotas maxDepth="2000000" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647" />
      <reliableSession ordered="true" inactivityTimeout="00:10:00" enabled="false" />
      <security mode="Transport">
        <transport clientCredentialType="Certificate" />
      </security>
    </binding>
  </wsHttpBinding>    
</bindings>
...
</pre></div>


<h3 class="wp-block-heading">Client Behavior</h3>



<p class="has-medium-font-size">At client behavior, we add an <a href="https://docs.microsoft.com/en-us/dotnet/framework/configure-apps/file-schema/wcf/clientcredentials"><code><clientCredentials></code></a> element to the <a href="https://docs.microsoft.com/en-us/dotnet/framework/configure-apps/file-schema/wcf/behaviors"><code><behaviors></code></a> element. Bear in mind that it is crucial to set the required <em><strong>name</strong></em> attribute to an appropriate value. We also add an <a href="https://docs.microsoft.com/en-us/dotnet/framework/configure-apps/file-schema/wcf/clientcertificate-of-servicecredentials"><code><clientCertificate></code></a> element to the <a href="https://docs.microsoft.com/en-us/dotnet/framework/configure-apps/file-schema/wcf/clientcredentials"><code><clientCredentials></code></a> element setting these attributes <code>storeLocation, storeName, x509FindType, and findValue</code><em> </em>to appropriate values certificate information.<gwmw style="display:none;"><gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></gwmw></p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; highlight: [6,7,8,9]; title: ; notranslate">
...
<behaviors>
  <endpointBehaviors>
    <behavior name="endpointCredentialBehavior">
      <clientCredentials>
        <clientCertificate findValue="Certificate Subject Name"
                            storeLocation="CurrentUser"
                            storeName="My"
                            x509FindType="FindBySubjectName" />
      </clientCredentials>
    </behavior>
  </endpointBehaviors>
</behaviors>
...
</pre></div>


<h3 class="wp-block-heading">Client Endpoint </h3>



<p class="has-medium-font-size"> When configuring the client, <strong>we should specify the behavior by setting the <code><gwmw class="ginger-module-highlighter-mistake-type-1" id="gwmw-15662639912760560882721">behaviorConfiguration</gwmw> </code>attribute on<gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15662639912768635045114"> </gwmw>the</strong> <endpoint> element. The endpoint element is a child of the <a href="https://docs.microsoft.com/en-us/dotnet/framework/configure-apps/file-schema/wcf/client"><code><client></code></a> element. Also, we need to specify the name of the binding configuration by setting the <code>bindingConfiguration </code>attribute <gwmw class="ginger-module-highlighter-mistake-type-3" id="gwmw-15662639941678029552138">to</gwmw> the binding for the client. If we generated the configuration file, the binding’s name is automatically generated.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; highlight: [3]; title: ; notranslate">
...
<client>
  <endpoint name="EndpointRepeatedString" address="https://localhost/RepeatedString/RepeatedString.svc/endpointRepeatedStringService" behaviorConfiguration="endpointCredentialBehavior" binding="wsHttpBinding" bindingConfiguration="wsHttpBinding_LargeBinding" contract="RepeatedStringReference.IRepeatedString" />
</client>
...
</pre></div>


<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading"> Run the Unit test and download the source-code </h2>



<figure class="wp-block-image alignleft size-full is-resized"><img decoding="async" loading="lazy" src="../wp-content/uploads/2019/08/image-2.png" alt="WCF-Transport-Security-with-Certificate-Authentication test explorar tab" class="wp-image-726" width="626" height="503" srcset="https://jailsonevora.com/wp-content/uploads/2019/08/image-2.png 834w,https://jailsonevora.com/wp-content/uploads/2019/08/image-2-300x241.png 300w,https://jailsonevora.com/wp-content/uploads/2019/08/image-2-768x618.png 768w" sizes="(max-width: 626px) 100vw, 626px"></figure>



<p></p>



<p class="has-medium-font-size">1 – To run the unit test, open Test Explorer, by choosing <em>Test > Windows > </em><a rel="noreferrer noopener" aria-label="Test Explorer (opens in a new tab)" href="https://docs.microsoft.com/en-us/visualstudio/test/run-unit-tests-with-test-explorer?view=vs-2019" target="_blank">Test Explorer</a> from the top menu bar. </p>



<p class="has-medium-font-size">2 – Run your unit tests by clicking Run All. </p>



<p class="has-medium-font-size">After the tests have been completed, a green checkmark indicates that a test passed. A red “x” icon indicates that a test failed.</p>



<figure class="wp-block-image alignleft is-resized"><a href="https://github.com/jeevora/testing-wcf-certificate-authentication-service-using-mstestv2" target="_blank" rel="noreferrer noopener"><img decoding="async" loading="lazy" src="../wp-content/uploads/2019/07/github-1-300x293.png" alt="https://github.com/JERBEvora/WCF_Transport_Security_With_Cert_Post" class="wp-image-120" width="75" height="73" srcset="https://jailsonevora.com/wp-content/uploads/2019/07/github-1-300x293.png 300w,https://jailsonevora.com/wp-content/uploads/2019/07/github-1.png 524w" sizes="(max-width: 75px) 100vw, 75px"></a></figure>



<p class="has-medium-font-size">The source code is hosted on Git Hub. To download it, please follow the link attached to the git icon.</p>



<p><gwmw style="display:none;"><gwmw style="display:none;"></gwmw></gwmw></p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<p></p>
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/08/18/wcf-transport-security-with-certificate-authentication/">WCF Transport Security with Certificate Authentication</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></encoded>
					
					<commentrss>https://jailsonevora.com/2019/08/18/wcf-transport-security-with-certificate-authentication/feed/</commentrss>
			<comments>0</comments>
		
		
			</item>
		<item>
		<title>Workflow Systems – Integrated and Independent Systems</title>
		<link>https://jailsonevora.com/2019/08/16/two-types-of-workflow-systems/
					<comments>https://jailsonevora.com/2019/08/16/two-types-of-workflow-systems/#respond</comments>
		
		<creator></creator>
		<pubdate>Fri, 16 Aug 2019 05:32:26 +0000</pubdate>
				<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<guid ispermalink="false">https://www.jeevora.com/?p=278</guid>

					<description>Traditionally, systems are designed and implemented not only by procedural codes but also by the processing logic performed by the application, expressed as workflow. Having a system where business logic is implemented using procedural or functional codes has consequences, wherein increasing complexity and demand to adapt them to new requirements, any process modification requires code […]
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/08/16/two-types-of-workflow-systems/">Workflow Systems – Integrated and Independent Systems</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></description>
										<encoded>Traditionally, systems are designed and implemented not only by procedural codes but also by the processing logic performed by the application, expressed as workflow. Having a system where business logic is implemented using procedural or functional codes has consequences, wherein increasing complexity and demand to adapt them to new requirements, any process modification requires code modification. In this case, the code will need to be modified, tested, and maintained, so each modification consumes considerable resources. Using <a href="https://www.jailsonevora.com/2019/07/28/process-automation/" target="_blank" rel="noreferrer noopener">workflow systems</a> facilitates the task of modifying business logic, as one can visually perceive the impact of changes and no need to change functional code.



<h2 class="wp-block-heading">

Integrated Workflow Systems

</h2>



<p class="has-medium-font-size">As a result, software systems increasingly integrate a workflow component that facilitates <a href="https://www.jailsonevora.com/2019/07/30/business-process-modeling/" target="_blank" rel="noreferrer noopener">business process modelin</a>g. These components are not autonomous systems, they are incorporated into the application, known as Integrated Workflow Systems (Figure 1), which consist of activities and their causal and temporal ordering, performed by a common system [1],[2].</p>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="490" height="462" src="../wp-content/uploads/2019/08/WFIntegrated.png" alt="Workflow" class="wp-image-281" srcset="https://jailsonevora.com/wp-content/uploads/2019/08/WFIntegrated.png 490w,https://jailsonevora.com/wp-content/uploads/2019/08/WFIntegrated-300x283.png 300w" sizes="(max-width: 490px) 100vw, 490px"><figcaption class="wp-element-caption">Figure 1: Conceptual architecture of integrated WfMS [1], [2].</figcaption></figure>



<p class="has-medium-font-size">Integrated <a href="http://www.wfmc.org/2-uncategorised/53-reference-model" target="_blank" rel="noreferrer noopener" aria-label="WfMS  (opens in a new tab)">WfMS </a>contain a dedicated workflow component that is fed with visual models that capture process logic as well as execution information using the functions performed by the application.</p>



<h2 class="wp-block-heading"> Independent Workflow Systems </h2>



<p class="has-medium-font-size">If there is more than one system, the so-called application-independent workflow system (Figure 2) arises, it is nothing more than dedicated <a aria-label="WfMS (opens in a new tab)" href="http://www.wfmc.org/2-uncategorised/53-reference-model" target="_blank" rel="noreferrer noopener">WfMS</a>, which ensures the invocation of applications as specified in the process model, as well as the transfer between these systems [1], [2]. It interacts with other applications such as ERP, inventory manager, and others, playing a driving role in the exchange of information between them, managing all the logic within organizations.</p>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="684" height="357" src="../wp-content/uploads/2019/08/WFIndependented.png" alt="Workflow" class="wp-image-282" srcset="https://jailsonevora.com/wp-content/uploads/2019/08/WFIndependented.png 684w,https://jailsonevora.com/wp-content/uploads/2019/08/WFIndependented-300x157.png 300w" sizes="(max-width: 684px) 100vw, 684px"><figcaption class="wp-element-caption">Figure 2: Conceptual architecture of application-independent WfMS [1], [2].</figcaption></figure>



<h2 class="wp-block-heading">References<gwmw style="display:none;"></gwmw></h2>



<p>[1] M. Weske, Business Process Management: Concepts, Languages, Architectures 2nd Edition. 2012.<br> [2] M. Weske, Business Process Management: Concepts, Languages, Architectures. 2007.</p>
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/08/16/two-types-of-workflow-systems/">Workflow Systems – Integrated and Independent Systems</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></encoded>
					
					<commentrss>https://jailsonevora.com/2019/08/16/two-types-of-workflow-systems/feed/</commentrss>
			<comments>0</comments>
		
		
			</item>
		<item>
		<title>Why Java EE – Java Enterprise Edition</title>
		<link>https://jailsonevora.com/2019/08/10/java-ee/
					<comments>https://jailsonevora.com/2019/08/10/java-ee/#respond</comments>
		
		<creator></creator>
		<pubdate>Sat, 10 Aug 2019 23:11:48 +0000</pubdate>
				<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<category></category>
		<guid ispermalink="false">https://www.jeevora.com/?p=416</guid>

					<description>Java EE – Java Platform, Enterprise Edition Java Platform, Enterprise Edition (Java EE) is the standard in community-driven enterprise software. Java EE is developed using the Java Community Process, with contributions from industry experts, commercial and open-source organizations, user groups, and countless individuals. Each release integrates new features that align with industry needs, improves application […]
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/08/10/java-ee/">Why Java EE – Java Enterprise Edition</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></description>
										<encoded> Java EE – Java Platform, Enterprise Edition 



<p class="has-drop-cap has-medium-font-size">Java Platform, Enterprise Edition (Java EE) is the standard in community-driven enterprise software. Java EE  is developed using the Java Community Process, with contributions from industry experts, commercial and open-source organizations, user groups, and countless individuals. Each release integrates new features that align with industry needs, improves application portability, and increases developer productivity. </p>



<h3 class="wp-block-heading">Java EE – Specifications </h3>



<p class="has-medium-font-size"> Java EE includes several specifications that serve different purposes, like generating web pages, reading and writing from a database in a transactional way, managing distributed queues, and much more.</p>



<p class="has-medium-font-size">The Java EE APIs include several technologies that extend the functionality of the base SE APIs, such as Enterprise JavaBeans, connectors, servlets, JavaServer Pages, and several web service technologies. </p>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="849" height="520" src="../wp-content/uploads/2019/08/Web-spec.png" alt="Java EE specifications" class="wp-image-418" srcset="https://jailsonevora.com/wp-content/uploads/2019/08/Web-spec.png 849w,https://jailsonevora.com/wp-content/uploads/2019/08/Web-spec-300x184.png 300w,https://jailsonevora.com/wp-content/uploads/2019/08/Web-spec-768x470.png 768w" sizes="(max-width: 849px) 100vw, 849px"><figcaption class="wp-element-caption"><em><a href="https://www.slideshare.net/iwasakihirofumi/future-of-java-ee-with-java-se-8" target="_blank" rel="noreferrer noopener" aria-label="Typical usage of Enterprise Edition specification (opens in a new tab)">Typical usage of Enterprise Edition specification</a></em></figcaption></figure>



<h4 class="wp-block-heading">Web specifications </h4>



<ul>
<li><strong>Servlet</strong>: defines how to manage HTTP requests, synchronously or asynchronously; </li>



<li><strong>WebSocket</strong>: defines a set of APIs to service WebSocket connections; </li>



<li><strong>Java Server Faces</strong>: a technology for constructing user interfaces out of components; </li>



<li><strong>Unified Expression Language (EL)</strong> is a simple language originally designed to satisfy the specific needs of web application developers. </li>
</ul>



<h4 class="wp-block-heading">Web service specifications </h4>



<p class="has-medium-font-size"> Java API for RESTful Web Services provides support in creating web services according to the REST architectural pattern; </p>



<ul>
<li><strong>Java API for XML Web Services</strong> can be used to create <a href="https://www.jailsonevora.com/2019/08/18/wcf-transport-security-with-certificate-authentication/" target="_blank" rel="noreferrer noopener">SOAP web services</a> JAX-WS; </li>



<li><strong>Java API for JSON Processing</strong> is a set of specifications to manage information encoded in JSON format JAX-RS ; </li>



<li><strong>Java API for JSON Binding</strong> provides specifications to convert JSON information into or from Java classes; </li>



<li><strong>Java Architecture for XML Binding</strong> allows mapping XML into Java objects. </li>
</ul>



<h4 class="wp-block-heading"> Enterprise specifications </h4>



<ul>
<li><strong>Contexts and Dependency Injection</strong> is a specification to provide a dependency injection container; </li>



<li><strong>Enterprise JavaBean (EJB)</strong> specification defines a set of lightweight APIs that an <strong>EJB </strong>container will support to provide transactions (<strong>JTA</strong>), remote procedure calls (<strong>RMI or RMI-IIOP</strong>), concurrency control, dependency injection, and access control for business objects; </li>
</ul>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="795" height="538" src="../wp-content/uploads/2019/08/Enterprise-Spec.png" alt="Java EE API in different layers" class="wp-image-417" srcset="https://jailsonevora.com/wp-content/uploads/2019/08/Enterprise-Spec.png 795w,https://jailsonevora.com/wp-content/uploads/2019/08/Enterprise-Spec-300x203.png 300w,https://jailsonevora.com/wp-content/uploads/2019/08/Enterprise-Spec-768x520.png 768w" sizes="(max-width: 795px) 100vw, 795px"><figcaption class="wp-element-caption"><a href="https://www.hascode.com/2011/02/creating-a-sample-java-ee-6-blog-application-with-jpa-ejb-cdi-jsf-and-primefaces-on-glassfish/" target="_blank" rel="noreferrer noopener" aria-label="Some Java EE API in different layers (opens in a new tab)">Some </a><em><a href="https://www.hascode.com/2011/02/creating-a-sample-java-ee-6-blog-application-with-jpa-ejb-cdi-jsf-and-primefaces-on-glassfish/" target="_blank" rel="noreferrer noopener" aria-label="Some Java EE API in different layers (opens in a new tab)">Java EE API in different layers</a></em></figcaption></figure>



<ul>
<li><strong>Java Persistence API</strong> are specifications about the object-relational mapping between relation database tables and Java classes;</li>



<li><strong>Java Transaction API</strong> contains the interfaces and annotations to interact with the transaction support offered by the enterprise edition; </li>



<li><strong>Java Message Service</strong> provides a common way for Java programs to create, send, receive, and read an enterprise messaging system’s messages. </li>
</ul>



<h4 class="wp-block-heading"> Other specifications </h4>



<ul>
<li><strong>Validation</strong> contains the annotations and interfaces for the declarative validation support offered by the Bean Validation API; </li>



<li><strong>Batch Applications</strong> provide the means to run long-running background tasks that possibly involve a large volume of data and which may need to be periodically executed; </li>



<li><strong>Java EE Connector Architecture</strong> is a Java-based technology solution for connecting application servers and enterprise information systems (<strong>EIS</strong>) as part of enterprise application integration (<strong>EAI</strong>) solutions. </li>
</ul>



<div style="height:55px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">JAVA</h2>



<ul>
<li>Used in big enterprises;</li>



<li>Robust, modular, and scalable;   </li>



<li>Platform independent;</li>



<li>Strongly typed giving it more security;</li>



<li>Compiled to byte-code, given performance push;</li>



<li> Static type checking;</li>



<li>Handle Concurrency; </li>



<li>Natively multi-threading.</li>
</ul>



<h3 class="wp-block-heading">Java – Consider using, if your project involves : </h3>



<div class="wp-block-columns has-2-columns is-layout-flex wp-container-3">
<div class="wp-block-column is-layout-flow">
<ul>
<li>Server-Side Applications;</li>



<li>Big Data Analytics; </li>



<li>Enterprise Software; </li>



<li>Scientific Computing.</li>
</ul>
</div>



<div class="wp-block-column is-layout-flow">
<figure class="wp-block-image aligncenter size-full"><img decoding="async" loading="lazy" width="706" height="564" src="../wp-content/uploads/2019/08/MostPopularTech2019.png" alt="Java in Stack Overflow 2019 Most Popular Technologies" class="wp-image-427" srcset="https://jailsonevora.com/wp-content/uploads/2019/08/MostPopularTech2019.png 706w,https://jailsonevora.com/wp-content/uploads/2019/08/MostPopularTech2019-300x240.png 300w" sizes="(max-width: 706px) 100vw, 706px"><figcaption class="wp-element-caption"> <em><a href="https://insights.stackoverflow.com/survey/2019#technology">Java in Stack Overflow 2019 Most Popular Technologies</a></em>  </figcaption></figure>
</div>
</div>



<h2 class="wp-block-heading"> References </h2>



<p>Java Platform, Enterprise Edition – <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://docs.oracle.com/javaee/7/tutorial/overview007.htm" target="_blank">https://docs.oracle.com/javaee/7/tutorial/overview007.htm</a><br>Your First Cup – <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://docs.oracle.com/javaee/6/firstcup/doc/gcrky.html" target="_blank">https://docs.oracle.com/javaee/6/firstcup/doc/gcrky.html</a><br>The Java EE 6 Tutorial – <a rel="noreferrer noopener" aria-label="https://docs.oracle.com/javaee/6/tutorial/doc/bnabo.html (opens in a new tab)" href="https://docs.oracle.com/javaee/6/tutorial/doc/bnabo.html" target="_blank">https://docs.oracle.com/javaee/6/tutorial/doc/bnabo.html</a></p>
<p>The post <a rel="nofollow" href="https://jailsonevora.com/2019/08/10/java-ee/">Why Java EE – Java Enterprise Edition</a> appeared first on <a rel="nofollow" href="http://jailsonevora.com/">Backend-Dev</a>.</p>
]]></encoded>
					
					<commentrss>https://jailsonevora.com/2019/08/10/java-ee/feed/</commentrss>
			<comments>0</comments>
		
		
			</item>
	</channel>
</rss>

</body></html>
