<!DOCTYPE html>
<html lang="en-US">
<head><style>img.lazy{min-height:1px}</style><link rel="preload" href="https://jailsonevora.github.io/wp-content/plugins/w3-total-cache/pub/js/lazyload.min.js" as="script">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">

	
	<title>Microservices in Publish-Subscribe communication using Apache Kafka as a Messaging Systems and validated through Integration Test. - BackendDev</title>
	<meta name="description" content="Publish-Subscribe Messaging systems play an important role in any enterprise architecture as it enables reliable integration without tightly..">
	
	<meta property="og:locale" content="en_US">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Microservices in Publish-Subscribe communication using Apache Kafka as a Messaging Systems and validated through Integration Test. - BackendDev">
	<meta property="og:description" content="Publish-Subscribe Messaging systems play an important role in any enterprise architecture as it enables reliable integration without tightly..">
	<meta property="og:url" content="https://www.jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/">
	<meta property="og:site_name" content="BackendDev">
	<meta property="article:published_time" content="2019-11-18T23:00:00+00:00">
	<meta property="article:modified_time" content="2020-03-31T02:50:44+00:00">
	<meta property="og:image" content="https://www.jailsonevora.com/wp-content/uploads/2019/11/Microservices-with-kafka-1024x649.png">
	<meta property="og:image:width" content="1024">
	<meta property="og:image:height" content="649">
	<meta property="og:image:type" content="image/png">
	<meta name="author" content="admin">
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:label1" content="Written by">
	<meta name="twitter:data1" content="admin">
	<meta name="twitter:label2" content="Est. reading time">
	<meta name="twitter:data2" content="17 minutes">
	<script type="application/ld+json" class="yoast-schema-graph">{
	    "@context": "https://schema.org",
	    "@graph": [
	        {
	            "@type": "WebPage",
	            "@id": "https://www.jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/",
	            "url": "https://www.jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/",
	            "name": "Microservices in Publish-Subscribe communication using Apache Kafka as a Messaging Systems and validated through Integration Test. - BackendDev",
	            "isPartOf": {
	                "@id": "https://www.jailsonevora.com/#website"
	            },
	            "primaryImageOfPage": {
	                "@id": "https://www.jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/#primaryimage"
	            },
	            "image": {
	                "@id": "https://www.jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/#primaryimage"
	            },
	            "thumbnailUrl": "https://jailsonevora.github.io/wp-content/uploads/2019/11/Microservices-with-kafka.png",
	            "datePublished": "2019-11-18T23:00:00+00:00",
	            "dateModified": "2020-03-31T02:50:44+00:00",
	            "author": {
	                "@id": "https://www.jailsonevora.com/#/schema/person/dbc135529fc61a4826e3aa4d6eda9ad6"
	            },
	            "description": "Publish-Subscribe Messaging systems play an important role in any enterprise architecture as it enables reliable integration without tightly..",
	            "breadcrumb": {
	                "@id": "https://www.jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/#breadcrumb"
	            },
	            "inLanguage": "en-US",
	            "potentialAction": [
	                {
	                    "@type": "ReadAction",
	                    "target": [
	                        "https://www.jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/"
	                    ]
	                }
	            ]
	        },
	        {
	            "@type": "ImageObject",
	            "inLanguage": "en-US",
	            "@id": "https://www.jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/#primaryimage",
	            "url": "https://jailsonevora.github.io/wp-content/uploads/2019/11/Microservices-with-kafka.png",
	            "contentUrl": "https://jailsonevora.github.io/wp-content/uploads/2019/11/Microservices-with-kafka.png",
	            "width": 2548,
	            "height": 1616
	        },
	        {
	            "@type": "BreadcrumbList",
	            "@id": "https://www.jailsonevora.com/2019/11/18/publish-subscribe-messaging-systems/#breadcrumb",
	            "itemListElement": [
	                {
	                    "@type": "ListItem",
	                    "position": 1,
	                    "name": "Home",
	                    "item": "https://jailsonevora.github.io/"
	                },
	                {
	                    "@type": "ListItem",
	                    "position": 2,
	                    "name": "Blog",
	                    "item": "https://www.jailsonevora.com/j-e-evora-blog/"
	                },
	                {
	                    "@type": "ListItem",
	                    "position": 3,
	                    "name": "Microservices in Publish-Subscribe communication using Apache Kafka as a Messaging Systems and validated through Integration Test."
	                }
	            ]
	        },
	        {
	            "@type": "WebSite",
	            "@id": "https://www.jailsonevora.com/#website",
	            "url": "https://www.jailsonevora.com/",
	            "name": "BackendDev",
	            "description": "",
	            "potentialAction": [
	                {
	                    "@type": "SearchAction",
	                    "target": {
	                        "@type": "EntryPoint",
	                        "urlTemplate": "https://www.jailsonevora.com/?s={search_term_string}"
	                    },
	                    "query-input": "required name=search_term_string"
	                }
	            ],
	            "inLanguage": "en-US"
	        },
	        {
	            "@type": "Person",
	            "@id": "https://www.jailsonevora.com/#/schema/person/dbc135529fc61a4826e3aa4d6eda9ad6",
	            "name": "admin",
	            "image": {
	                "@type": "ImageObject",
	                "inLanguage": "en-US",
	                "@id": "https://www.jailsonevora.com/#/schema/person/image/",
	                "url": "http://2.gravatar.com/avatar/2518d0f940f3d960d2215bd59dccff53?s=96&d=mm&r=g",
	                "contentUrl": "http://2.gravatar.com/avatar/2518d0f940f3d960d2215bd59dccff53?s=96&d=mm&r=g",
	                "caption": "admin"
	            },
	            "sameAs": [
	                "https://jailsonevora.github.io"
	            ],
	            "url": "https://jailsonevora.github.io/author/admin/"
	        }
	    ]
	}</script>
	


<link rel="dns-prefetch" href="//fonts.googleapis.com">



<link rel="stylesheet" id="wp-block-library-css" href="https://jailsonevora.github.io/wp-includes/css/dist/block-library/style.min.css?ver=6.2" type="text/css" media="all">
<style id="wp-block-library-theme-inline-css" type="text/css">
.wp-block-audio figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio figcaption{color:hsla(0,0%,100%,.65)}.wp-block-audio{margin:0 0 1em}.wp-block-code{border:1px solid #ccc;border-radius:4px;font-family:Menlo,Consolas,monaco,monospace;padding:.8em 1em}.wp-block-embed figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed figcaption{color:hsla(0,0%,100%,.65)}.wp-block-embed{margin:0 0 1em}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:hsla(0,0%,100%,.65)}.wp-block-image figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-image figcaption{color:hsla(0,0%,100%,.65)}.wp-block-image{margin:0 0 1em}.wp-block-pullquote{border-bottom:4px solid;border-top:4px solid;color:currentColor;margin-bottom:1.75em}.wp-block-pullquote cite,.wp-block-pullquote footer,.wp-block-pullquote__citation{color:currentColor;font-size:.8125em;font-style:normal;text-transform:uppercase}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;font-style:normal;position:relative}.wp-block-quote.has-text-align-right{border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote.has-text-align-center{border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large,.wp-block-quote.is-style-plain{border:none}.wp-block-search .wp-block-search__label{font-weight:700}.wp-block-search__button{border:1px solid #ccc;padding:.375em .625em}:where(.wp-block-group.has-background){padding:1.25em 2.375em}.wp-block-separator.has-css-opacity{opacity:.4}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto}.wp-block-separator.has-alpha-channel-opacity{opacity:1}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table{margin:0 0 1em}.wp-block-table td,.wp-block-table th{word-break:normal}.wp-block-table figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table figcaption{color:hsla(0,0%,100%,.65)}.wp-block-video figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video figcaption{color:hsla(0,0%,100%,.65)}.wp-block-video{margin:0 0 1em}.wp-block-template-part.has-background{margin-bottom:0;margin-top:0;padding:1.25em 2.375em}
</style>
<link rel="stylesheet" id="classic-theme-styles-css" href="https://jailsonevora.github.io/wp-includes/css/classic-themes.min.css?ver=6.2" type="text/css" media="all">
<style id="global-styles-inline-css" type="text/css">
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--light-blue: #d3e9f3;--wp--preset--color--material-green: #4CAF50;--wp--preset--color--light-gray: #eee;--wp--preset--color--dark-gray: #111;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--gradient--vivid-green-cyan-to-vivid-cyan-blue: linear-gradient(135deg,rgba(0,208,132,1) 0%,rgba(6,147,227,1) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 12px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--font-size--regular: 16px;--wp--preset--font-size--huge: 50px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}
</style>
<link rel="stylesheet" id="SFSImainCss-css" href="https://jailsonevora.github.io/wp-content/plugins/ultimate-social-media-icons/css/sfsi-style.css?ver=2.8.1" type="text/css" media="all">
<link rel="stylesheet" id="portfolioo-style-css" href="https://jailsonevora.github.io/wp-content/themes/portfolioo/style.css?ver=6.2" type="text/css" media="all">
<link rel="stylesheet" id="portfolioo-fontawesome-css" href="https://jailsonevora.github.io/wp-content/themes/portfolioo/assets/fonts/font-awesome.css?ver=4.7.0" type="text/css" media="all">
<link rel="stylesheet" id="portfolioo_google_fonts-css" href="//fonts.googleapis.com/css?family=Raleway:300,400%7CSource+Sans:300,600,latin-ext" type="text/css" media="all">
<link rel="stylesheet" id="portfolioo-custom-style-css" href="https://jailsonevora.github.io/wp-content/themes/portfolioo/style.css?ver=6.2" type="text/css" media="all">
<style id="portfolioo-custom-style-inline-css" type="text/css">

                #masthead{
                        background-image: url();
                        background-size:cover;
                        background-repeat:no-repeat;
                }
</style>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-includes/js/jquery/jquery.min.js?ver=3.6.3" id="jquery-core-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.0" id="jquery-migrate-js"></script>





    <style type="text/css">

      #masthead {background-color: #000;}
      .menu-toggle i.fa.fa-bars {color: #fff;}
      .site-title a {color: #fff;}
      .pad_menutitle i.fa.fa-times {background-color: #2196F3;}
      body {font-family: "Raleway Light", "Source Sans", sans-serif;}
      body {font-size: 13px;}

    </style>
    </head>

<body class="post-template-default single single-post postid-1028 single-format-standard wp-embed-responsive sfsi_actvite_theme_default">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<header id="masthead" class="site-header " role="banner">
		<div class="site-branding">

			<div class="site-logo">
					  

									<p class="site-title"><a href="https://jailsonevora.github.io/" rel="home">BackendDev</a></p>
				  	 
				
			</div>

			

					</div>

			<nav id="site-navigation" class="main-navigation" role="navigation">
				<button href="#sidr" class="menu-toggle" aria-controls="primary-menu" aria-expanded="false"><i class="fa fa-bars"></i></button>
				<div id="menu" class="menu"><ul>
<li class="page_item page-item-12"><a href="https://jailsonevora.github.io/">Home</a></li>
<li class="page_item page-item-32"><a href="https://jailsonevora.github.io/about-j-e-evora/">About Me</a></li>
<li class="page_item page-item-42 current_page_parent"><a href="https://jailsonevora.github.io/j-e-evora-blog/">Blog</a></li>
<li class="page_item page-item-34"><a href="https://jailsonevora.github.io/contact-j-e-evora/">Contact Me</a></li>
</ul></div>
			</nav>
	</header>

	<div id="content" class="site-content">
	<div id="primary" class="content-area single_post_page">
		<main id="main" class="site-main" role="main">

		
<article id="post-1028" class="post-1028 post type-post status-publish format-standard has-post-thumbnail hentry category-event-driven-architecture category-microservices tag-brokers tag-integration-test tag-junit tag-kafka tag-micro-framework tag-microservices tag-partition tag-publish-subscribe-pattern tag-queue tag-topics tag-zookeeper">
	
		<div class="post-entry-meta">
			<span class="posted-on">Posted on <a href="https://jailsonevora.github.io/2019/11/18/publish-subscribe-messaging-systems/" rel="bookmark"><time class="entry-date published" datetime="2019-11-18T23:00:00+00:00">November 18, 2019</time><time class="updated" datetime="2020-03-31T02:50:44+00:00">March 31, 2020</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://jailsonevora.github.io/author/admin/">admin</a></span></span>		</div>
		
	<div class="entry-content">

		<div class="featured__image">
			<img width="2548" height="1616" src="data:image/svg+xml,%3Csvg%20xmlns='https://www.w3.org/2000/svg'%20viewBox='0%200%202548%201616'%3E%3C/svg%3E" data-src="https://jailsonevora.github.io/wp-content/uploads/2019/11/Microservices-with-kafka.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image lazy" alt="" decoding="async" data-srcset="https://jailsonevora.github.io/wp-content/uploads/2019/11/Microservices-with-kafka.png 2548w, https://jailsonevora.github.io/wp-content/uploads/2019/11/Microservices-with-kafka-300x190.png 300w, https://jailsonevora.github.io/wp-content/uploads/2019/11/Microservices-with-kafka-1024x649.png 1024w, https://jailsonevora.github.io/wp-content/uploads/2019/11/Microservices-with-kafka-768x487.png 768w, https://jailsonevora.github.io/wp-content/uploads/2019/11/Microservices-with-kafka-1536x974.png 1536w, https://jailsonevora.github.io/wp-content/uploads/2019/11/Microservices-with-kafka-2048x1299.png 2048w" data-sizes="(max-width: 2548px) 100vw, 2548px">	</div>

	
	<div class="post_wrap">

		<div class="post_others">

			
			<header class="entry-header">
				<h1 class="entry-title">Microservices in Publish-Subscribe communication using Apache Kafka as a Messaging Systems and validated through Integration Test.</h1>				
									
							</header>
			

			
			<div class="entry">
				
<p class="has-drop-cap has-medium-font-size"> Publish-Subscribe Messaging systems play an important role in any enterprise architecture as it enables reliable integration without tightly coupling the applications. The ability to share data between decoupled systems is not a problem that is easily tackled.</p>



<p class="has-medium-font-size"> Consider an enterprise with multiple applications that are being built independently, with different languages and platforms. It needs to share data and processes in a responsive way. We can achieve this using Messaging to transfer packets of data frequently, immediately, reliably, and asynchronously, using customizable formats. Asynchronous messaging is fundamentally a pragmatic reaction to the problems of distributed systems. Sending a message does not require both systems to be up and ready at the same time.</p>



<div style="height:60px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading"> Publish-Subscribe Channel </h2>



<p class="has-medium-font-size">  From a simple perspective, the understanding of this pattern relies on its expands upon the Observer pattern by adding the notion of an event channel for communicating event notifications. The Observer pattern describes the need to decouple observers from their subject so that the subject can easily provide event notification to all interested observers no matter how many observers there are.  </p>



<p class="has-medium-font-size"> Each subscriber needs to be notified of a particular event once, but should not be notified repeatedly of the same event. The event cannot be considered consumed until all of the subscribers have been notified. But once all of the subscribers have been notified, the event can be considered consumed and should disappear from the channel [2]. </p>



<div style="height:64px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Broker, Queues, Topics, and Subscriptions</h2>



<p class="has-medium-font-size">Brokered messaging supports the scenario of truly temporal decoupled systems where either message producer or consumer availability is not guaranteed. With Brokered messaging, the queue is the broker that retains a message created by a producer and where the consumer can retrieve the message when ready. </p>



<p class="has-medium-font-size"> Queue provides the simplest message delivery option. Messages in a Queue are organized by first-in, first-out (FIFO) and each message is expected to be processed by a single consumer. However, Topics and Subscriptions constitute a publish/subscribe pattern allowing the same message to be processed by N number of consumers.</p>



<div class="wp-block-image"><figure class="aligncenter size-full"><img decoding="async" width="522" height="192" src="data:image/svg+xml,%3Csvg%20xmlns='https://www.w3.org/2000/svg'%20viewBox='0%200%20522%20192'%3E%3C/svg%3E" data-src="https://www.jeevora.com/wp-content/uploads/2019/11/image-4.png" alt="Publish-Subscribe Messaging System" class="wp-image-1374 lazy" data-srcset="https://jailsonevora.github.io/wp-content/uploads/2019/11/image-4.png 522w, https://jailsonevora.github.io/wp-content/uploads/2019/11/image-4-300x110.png 300w" data-sizes="(max-width: 522px) 100vw, 522px"></figure></div>



<p class="has-medium-font-size"> A single message can be added to a topic and for every subscription rule that is satisfied, a copy of the message will be added to that subscription. In this case, each subscription becomes the queue, where consumers can process the messages on a subscription individually. </p>



<p class="has-medium-font-size">One of a reliable and mature project that is being utilized by industry leaders is Apache Kafka that provides us the capability to handling a huge number of messages per second, instead of traditional messaging systems that have been quite useful in traditional scenarios but not efficient and valuable in handling Big Data scenarios.</p>



<p class="has-medium-font-size">Beyond messaging, Apache Kafka can be applied in stream processing, website activity tracking, log aggregation, metrics, time-based message storage, commit log and event sourcing. In the next section, we will cover in deep the components and characteristics of Apache Kafka.</p>



<div style="height:62px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Kafka</h2>



<p class="has-medium-font-size">Kafka is a distributed publish-subscribe messaging system that is fast, scalable and distributed in nature by its design, partitioned and replicated commit log service. It differs from a traditional messaging system to be very easy to scale out, to offer high throughput, to supports multi-subscribers and to automatically balances the consumers during failure and the ability to allow real-time applications or ETL to use it as batch consumption of persisted messages on disk.</p>



<div class="wp-block-image"><figure class="aligncenter size-full"><img decoding="async" width="563" height="484" src="data:image/svg+xml,%3Csvg%20xmlns='https://www.w3.org/2000/svg'%20viewBox='0%200%20563%20484'%3E%3C/svg%3E" data-src="https://www.jeevora.com/wp-content/uploads/2019/11/Kafka-1.png" alt="Publish-Subscribe Messaging System" class="wp-image-1534 lazy" data-srcset="https://jailsonevora.github.io/wp-content/uploads/2019/11/Kafka-1.png 563w, https://jailsonevora.github.io/wp-content/uploads/2019/11/Kafka-1-300x258.png 300w" data-sizes="(max-width: 563px) 100vw, 563px"></figure></div>



<h3 class="wp-block-heading"> Components [1]  </h3>



<ul><li><strong>Producers </strong>– Producers are any applications/programs that publish messages to Kafka brokers.</li></ul>



<div class="wp-block-image"><figure class="aligncenter size-full"><img decoding="async" width="434" height="259" src="data:image/svg+xml,%3Csvg%20xmlns='https://www.w3.org/2000/svg'%20viewBox='0%200%20434%20259'%3E%3C/svg%3E" data-src="https://www.jeevora.com/wp-content/uploads/2019/11/image-2.png" alt="Publish-Subscribe Messaging System" class="wp-image-1365 lazy" data-srcset="https://jailsonevora.github.io/wp-content/uploads/2019/11/image-2.png 434w, https://jailsonevora.github.io/wp-content/uploads/2019/11/image-2-300x179.png 300w" data-sizes="(max-width: 434px) 100vw, 434px"></figure></div>



<ul><li><strong>Consumers </strong>– Consumers are applications that consume messages from Kafka brokers. These consumers can be a simple application, a real-time stream processing engine, etc. </li></ul>



<ul><li><strong>Topics and Partitions</strong> – Apache Kafka supports the concepts of message Topics that allow categorizing the messages. It enables us to create different Topics for different types of messages and has different consumers consuming messages. Apache Kafka moreover allows creating multiple partitions in a Topic to concede the parallel consumption of messages as we can have separate consumers consuming from different partitions at the same time. Each partition has a leader node that is responsible for accepting the read/write requests from consumers/producers for that partition.</li></ul>



<div class="wp-block-image"><figure class="aligncenter size-full"><img decoding="async" width="450" height="260" src="data:image/svg+xml,%3Csvg%20xmlns='https://www.w3.org/2000/svg'%20viewBox='0%200%20450%20260'%3E%3C/svg%3E" data-src="https://www.jeevora.com/wp-content/uploads/2019/11/image-3.png" alt="Publish-Subscribe Messaging System" class="wp-image-1366 lazy" data-srcset="https://jailsonevora.github.io/wp-content/uploads/2019/11/image-3.png 450w, https://jailsonevora.github.io/wp-content/uploads/2019/11/image-3-300x173.png 300w" data-sizes="(max-width: 450px) 100vw, 450px"></figure></div>



<ul><li><strong>Broker</strong> – Kafka broker typically refers to a machine with Kafka installed on it. However, it is possible to set up more than one brokers on a single machine in a non-production setting. Kafka broker is responsible for managing the message logs and accepting the requests from producers/consumers. Kafka brokers are stateless. This means that the consumer has to maintain how much it has consumed. Consumer maintains it by itself and the broker would not do anything.</li><li><strong>Storage </strong>–  Kafka has a very simple storage layout. Each partition of a topic corresponds to a logical log. Physically, a log is implemented as a set of segment files of equal sizes. Every time a producer publishes a message to a partition, the broker simply appends the message to the last segment file. Segment file is flushed to disk after configurable numbers of messages have been published or after a certain amount of time elapsed. Messages are exposed to the consumer after it gets flushed.   </li><li><strong>Cluster </strong>– Kafka cluster is a collection of Kafka brokers. All the Kafka brokers in a cluster work collectively to manage the messages and their copies as configured.</li></ul>



<div class="wp-block-image"><figure class="aligncenter size-full"><img decoding="async" width="527" height="266" src="data:image/svg+xml,%3Csvg%20xmlns='https://www.w3.org/2000/svg'%20viewBox='0%200%20527%20266'%3E%3C/svg%3E" data-src="https://www.jeevora.com/wp-content/uploads/2019/11/image-1.png" alt="Publish-Subscribe Messaging System" class="wp-image-1364 lazy" data-srcset="https://jailsonevora.github.io/wp-content/uploads/2019/11/image-1.png 527w, https://jailsonevora.github.io/wp-content/uploads/2019/11/image-1-300x151.png 300w" data-sizes="(max-width: 527px) 100vw, 527px"></figure></div>



<h3 class="wp-block-heading">Zookeeper </h3>



<p class="has-medium-font-size">ZooKeeper is used to manage and coordinate the Kafka broker. Each Kafka broker is coordinated with other Kafka brokers using ZooKeeper. The producer and consumer are notified by the ZooKeeper service about the presence of a new broker or failure of the broker in the Kafka system. From the notification received by the Zookeeper regarding the presence or failure of the broker, producer and consumer takes the decision and start coordinating its work with some other broker.  Also, it is responsible to choose the new leaders for the partitions. </p>



<div style="height:70px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Case Study</h2>



<p class="has-medium-font-size"> After a little state of art lets, focus on practice. So, our case study simulates the communication between two microservices built with Spring Boot micro-framework v2.1.8.RELEASE in publish-subscribe context, using Apache Kafka 2.3.1 as a message system. To validate our study we will be setting and execute an integration test that focuses on integrating different layers of the application in an end to end scenarios with the JUnit 4/5 testing framework.</p>



<div class="wp-block-image"><figure class="alignleft size-full"><img decoding="async" width="576" height="391" src="data:image/svg+xml,%3Csvg%20xmlns='https://www.w3.org/2000/svg'%20viewBox='0%200%20576%20391'%3E%3C/svg%3E" data-src="https://www.jeevora.com/wp-content/uploads/2019/11/image-13.png" alt="Publish-Subscribe Messaging System" class="wp-image-1492 lazy" data-srcset="https://jailsonevora.github.io/wp-content/uploads/2019/11/image-13.png 576w, https://jailsonevora.github.io/wp-content/uploads/2019/11/image-13-300x204.png 300w" data-sizes="(max-width: 576px) 100vw, 576px"></figure></div>



<p class="has-medium-font-size">The Producer API is a module that implements the operation for a <a href="https://www.jeevora.com/2019/09/16/key-java-annotations-to-build-spring-boot-rest-api/" target="_blank" rel="noreferrer noopener" aria-label="business entity service (opens in a new tab)">business entity service</a> with the intention to coordinate and harmonize economic information relating to enterprises, establishments, and groups of entities. The Consumer API is another module in the same solution which aims to centralize all business entity statistics, receiving data input from a different source.</p>



<p class="has-medium-font-size">For the sake of simplicity, the APIs use the H2 in-memory database. The project structure is composed of three modules. Both major modules, Producer, and Consumer have a dependency from the Common module, where it shares things like the error handling and auxiliary classes with the remaining part of the system. </p>



<p class="has-medium-font-size">The sample is accessible from the GitHub repository; to download it, please follow this <a rel="noreferrer noopener" href="https://github.com/JERBEvora/spring-boot-api-communication-through-kafka" target="_blank">link</a>. </p>



<p>Let’s get started.</p>



<div style="height:67px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Integrating Spring Kafka with Apache Kafka Message System</h2>



<p class="has-medium-font-size">The Spring for Apache Kafka project applies core Spring concepts to the development of Kafka-based messaging solutions. It provides a “template” as a high-level abstraction for sending messages. It also provides support for Message-driven POJOs with @KafkaListener annotations and a “listener container”. These libraries promote the use of dependency injection and declarative [3].</p>



<h3 class="wp-block-heading">Producer API</h3>



<p class="has-medium-font-size">We need two steps to config a producer. The first one is the config class where we define the producer Map object, the producer factory, and the Kafka template. The second is respected to service class when we set the message builder to publish in Kafka broker.</p>



<h4 class="wp-block-heading">Producer Config</h4>



<p class="has-medium-font-size">In configuration class, the constant  “<em>bootstrapServers”</em> which is the Kafka server is set in application.properties. Using the <a rel="noreferrer noopener" aria-label='@Value("${spring.kafka.bootstrap-servers}") (opens in a new tab)' href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html" target="_blank">@Value(“${spring.kafka.bootstrap-servers}”)</a> annotation indicates a default value expression for the affected argument. </p>



<p class="has-medium-font-size">To create a Kafka producer, we define certain properties that we pass to the constructor of a Kafka producer. In “<em>producerconfigs</em>” @Bean we set the BOOTSTRAP_SERVERS_CONFIG property to the list of broker addresses we defined earlier in application.properties. BOOTSTRAP_SERVERS_CONFIG value is a comma-separated list of host/port pairs that the Producer uses to establish an initial connection to the Kafka cluster.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate" title="">
package com.BusinessEntityManagementSystem;

import ...

@Configuration
public class KafkaProducerConfig {

    @Value("${spring.kafka.bootstrap-servers}")
    private String bootstrapServers;

    @Bean
    public Map<String, Object> producerConfigs() {
        Map<String, Object> props = new HashMap<>();
        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);
        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);
        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);
        return props;
    }

    @Bean
    public ProducerFactory<String, BusinessEntity> producerFactory() {
        return new DefaultKafkaProducerFactory<>(producerConfigs());
    }

    @Bean
    public KafkaTemplate<String, BusinessEntity> kafkaTemplate() {
        return new KafkaTemplate<String, BusinessEntity>(producerFactory());
    }
}
</pre></div>


<p class="has-medium-font-size">The KEY_SERIALIZER_CLASS_CONFIG is a Kafka Serializer class for Kafka record keys that implements the Kafka Serializer interface. Notice that we set this to StringSerializer.class as the message ids. The VALUE_SERIALIZER_CLASS_CONFIG is a Kafka Serializer class that we set it to JsonSerializer.class as the message body.</p>



<p class="has-medium-font-size">To create messages, first, we need to configure a ProducerFactory which sets the strategy for creating Kafka Producer instances. Then we need a KafkaTemplate which wraps a Producer instance and provides convenience methods for sending messages to Kafka topics using our data transfer object “<em>BusinessEntity</em>“.</p>



<h4 class="wp-block-heading">Producer Service</h4>



<p class="has-medium-font-size">In the Kafka Producer Service class, the <a rel="noreferrer noopener" aria-label="@Service (opens in a new tab)" href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Service.html" target="_blank">@Service</a> annotation indicates that the annotated class is a “Service”. In this class we implement the method to send the messages to Kafka broker, declaring the topic attribute on the header predefined in the application.properties.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate" title="">
package com.BusinessEntityManagementSystem.kafka;

import ...

@Service
public class KafkaProducer {

    @Autowired
    private KafkaTemplate<String, BusinessEntity> kafkaTemplate;

    @Value("${statistics.kafka.topic}")
    String kafkaTopic;

    public void send(BusinessEntity payload) {
        Message<BusinessEntity> message = MessageBuilder
                .withPayload(payload)
                .setHeader(KafkaHeaders.TOPIC, kafkaTopic)
                .build();
        kafkaTemplate.send(message);
    }
}
</pre></div>


<div style="height:50px" aria-hidden="true" class="wp-block-spacer"></div>



<h3 class="wp-block-heading">Consumer API</h3>



<p class="has-medium-font-size">In consumer, we need to add the appropriate Deserializer which can convert JSON byte[] into a Java Object. To set it, we need the class config and the class annotated with @components that will autodetect this class for dependency injection when annotation-based configuration and classpath scanning is used.</p>



<h4 class="wp-block-heading">Consumer Config</h4>



<p class="has-medium-font-size">As well, as we specify the KEY_SERIALIZER_CLASS_CONFIG,  VALUE_SERIALIZER_CLASS_CONFIG to serialize the message published by producer, we also need to inform the Spring Kafka about constant values for deserialization like KEY_DESERIALIZER_CLASS_CONFIG and  VALUE_DESERIALIZER_CLASS_CONFIG. Beyond the constants referenced above, we specify the GROUP_ID_CONFIG and AUTO_OFFSET_RESET_CONFIG as the earliest, allowing the consumer to read the last inserted message in the broker.</p>



<p class="has-medium-font-size"> To enable Kafka listeners, we use the <a rel="noreferrer noopener" href="https://docs.spring.io/spring-kafka/docs/2.1.2.RELEASE/api/org/springframework/kafka/annotation/EnableKafka.html" target="_blank">@EnableKafka</a> annotation.  This annotated endpoints that are created under the covers by an <a rel="noreferrer noopener" aria-label="AbstractListenerContainerFactory (opens in a new tab)" href="https://docs.spring.io/spring-kafka/docs/2.1.2.RELEASE/api/org/springframework/kafka/config/AbstractKafkaListenerContainerFactory.html" target="_blank">AbstractListenerContainerFactory</a>. The KafkaListenerContainerFactory is responsible to create the listener container for a particular endpoint. It enables the detection of <a href="https://docs.spring.io/spring-kafka/docs/2.1.2.RELEASE/api/org/springframework/kafka/annotation/KafkaListener.html">KafkaListener </a>annotations on any Spring-managed bean in the container. </p>



<p class="has-text-align-left has-medium-font-size"> As typical implementations, the <a rel="noreferrer noopener" aria-label="ConcurrentKafkaListenerContainerFactory (opens in a new tab)" href="https://docs.spring.io/spring-kafka/docs/2.1.2.RELEASE/api/org/springframework/kafka/config/ConcurrentKafkaListenerContainerFactory.html" target="_blank">ConcurrentKafkaListenerContainerFactory</a> provides the necessary configuration options that are supported by the underlying <a href="https://docs.spring.io/spring-kafka/docs/2.1.2.RELEASE/api/org/springframework/kafka/listener/MessageListenerContainer.html" target="_blank" rel="noreferrer noopener" aria-label="MessageListenerContainer (opens in a new tab)">MessageListenerContainer</a>.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate" title="">
package com.BusinessStatisticsUnitFiles;

import ...

@Configuration
@EnableKafka
public class KafkaConsumerConfig {

    @Value("${spring.kafka.bootstrap-servers}")
    private String bootstrapServers;

    @Bean
    public Map<String, Object> consumerConfigs() {
        Map<String, Object> props = new HashMap<>();
        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);
        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);
        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);
        props.put(ConsumerConfig.GROUP_ID_CONFIG, "statistics-BusinessStatisticsUnitFiles-group");
        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, "earliest");
        return props;
    }

    @Bean
    public ConsumerFactory<String, BusinessEntity> consumerFactory() {
        return new DefaultKafkaConsumerFactory<>(
                consumerConfigs(),
                new StringDeserializer(),
                new JsonDeserializer<>(BusinessEntity.class, false));
    }

    @Bean
    public ConcurrentKafkaListenerContainerFactory<String, BusinessEntity> kafkaListenerContainerFactory() {
        ConcurrentKafkaListenerContainerFactory<String, BusinessEntity> factory =
                new ConcurrentKafkaListenerContainerFactory<>();
        factory.setConsumerFactory(consumerFactory());
        return factory;
    }
}
</pre></div>


<p class="has-medium-font-size">On the consumer factory, we have the possibility to disable the use of headers. this is achieved now by setting to false the second parameter in <em>new JsonDeserializer<>(BusinessEntity.class, false));</em>. This allows the consumer to trust messages that come from any packages.</p>



<h4 class="wp-block-heading">Consumer “Service”</h4>



<p class="has-medium-font-size">For consuming messages, It is necessary to have configured the  ConsumerFactory and a KafkaListenerContainerFactory as we did above. Once these beans are available in the Spring bean factory, POJO based consumers can be configured using <a rel="noreferrer noopener" href="https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/KafkaListener.html" target="_blank">@KafkaListener</a> annotation.</p>



<p class="has-medium-font-size"><a rel="noreferrer noopener" aria-label="@KafkaHandler (opens in a new tab)" href="https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/KafkaHandler.html" target="_blank">@KafkaHandler </a>also is necessary to mark a method to be the target of a Kafka message listener within a class that is annotated with @KafkaListener. It is important to understand that when a message arrives, the method selected depends on the payload type. The type is matched with a single non-annotated parameter or one that is annotated with @Payload. There must be no ambiguity – the system must be able to select exactly one method based on the payload type.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate" title="">
package com.BusinessStatisticsUnitFiles.kafka;

import ...

@Component
public class KafkaConsumer {

    @Autowired
    IBusinessEntityRepository businessEntityRepository;

    private static final Logger LOG = LoggerFactory.getLogger(BusinessEntity.class);


    @KafkaListener(topics = "${statistics.kafka.topic.create.entity}", groupId = "statistics-BusinessEntityManagementSystem-group")
    @KafkaHandler
    public void receiveCreatedEntity(@Payload BusinessEntity data,
                                    @Headers MessageHeaders headers) {
     businessEntityRepository.save(RetrieveConsumerFromReceivedProducerObject.Binding(new BusinessEntityModel(), data));
    }
}
</pre></div>


<p class="has-medium-font-size">  The <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/messaging/handler/annotation/Payload.html" target="_blank">@Payload</a> annotation binds a method parameter to the payload of a message. It can also be used to associate a payload to a method invocation. The payload may be passed through a <a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/messaging/converter/MessageConverter.html" target="_blank" rel="noreferrer noopener" aria-label="MessageConverter (opens in a new tab)">MessageConverter</a> to convert it from serialized form with a specific MIME type to an Object matching the target method parameter. Our class annotated with <a rel="noreferrer noopener" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/messaging/handler/annotation/Payload.html" target="_blank">@Payload</a> is the <em>“BusinessEntity”</em> DTO.</p>



<p class="has-medium-font-size">Spring Boot also supports retrieval of one or more message headers using the @Headers annotation in the listener. Multiple listeners can be implemented for a topic, each with a different group Id. Furthermore, one consumer can listen to messages from various topics.</p>



<p class="has-medium-font-size">As you may have noticed, we had created the topic building with only one partition. However, for a topic with multiple partitions, a <em>@KafkaListener</em> can explicitly subscribe to a particular partition of a topic with an initial offset.</p>



<div style="height:20px" aria-hidden="true" class="wp-block-spacer"></div>



<h3 class="wp-block-heading">Application.properties</h3>



<p class="has-medium-font-size">Last but not least in our configuration, we specify some values related to the behavior of communication between Producer and Consumer.</p>



<h4 class="wp-block-heading">Producer/ Consumer  </h4>



<p class="has-medium-font-size">On each Producer and Consumer API, we define the Kafka cluster we want our microservices to connect with, using the spring.kafka.bootstrap-servers=localhost:9092. Also, it is necessary to define the topic name to produce and receive messages, the key as well as the group-id.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: r; title: ; notranslate" title="">
...
## Application.properties Kafka config
spring.kafka.bootstrap-servers=localhost:9092
statistics.kafka.topic=test
statistics.kafka.key=test
statistics.kafka.topic.create.entity=test
spring.kafka.producer.group-id=statistics-BusinessStatisticsUnitFiles-group
spring.kafka.template.default-topic=test
...
</pre></div>


<div style="height:59px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Preparing the Kafka and Zookeeper for Integration Test </h2>



<p class="has-medium-font-size">The steps defined below demonstrate how to run and test Kafka on Windows 10 operating system.</p>



<h3 class="wp-block-heading">Download Kafka with embedded Zookeeper</h3>



<ol><li>Download the <a rel="noreferrer noopener" href="https://kafka.apache.org/downloads" target="_blank">Kafka binaries</a>. This post is based on Kafka 2.3.1, and hence we assume that you are downloading a 2.3.1 version for Scala 2.12.</li><li>Un-zip the <em>kafka_2.12-2.3.1.tgz </em>file.</li></ol>



<h3 class="wp-block-heading">Setting zookeeper.properties</h3>



<p class="has-medium-font-size">To make it work, we need to change the Zookeeper data directory location.<br>Open <em>kafka\config\zookeeper.properties</em> file and change the Zookeeper data /log directory location config to a valid windows directory location.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate" title="">
dataDir=C:\\kafka\\zookeeper-logs
</pre></div>


<h3 class="wp-block-heading">Setting server.properties</h3>



<p class="has-medium-font-size"> We also need to make some changes to the Kafka configurations. Open <em>kafka\config\server.properties</em> and set topic defaults to one. We will be running a single node Kafka. Also to prevent Kafka to create unnecessary numbers of offset, we specify the replicas to 1. We faced this issue on the windows environment with the latest Kafka 2.3.1 version. This lead Kafka to stop because of insufficient memory to handling a bunch of data created automatically on the initial phase of starting the server.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: xml; title: ; notranslate" title="">
############################# Log Basics #############################

log.dirs=C:\\kafka\\kafka-logs

####################### Internal Topic Settings  #####################

offsets.topic.replication.factor=1
offsets.topic.num.partitions = 1 
min.insync.replicas=1 
default.replication.factor = 1
...
</pre></div>


<p class="has-medium-font-size">To finish the Kafka configuration, add Kafka <em>bin\windows</em> directory to the PATH environment variable.</p>



<div style="height:42px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Create and Executing Integration Test</h2>



<p class="has-medium-font-size">As the name suggests, integration tests focus on integrating different layers of the application, where no mocking is involved. The integration tests need to start up a container to execute the test cases. Hence, some additional setup is required for this, but with spring boot these steps are easy using some annotations and libraries.</p>



<h3 class="wp-block-heading">Test Class</h3>



<p class="has-medium-font-size">The first annotation @RunWith(SpringRunner.class) is used to provide a bridge between Spring Boot test features and JUnit. SpringRunner.class enables full support of spring context loading and dependency injection of the beans in the tests. <a rel="noreferrer noopener" aria-label="@SpringBootTest (opens in a new tab)" href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html" target="_blank">@SpringBootTest</a> create ApplicationContext tests through SpringApplication that will be utilized in our tests. It bootstraps the entire container since the embedded server and creates a web environment.</p>



<p class="has-medium-font-size">In our test, we are mimicking the real web environment setting it as RANDOM_PORT that also loads WebServerApplicationContext. The embedded server is started and listen to on a random port.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate" title="">
@RunWith(SpringRunner.class)
@SpringBootTest(classes = {BusinessEntityManagementApplication.class}, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
class BusinessEntityIntegrationTest {

    @LocalServerPort
    private int port;

    @Autowired
    TestRestTemplate restTemplate;
    HttpHeaders headers = new HttpHeaders();
</pre></div>


<p class="has-medium-font-size"><a rel="noreferrer noopener" aria-label="@LocalServerPort (opens in a new tab)" href="https://docs.spring.io/spring-boot/docs/2.0.0.RC1/api/org/springframework/boot/web/server/LocalServerPort.html" target="_blank">@LocalServerPort</a> annotation provides us the injected HTTP port that got allocated at runtime. It is a convenient alternative for <code>@Value("${local.server.port}")</code>. </p>



<p class="has-medium-font-size">To access a third-party REST service inside a Spring application we use the Spring <strong><a rel="noreferrer noopener" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html" target="_blank">RestTemplate</a></strong> or <a href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/web/client/TestRestTemplate.html" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">TestRestTemplate </a>the convenient alternative that is suitable for integration tests by injecting it in our test class. With <strong>spring-boot-starter-test</strong> dependency in our project, we can access to “TestRestTemplate” class in runtime. </p>



<h3 class="wp-block-heading">Test Method</h3>



<p class="has-medium-font-size">In our test method, we are using the “<a rel="noreferrer noopener" aria-label="junit-json-params (opens in a new tab)" href="http://www.joshka.net/junit-json-params/" target="_blank">junit-json-params</a>“, a <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://junit.org/junit5/docs/current/user-guide/" target="_blank">Junit 5</a> library that provides annotations to load data from JSON Strings or files in parameterized tests. We also annotated the method with <a rel="noreferrer noopener" aria-label="@ParameterizedTest (opens in a new tab)" href="https://junit.org/junit5/docs/5.3.0/api/org/junit/jupiter/params/ParameterizedTest.html" target="_blank">@ParameterizedTest</a> annotation to complement the library bellow. It is used to signal the annotated method is a parameterized test method. That method must not be private or static. They also must specify at least one <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://junit.org/junit5/docs/5.3.0/api/org/junit/jupiter/params/provider/ArgumentsProvider.html" target="_blank"><code>ArgumentsProvider</code></a> via <a href="https://junit.org/junit5/docs/5.3.0/api/org/junit/jupiter/params/provider/ArgumentsSource.html"><code>@ArgumentsSource</code></a> or a corresponding composed annotation.</p>



<p class="has-medium-font-size">Our  <a href="https://junit.org/junit5/docs/5.3.0/api/org/junit/jupiter/params/provider/ArgumentsSource.html"><code>@ArgumentsSource</code></a> a JSON file @JsonFileSource(resources = “/business-entity-test-param.json”) is inside the test.resource package.  <code>@JsonFileSource</code> lets you use JSON files from the classpath. It supports single objects, arrays of objects and JSON primitives. </p>



<p class="has-medium-font-size">The JSON object retrieved from the file is bound to the method params “object” that it is converted to a POJO object, in this case, our entity model.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: java; title: ; notranslate" title="">
    @ParameterizedTest
    @JsonFileSource(resources = "/business-entity-test-param.json")
    @DisplayName("create business entity with json parameter")
    void createBusinessEntity(JsonObject object) throws IOException, URISyntaxException {

        BusinessEntityModel businessEntityModel;
        businessEntityModel = new BusinessEntityModel();

        ObjectMapper mapper = new ObjectMapper();
        businessEntityModel = mapper.readValue(object.toString(), BusinessEntityModel.class);

        HttpEntity<BusinessEntityModel> request = new HttpEntity<>(businessEntityModel, headers);

        try {

            ResponseEntity<String> response = this.restTemplate.postForEntity(createURLWithPort("/api/businessEntityManagementSystem/v1/businessEntity"), request, String.class);
            assertAll(
                    () -> assertThat(response.getStatusCodeValue()).isEqualTo(HttpStatus.CREATED.value()),
                    () -> assertThat(response.getHeaders().getLocation().getPath()).contains("/v1")
            );
        }
        catch(HttpClientErrorException ex) {
            assertAll(
                    () -> Assert.assertEquals(HttpStatus.BAD_REQUEST.value(), ex.getRawStatusCode()),
                    () -> Assert.assertEquals(true, ex.getResponseBodyAsString().contains("Missing request header"))
            );
        }
    }
</pre></div>


<p class="has-medium-font-size">After the arrange and acts we assert if our call to the rest API returns the desired result. </p>



<h3 class="wp-block-heading">Run Integration Test</h3>



<div class="wp-block-image"><figure class="alignright size-full"><img decoding="async" width="738" height="508" src="data:image/svg+xml,%3Csvg%20xmlns='https://www.w3.org/2000/svg'%20viewBox='0%200%20738%20508'%3E%3C/svg%3E" data-src="https://www.jeevora.com/wp-content/uploads/2019/11/image-14.png" alt="Intellij Integration test" class="wp-image-1516 lazy" data-srcset="https://jailsonevora.github.io/wp-content/uploads/2019/11/image-14.png 738w, https://jailsonevora.github.io/wp-content/uploads/2019/11/image-14-300x207.png 300w" data-sizes="(max-width: 738px) 100vw, 738px"></figure></div>



<p class="has-medium-font-size">In our development environment, we need to grant that our Kafka and Zookeeper are up and running in two different consoles as described in the figure. </p>



<p class="has-medium-font-size"> Kafka needs Zookeeper, so we will first start Zookeeper using the below command. </p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: bash; title: ; notranslate" title="">
c:\kafka>.\bin\windows\zookeeper-server-start.bat .\config\zookeeper.properties
</pre></div>


<p class="has-medium-font-size"> It should start the zookeeper server. Minimize the command window and let the zookeeper running in that window. Start a new command window and start Kafka Broker using the below command.</p>


<div class="wp-block-syntaxhighlighter-code "><pre class="brush: bash; title: ; notranslate" title="">
 c:\kafka>.\bin\windows\kafka-server-start.bat .\config\server.properties
</pre></div>


<p>Next, we will run our Consumer API in our IDE or we can also deploy it.</p>



<p class="has-medium-font-size">Finally, we can execute the test class as a JUnit test. It will start the server and deploy the API as it will be done normally. Then It will execute the tests. You can verify the tests in JUnit tab.</p>



<div style="height:54px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">Conclusion</h2>



<p class="has-medium-font-size">In this article, we have seen how we can use the publish-subscribe pattern to share data frequently, immediately, reliably, and asynchronously using customizable formats in a responsive way between two distinct microservices and validate it with an integration test through different layers in an end to end scenario.</p>



<div style="height:59px" aria-hidden="true" class="wp-block-spacer"></div>



<h2 class="wp-block-heading">References</h2>



<p>[1] <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://kafka.apache.org/documentation/#uses" target="_blank">Kafka 2.3 Documentation</a>;<br>[2] Gregor Hohpe, Bobby Woolf, Enterprise Integration Patterns Designing, Building, and Deploying Messaging Solutions, 2003;<br>[3] <a rel="noreferrer noopener" aria-label="Spring for Apache Kafka (opens in a new tab)" href="https://spring.io/projects/spring-kafka" target="_blank">Spring for Apache Kafka</a> 2.3.3.</p>
 
					<section class="color-1">
									
			</section>
						
					
			</div>
			

			
			<footer class="entry-footer">
				<span class="cat-links">Posted in <a href="https://jailsonevora.github.io/category/event-driven-architecture/" rel="category tag">Event Driven Architecture</a>, <a href="https://jailsonevora.github.io/category/microservices/" rel="category tag">Microservices</a></span><p class="tags-links">Tagged <a href="https://jailsonevora.github.io/tag/brokers/" rel="tag">Brokers</a>, <a href="https://jailsonevora.github.io/tag/integration-test/" rel="tag">Integration Test</a>, <a href="https://jailsonevora.github.io/tag/junit/" rel="tag">Junit</a>, <a href="https://jailsonevora.github.io/tag/kafka/" rel="tag">Kafka</a>, <a href="https://jailsonevora.github.io/tag/micro-framework/" rel="tag">Micro Framework</a>, <a href="https://jailsonevora.github.io/tag/microservices/" rel="tag">Microservices</a>, <a href="https://jailsonevora.github.io/tag/partition/" rel="tag">Partition</a>, <a href="https://jailsonevora.github.io/tag/publish-subscribe-pattern/" rel="tag">Publish Subscribe pattern</a>, <a href="https://jailsonevora.github.io/tag/queue/" rel="tag">Queue</a>, <a href="https://jailsonevora.github.io/tag/topics/" rel="tag">Topics</a>, <a href="https://jailsonevora.github.io/tag/zookeeper/" rel="tag">Zookeeper</a></p>			</footer>
			

		</div>
	</div>
	


	<nav class="navigation post-navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://jailsonevora.github.io/2019/09/16/key-java-annotations-to-build-spring-boot-rest-api/" rel="prev">Key Java @Annotations to build full Spring Boot Rest API</a></div><div class="nav-next"><a href="https://jailsonevora.github.io/2020/03/31/invoking-secure-wcf-soap-service-using-soap-ui-part1/" rel="next">Invoking Different Secure WCF SOAP Services using SoapUI – Basic Authentication, Part I</a></div></div>
	</nav>
<div id="comments" class="comments-area">

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://jailsonevora.github.io/wordpress/2019/11/18/publish-subscribe-messaging-systems/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://jailsonevora.github.io/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> <span class="required-field-message">Required fields are marked <span class="required">*</span></span></p><p class="comment-form-comment"><label for="comment">Comment <span class="required">*</span></label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" autocomplete="name" required></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" autocomplete="email" required></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" autocomplete="url"></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes"> <label for="wp-comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="1028" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div>
	


</div>

		
	</div>

<div class="clearfix"></div>
    <section class="footer-widget">
                <div class="clearfix"></div>
  	</section>
  	

	</article></main></div>
	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
			<a href="https://wordpress.org/">Proudly powered by WordPress</a>
			<span class="sep"> | </span>
			Theme: portfolioo by <a href="https://asphaltthemes.com/">Asphalt Themes</a>		</div>
		<a href="#" class="scrolltotop"><i class="fa fa-chevron-up"></i></a>
	</footer>
</div>

			
			<div id="fb-root"></div>
			<script>
				(function(d, s, id) {
					var js, fjs = d.getElementsByTagName(s)[0];
					if (d.getElementById(id)) return;
					js = d.createElement(s);
					js.id = id;
					js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
					fjs.parentNode.insertBefore(js, fjs);
				}(document, 'script', 'facebook-jssdk'));
			</script>
		<script>
window.addEventListener('sfsi_functions_loaded', function() {
    if (typeof sfsi_responsive_toggle == 'function') {
        sfsi_responsive_toggle(0);
        // console.log('sfsi_responsive_toggle');

    }
})
</script>
    <script>
        window.addEventListener('sfsi_functions_loaded', function() {
            if (typeof sfsi_plugin_version == 'function') {
                sfsi_plugin_version(2.77);
            }
        });

        function sfsi_processfurther(ref) {
            var feed_id = '';
            var feedtype = 8;
            var email = jQuery(ref).find('input[name="email"]').val();
            var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if ((email != "Enter your email") && (filter.test(email))) {
                if (feedtype == "8") {
                    var url = "https://api.follow.it/subscription-form/" + feed_id + "/" + feedtype;
                    window.open(url, "popupwindow", "scrollbars=yes,width=1080,height=760");
                    return true;
                }
            } else {
                alert("Please enter email address");
                jQuery(ref).find('input[name="email"]').focus();
                return false;
            }
        }
    </script>
    <style type="text/css" aria-selected="true">
        .sfsi_subscribe_Popinner {
            width: 100% !important;

            height: auto !important;

            padding: 18px 0px !important;

            background-color: #ffffff !important;
        }
        .sfsi_subscribe_Popinner form {
            margin: 0 20px !important;
        }
        .sfsi_subscribe_Popinner h5 {
            font-family: Helvetica,Arial,sans-serif !important;

            font-weight: bold !important;

            color: #000000 !important;

            font-size: 16px !important;

            text-align: center !important;
            margin: 0 0 10px !important;
            padding: 0 !important;
        }
        .sfsi_subscription_form_field {
            margin: 5px 0 !important;
            width: 100% !important;
            display: inline-flex;
            display: -webkit-inline-flex;
        }

        .sfsi_subscription_form_field input {
            width: 100% !important;
            padding: 10px 0px !important;
        }

        .sfsi_subscribe_Popinner input[type=email] {
            font-family: Helvetica,Arial,sans-serif !important;

            font-style: normal !important;

            color: #000000 !important;

            font-size: 14px !important;

            text-align: center !important;
        }

        .sfsi_subscribe_Popinner input[type=email]::-webkit-input-placeholder {

            font-family: Helvetica,Arial,sans-serif !important;

            font-style: normal !important;

            color: #000000 !important;

            font-size: 14px !important;

            text-align: center !important;
        }
        .sfsi_subscribe_Popinner input[type=email]:-moz-placeholder {
            /* Firefox 18- */

            font-family: Helvetica,Arial,sans-serif !important;

            font-style: normal !important;

            color: #000000 !important;

            font-size: 14px !important;

            text-align: center !important;

        }

        .sfsi_subscribe_Popinner input[type=email]::-moz-placeholder {
            /* Firefox 19+ */
            font-family: Helvetica,Arial,sans-serif !important;

            font-style: normal !important;

            color: #000000 !important;

            font-size: 14px !important;

            text-align: center !important;

        }

        .sfsi_subscribe_Popinner input[type=email]:-ms-input-placeholder {
            font-family: Helvetica,Arial,sans-serif !important;

            font-style: normal !important;

            color: #000000 !important;

            font-size: 14px !important;

            text-align: center !important;
        }

        .sfsi_subscribe_Popinner input[type=submit] {
            font-family: Helvetica,Arial,sans-serif !important;

            font-weight: bold !important;

            color: #000000 !important;

            font-size: 16px !important;

            text-align: center !important;

            background-color: #dedede !important;
        }

        .sfsi_shortcode_container {
            float: left;
        }

        .sfsi_shortcode_container .norm_row .sfsi_wDiv {
            position: relative !important;
        }

        .sfsi_shortcode_container .sfsi_holders {
            display: none;
        }

            </style>

<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b" id="syntaxhighlighter-core-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJava.js?ver=3.0.9b" id="syntaxhighlighter-brush-java-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushR.js?ver=20100919" id="syntaxhighlighter-brush-r-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.9b" id="syntaxhighlighter-brush-xml-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushBash.js?ver=3.0.9b" id="syntaxhighlighter-brush-bash-js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://jailsonevora.github.io/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://jailsonevora.github.io/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-includes/js/jquery/ui/core.min.js?ver=1.13.2" id="jquery-ui-core-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/plugins/ultimate-social-media-icons/js/shuffle/modernizr.custom.min.js?ver=6.2" id="SFSIjqueryModernizr-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/plugins/ultimate-social-media-icons/js/shuffle/jquery.shuffle.min.js?ver=6.2" id="SFSIjqueryShuffle-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/plugins/ultimate-social-media-icons/js/shuffle/random-shuffle-min.js?ver=6.2" id="SFSIjqueryrandom-shuffle-js"></script>
<script type="text/javascript" id="SFSICustomJs-js-extra">
/* <![CDATA[ */
var sfsi_icon_ajax_object = {"ajax_url":"https:\/\/jailsonevora.github.io\/wp-admin\/admin-ajax.php","plugin_url":"https:\/\/jailsonevora.github.io\/wp-content\/plugins\/ultimate-social-media-icons\/"};
/* ]]> */
</script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/plugins/ultimate-social-media-icons/js/custom.js?ver=2.8.1" id="SFSICustomJs-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/themes/portfolioo/js/sidr.js?ver=0.0.1" id="portfolioo-sidr-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/themes/portfolioo/js/portfolioo.js?ver=0.0.1" id="portfolioo-jquery-js"></script>
<script type="text/javascript" src="https://jailsonevora.github.io/wp-content/themes/portfolioo/js/skip-link-focus-fix.js?ver=20151215" id="portfolioo-skip-link-focus-fix-js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=default&ver=1.3.12" id="mathjax-js"></script>
<script>window.w3tc_lazyload=1,window.lazyLoadOptions={elements_selector:".lazy",callback_loaded:function(t){var e;try{e=new CustomEvent("w3tc_lazyload_loaded",{detail:{e:t}})}catch(a){(e=document.createEvent("CustomEvent")).initCustomEvent("w3tc_lazyload_loaded",!1,!1,{e:t})}window.dispatchEvent(e)}}</script><script async src="https://jailsonevora.github.io/wp-content/plugins/w3-total-cache/pub/js/lazyload.min.js"></script></div></body>
</html>
